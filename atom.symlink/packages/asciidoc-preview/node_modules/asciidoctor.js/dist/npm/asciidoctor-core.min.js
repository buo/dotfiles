module.exports=function(opalParam,xmlHttpRequestParam){var Opal=opalParam||require("opal-npm-wrapper").Opal;if(xmlHttpRequestParam!==!1){var XMLHttpRequest=xmlHttpRequestParam||require("xmlhttprequest").XMLHttpRequest;XMLHttpRequest.prototype.overrideMimeType=function(){}}return{Opal:Opal,Asciidoctor:function(loadExtensions){return function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.module;return function(b,f){function g(){}var h,i,j,k=g=e(b,f,"Set",g),l=k._proto,m=k._scope;return l.hash=c,k.$include(m.Enumerable),a.defs(k,"$[]",function(a){var b=this;return a=d.call(arguments,0),b.$new(a)}),l.$initialize=h=function(a){var b,d,e,f=this,g=h._p,i=g||c;return null==a&&(a=c),h._p=null,f.hash=m.Hash.$new(),(b=a["$nil?"]())===c||b._isBoolean&&1!=b?i!==!1&&i!==c?(b=(d=f).$do_with_enum,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$add(i["$[]"](a))},e._s=f,e),b).call(d,a):f.$merge(a):c},l["$=="]=function(a){var b,d,e,f=this;return(b=f["$equal?"](a))===c||b._isBoolean&&1!=b?(b=a["$instance_of?"](f.$class()))===c||b._isBoolean&&1!=b?(d=a["$is_a?"](m.Set),(b=d!==!1&&d!==c?f.$size()["$=="](a.$size()):d)===c||b._isBoolean&&1!=b?!1:(b=(d=a)["$all?"],b._p=(e=function(a){var b=e._s||this;return null==b.hash&&(b.hash=c),null==a&&(a=c),b.hash["$include?"](a)},e._s=f,e),b).call(d)):f.hash["$=="](a.$instance_variable_get("@hash")):!0},l.$add=function(a){var b=this;return b.hash["$[]="](a,!0),b},a.defn(k,"$<<",l.$add),l["$add?"]=function(a){var b,d=this;return(b=d["$include?"](a))===c||b._isBoolean&&1!=b?d.$add(a):c},l.$each=i=function(){var a,b,d=this,e=i._p,f=e||c;return i._p=null,f===c?d.$enum_for("each"):((a=(b=d.hash).$each_key,a._p=f.$to_proc(),a).call(b),d)},l["$empty?"]=function(){var a=this;return a.hash["$empty?"]()},l.$clear=function(){var a=this;return a.hash.$clear(),a},l["$include?"]=function(a){var b=this;return b.hash["$include?"](a)},a.defn(k,"$member?",l["$include?"]),l.$merge=function(a){var b,d,e,f=this;return(b=(d=f).$do_with_enum,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$add(a)},e._s=f,e),b).call(d,a),f},l.$do_with_enum=j=function(a){var b,d,e=j._p,f=e||c;return j._p=null,(b=(d=a).$each,b._p=f.$to_proc(),b).call(d)},l.$size=function(){var a=this;return a.hash.$size()},a.defn(k,"$length",l.$size),l.$to_a=function(){var a=this;return a.hash.$keys()},c&&"to_a"}(b,null),function(b){var e,g=f(b,"Enumerable"),h=g._proto,i=g._scope;h.$to_set=e=function(a,b){var f,g,h=this,j=e._p,k=j||c;return b=d.call(arguments,1),null==a&&(a=i.Set),e._p=null,(f=(g=a).$new,f._p=k.$to_proc(),f).apply(g,[h].concat(b))},a.donate(g,["$to_set"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module);return function(b){var e=d(b,"Comparable"),f=e._proto,g=e._scope;a.defs(e,"$normalize",function(a){var b;return(b=g.Integer["$==="](a))===c||b._isBoolean&&1!=b?a["$>"](0)?1:a["$<"](0)?-1:0:a}),f["$=="]=function(b){var d,e=this,f=c;try{return(d=e["$equal?"](b))===c||d._isBoolean&&1!=d?(d=f=e["$<=>"](b))===c||d._isBoolean&&1!=d?!1:g.Comparable.$normalize(f)["$=="](0):!0}catch(h){if(a.$rescue(h,[g.StandardError]))return!1;throw h}},f["$>"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$>"](0)},f["$>="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$>="](0)},f["$<"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$<"](0)},f["$<="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$<="](0)},f["$between?"]=function(a,b){var c=this;return c["$<"](a)?!1:c["$>"](b)?!1:!0},a.donate(e,["$==","$>","$>=","$<","$<=","$between?"])}(b)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass,$gvars=$opal.gvars;return function($base,$super){function $String(){}var self=$String=$klass($base,$super,"String",$String),def=self._proto,$scope=self._scope,TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7;return def.length=nil,self.$include($scope.Comparable),def._isString=!0,$opal.defs(self,"$try_convert",function(a){try{return a.$to_str()}catch(b){return nil}}),$opal.defs(self,"$new",function(a){return null==a&&(a=""),new String(a)}),def["$%"]=function(a){var b,c=this;return(b=$scope.Array["$==="](a))===nil||b._isBoolean&&1!=b?c.$format(c,a):(b=c).$format.apply(b,[c].concat(a))},def["$*"]=function(a){var b=this;if(1>a)return"";for(var c="",d=b;a>0;)1&a&&(c+=d),a>>=1,d+=d;return c},def["$+"]=function(a){var b=this;return a=$scope.Opal.$coerce_to(a,$scope.String,"to_str"),b+a.$to_s()},def["$<=>"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))===nil||b._isBoolean&&1!=b){var d=a["$<=>"](c);return d===nil?nil:d>0?-1:0>d?1:0}return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0},def["$=="]=function(a){var b,c=this;return(b=$scope.String["$==="](a))===nil||b._isBoolean&&1!=b?!1:c.$to_s()==a.$to_s()},$opal.defn(self,"$eql?",def["$=="]),$opal.defn(self,"$===",def["$=="]),def["$=~"]=function(a){var b=this;return a._isString&&b.$raise($scope.TypeError,"type mismatch: String given"),a["$=~"](b)},def["$[]"]=function(a,b){var c=this,d=c.length;if(a._isRange){var e=a.exclude,b=a.end,a=a.begin;return 0>a&&(a+=d),0>b&&(b+=d),e||(b+=1),a>d?nil:(b-=a,0>b&&(b=0),c.substr(a,b))}return 0>a&&(a+=c.length),null==b?a>=c.length||0>a?nil:c.substr(a,1):a>c.length||0>a?nil:c.substr(a,b)},def.$capitalize=function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},def.$casecmp=function(a){var b=this;return a=$scope.Opal.$coerce_to(a,$scope.String,"to_str").$to_s(),b.toLowerCase()["$<=>"](a.toLowerCase())},def.$center=function(a,b){var c,d=this;if(null==b&&(b=" "),a=$scope.Opal.$coerce_to(a,$scope.Integer,"to_int"),b=$scope.Opal.$coerce_to(b,$scope.String,"to_str").$to_s(),(c=b["$empty?"]())===nil||c._isBoolean&&1!=c||d.$raise($scope.ArgumentError,"zero width padding"),(c=a<=d.length)!==nil&&(!c._isBoolean||1==c))return d;var e=d.$ljust(a["$+"](d.length)["$/"](2).$ceil(),b),f=d.$rjust(a["$+"](d.length)["$/"](2).$floor(),b);return f+e.slice(d.length)},def.$chars=TMP_1=function(){var a,b,c=this,d=TMP_1._p,e=d||nil;return TMP_1._p=null,e===!1||e===nil?c.$each_char().$to_a():(a=(b=c).$each_char,a._p=e.$to_proc(),a).call(b)},def.$chomp=function(a){var b,c=this;if(null==$gvars["/"]&&($gvars["/"]=nil),null==a&&(a=$gvars["/"]),(b=a===nil||0===c.length)!==nil&&(!b._isBoolean||1==b))return c;if(a=$scope.Opal["$coerce_to!"](a,$scope.String,"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var d=c.substr(c.length-a.length,a.length);if(d===a)return c.substr(0,c.length-a.length)}return c},def.$chop=function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)},def.$chr=function(){var a=this;return a.charAt(0)},def.$clone=function(){var a=this,b=nil;return b=a.slice(),b.$initialize_clone(a),b},def.$dup=function(){var a=this,b=nil;return b=a.slice(),b.$initialize_dup(a),b},def.$count=function(a){var b=this;return(b.length-b.replace(new RegExp(a,"g"),"").length)/a.length},$opal.defn(self,"$dup",def.$clone),def.$downcase=function(){var a=this;return a.toLowerCase()},def.$each_char=TMP_2=function(){var a,b=this,c=TMP_2._p,d=c||nil;if(TMP_2._p=null,d===nil)return b.$enum_for("each_char");for(var e=0,f=b.length;f>e;e++)(a=$opal.$yield1(d,b.charAt(e)))===$breaker?$breaker.$v:a;return b},def.$each_line=TMP_3=function(a){var b,c=this,d=TMP_3._p,e=d||nil;if(null==$gvars["/"]&&($gvars["/"]=nil),null==a&&(a=$gvars["/"]),TMP_3._p=null,e===nil)return c.$split(a);for(var f=c.$chomp(),g=c.length!=f.length,h=f.split(a),i=0,j=h.length;j>i;i++)j-1>i||g?(b=$opal.$yield1(e,h[i]+a))===$breaker?$breaker.$v:b:(b=$opal.$yield1(e,h[i]))===$breaker?$breaker.$v:b;return c},def["$empty?"]=function(){var a=this;return 0===a.length},def["$end_with?"]=function(a){var b=this;a=$slice.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=$scope.Opal.$coerce_to(a[c],$scope.String,"to_str").$to_s();if(b.length>=e.length&&b.substr(b.length-e.length,e.length)==e)return!0}return!1},$opal.defn(self,"$eql?",def["$=="]),$opal.defn(self,"$equal?",def["$==="]),def.$gsub=TMP_4=function(a,b){var c,d,e=this,f=TMP_4._p,g=f||nil;TMP_4._p=null,(c=(d=$scope.String["$==="](a))!==!1&&d!==nil?d:a["$respond_to?"]("to_str"))===nil||c._isBoolean&&1!=c||(a=new RegExp(""+$scope.Regexp.$escape(a.$to_str()))),((c=$scope.Regexp["$==="](a))===nil||c._isBoolean&&1!=c)&&e.$raise($scope.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)");var a=a.toString(),h=a.substr(a.lastIndexOf("/")+1)+"g",i=a.substr(1,a.lastIndexOf("/")-1);return e.$sub._p=g,e.$sub(new RegExp(i,h),b)},def.$hash=function(){var a=this;return a.toString()},def.$hex=function(){var a=this;return a.$to_i(16)},def["$include?"]=function(a){var b,c=this;return a._isString?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===nil||b._isBoolean&&1!=b)&&c.$raise($scope.TypeError,"no implicit conversion of "+a.$class().$name()+" into String"),-1!==c.indexOf(a.$to_str()))},def.$index=function(a,b){var c,d=this,e=nil;if(null==b&&(b=nil),(c=$scope.String["$==="](a))===nil||c._isBoolean&&1!=c?(c=a["$respond_to?"]("to_str"))===nil||c._isBoolean&&1!=c?(c=$scope.Regexp["$==="](a)["$!"]())===nil||c._isBoolean&&1!=c||d.$raise($scope.TypeError,"type mismatch: "+a.$class()+" given"):a=a.$to_str().$to_s():a=a.$to_s(),e=-1,b!==!1&&b!==nil){b=$scope.Opal.$coerce_to(b,$scope.Integer,"to_int");var f=d.length;if(0>b&&(b+=f),b>f)return nil;e=(c=$scope.Regexp["$==="](a))===nil||c._isBoolean&&1!=c?d.substr(b).indexOf(a):(c=a["$=~"](d.substr(b)))!==!1&&c!==nil?c:-1,-1!==e&&(e+=b)}else e=(c=$scope.Regexp["$==="](a))===nil||c._isBoolean&&1!=c?d.indexOf(a):(c=a["$=~"](d))!==!1&&c!==nil?c:-1;return(c=-1===e)===nil||c._isBoolean&&1!=c?e:nil},def.$inspect=function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.lastIndex=0,b.test(a)?'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},def.$intern=function(){var a=this;return a},def.$lines=function(a){var b=this;return null==$gvars["/"]&&($gvars["/"]=nil),null==a&&(a=$gvars["/"]),b.$each_line(a).$to_a()},def.$length=function(){var a=this;return a.length},def.$ljust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=$scope.Opal.$coerce_to(a,$scope.Integer,"to_int"),b=$scope.Opal.$coerce_to(b,$scope.String,"to_str").$to_s(),(c=b["$empty?"]())===nil||c._isBoolean&&1!=c||d.$raise($scope.ArgumentError,"zero width padding"),(c=a<=d.length)!==nil&&(!c._isBoolean||1==c))return d;var e=-1,f="";for(a-=d.length;++e<a;)f+=b;return d+f.slice(0,a)},def.$lstrip=function(){var a=this;return a.replace(/^\s*/,"")},def.$match=TMP_5=function(a,b){var c,d,e=this,f=TMP_5._p,g=f||nil;return TMP_5._p=null,(c=(d=$scope.String["$==="](a))!==!1&&d!==nil?d:a["$respond_to?"]("to_str"))===nil||c._isBoolean&&1!=c||(a=new RegExp(""+$scope.Regexp.$escape(a.$to_str()))),((c=$scope.Regexp["$==="](a))===nil||c._isBoolean&&1!=c)&&e.$raise($scope.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(d=a).$match,c._p=g.$to_proc(),c).call(d,e,b)},def.$next=function(){var a=this;if(0===a.length)return"";var b=a.substr(0,a.length-1),c=String.fromCharCode(a.charCodeAt(a.length-1)+1);return b+c},def.$ord=function(){var a=this;return a.charCodeAt(0)},def.$partition=function(a){var b=this,c=b.split(a),d=c[0].length===b.length?"":a;return[c[0],d,c.slice(1).join(a.toString())]},def.$reverse=function(){var a=this;return a.split("").reverse().join("")},def.$rindex=function(a,b){var c=this,d=null==a?Opal.NilClass:a.constructor;if(d!=String&&d!=RegExp){var e="type mismatch: "+d+" given";c.$raise($scope.TypeError.$new(e))}if(0==c.length)return 0==a.length?0:nil;var f=-1;return null!=b?(0>b&&(b=c.length+b),d==String?f=c.lastIndexOf(a,b):(f=c.substr(0,b+1).$reverse().search(a),-1!==f&&(f=b-f))):d==String?f=c.lastIndexOf(a):(f=c.$reverse().search(a),-1!==f&&(f=c.length-1-f)),-1===f?nil:f},def.$rjust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=$scope.Opal.$coerce_to(a,$scope.Integer,"to_int"),b=$scope.Opal.$coerce_to(b,$scope.String,"to_str").$to_s(),(c=b["$empty?"]())===nil||c._isBoolean&&1!=c||d.$raise($scope.ArgumentError,"zero width padding"),(c=a<=d.length)!==nil&&(!c._isBoolean||1==c))return d;var e=Math.floor(a-d.length),f=Math.floor(e/b.length),g=Array(f+1).join(b),h=e-g.length;return g+b.slice(0,h)+d},def.$rstrip=function(){var a=this;return a.replace(/\s*$/,"")},def.$scan=TMP_6=function(a){var b=this,c=TMP_6._p,d=c||nil;TMP_6._p=null,a.global?a.lastIndex=0:a=new RegExp(a.source,"g"+(a.multiline?"m":"")+(a.ignoreCase?"i":""));for(var e,f=[];null!=(e=a.exec(b));){{$scope.MatchData.$new(a,e)}d===nil?f.push(1==e.length?e[0]:e.slice(1)):1==e.length?d(e[0]):d.apply(b,e.slice(1))}return d!==nil?b:f},$opal.defn(self,"$size",def.$length),$opal.defn(self,"$slice",def["$[]"]),def.$split=function(pattern,limit){var self=this,$a;null==$gvars[";"]&&($gvars[";"]=nil),null==pattern&&(pattern=($a=$gvars[";"])!==!1&&$a!==nil?$a:" "),(pattern===nil||void 0===pattern)&&(pattern=$gvars[";"]);var result=[];if(void 0!==limit&&(limit=$scope.Opal["$coerce_to!"](limit,$scope.Integer,"to_int")),0===self.length)return[];if(1===limit)return[self];if(pattern&&pattern._isRegexp){var pattern_str=pattern.toString(),blank_pattern="/^/"==pattern_str.substr(0,3)||"/(?:)/"==pattern_str.substr(0,6);if(void 0===limit||0===limit)result=self.split(blank_pattern?/(?:)/:pattern);else{pattern.global||(pattern=eval(pattern_str+"g"));var match_data,prev_index=0;for(pattern.lastIndex=0;null!==(match_data=pattern.exec(self));){var segment=self.slice(prev_index,match_data.index);if(result.push(segment),prev_index=pattern.lastIndex,0===match_data[0].length){blank_pattern&&(pattern=/(?:)/),result=self.split(pattern),void 0!==limit&&0>limit&&blank_pattern&&result.push(""),prev_index=void 0;break}if(void 0!==limit&&limit>1&&result.length+1==limit)break}void 0!==prev_index&&result.push(self.slice(prev_index,self.length))}}else{var splitted=0,start=0,lim=0;pattern=pattern===nil||void 0===pattern?" ":$scope.Opal.$try_convert(pattern,$scope.String,"to_str").$to_s();for(var string=" "==pattern?self.replace(/[\r\n\t\v]\s+/g," "):self,cursor=-1;(cursor=string.indexOf(pattern,start))>-1&&cursor<string.length&&splitted+1!==limit;)" "!=pattern||cursor!=start?(result.push(string.substr(start,pattern.length?cursor-start:1)),splitted++,start=cursor+(pattern.length?pattern.length:1)):start=cursor+1;string.length>0&&(0>limit||string.length>start)&&result.push(string.length==start?"":string.substr(start,string.length))}if(void 0===limit||0===limit)for(;""===result[result.length-1];)result.length=result.length-1;if(limit>0){var tail=result.slice(limit-1).join("");result.splice(limit-1,result.length-1,tail)}return result},def.$squeeze=function(a){var b=this;if(a=$slice.call(arguments,0),0===a.length)return b.replace(/(.)\1+/g,"$1");for(var c=$scope.Opal.$coerce_to(a[0],$scope.String,"to_str").$chars(),d=1,e=a.length;e>d;d++)c=c["$&"]($scope.Opal.$coerce_to(a[d],$scope.String,"to_str").$chars());return 0===c.length?b:b.replace(new RegExp("(["+$scope.Regexp.$escape(c.$join())+"])\\1+","g"),"$1")},def["$start_with?"]=function(a){var b=this;a=$slice.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=$scope.Opal.$coerce_to(a[c],$scope.String,"to_str").$to_s();if(0===b.indexOf(e))return!0}return!1},def.$strip=function(){var a=this;return a.replace(/^\s*/,"").replace(/\s*$/,"")},def.$sub=TMP_7=function(a,b){var c=this,d=TMP_7._p,e=d||nil;return TMP_7._p=null,"string"==typeof b?(b=b.replace(/\\([1-9])/g,"$$$1"),c.replace(a,b)):e!==nil?c.replace(a,function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=arguments[b];a.push(void 0==d?nil:d)}a.pop(),a.pop(),a.length;return $gvars["&"]=a[0],$gvars["~"]=a,e(a[0])}):void 0!==b?b["$is_a?"]($scope.Hash)?c.replace(a,function(){var a=b["$[]"](c.$str());return null==a?nil:c.$value().$to_s()}):(b=$scope.String.$try_convert(b),null==b&&c.$raise($scope.TypeError,"can't convert "+b.$class()+" into String"),c.replace(a,b)):(b=b.toString().replace(/\\([1-9])/g,"$$$1"),c.replace(a,b))},$opal.defn(self,"$succ",def.$next),def.$sum=function(a){var b=this;null==a&&(a=16);for(var c=0,d=0,e=b.length;e>d;d++)c+=b.charCodeAt(d)%((1<<a)-1);return c},def.$swapcase=function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)},def.$to_f=function(){var a=this;if("_"===a.charAt(0))return 0;var b=parseFloat(a.replace(/_/g,""));return isNaN(b)||1/0==b||b==-1/0?0:b},def.$to_i=function(a){var b=this;null==a&&(a=10);var c=parseInt(b,a);return isNaN(c)?0:c},def.$to_proc=function(){var a,b,c,d=this;return(a=(b=d).$proc,a._p=(c=function(a,b){var d,e=c._s||this;return null==a&&(a=nil),b=$slice.call(arguments,1),(d=a).$send.apply(d,[e].concat(b))},c._s=d,c),a).call(b)},def.$to_s=function(){var a=this;return a.toString()},$opal.defn(self,"$to_str",def.$to_s),$opal.defn(self,"$to_sym",def.$intern),def.$tr=function(a,b){var c=this;if(0==a.length||a===b)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",n=0,x=c.length;x>n;n++){var o=c.charAt(n),y=d[o];w+=i?null==y?j:o:null!=y?y:o}return w},def.$tr_s=function(a,b){var c=this;if(0==a.length)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",x=null,n=0,y=c.length;y>n;n++){var o=c.charAt(n),z=d[o];i?null==z?null==x&&(w+=j,x=!0):(w+=o,x=null):null!=z?(null==x||x!==z)&&(w+=z,x=z):(w+=o,x=null)}return w},def.$upcase=function(){var a=this;return a.toUpperCase()},def.$freeze=function(){var a=this;return a},def["$frozen?"]=function(){return!0},nil&&"frozen?"}(self,null),$opal.cdecl($scope,"Symbol",$scope.String)}(Opal),function(a){var b,c,d,e,f,g,h,i=a.top,j=a,k=a.nil,l=a.breaker,m=(a.slice,a.klass),n=a.hash2;return function(b,c){function d(){}var e,f=d=m(b,c,"Encoding",d),g=f._proto,h=f._scope;return g.ascii=g.dummy=g.name=k,a.defs(f,"$register",e=function(a,b){var c,d,f,g,i=this,j=e._p,l=j||k,m=k,o=k;return null==b&&(b=n([],{})),e._p=null,m=[a]["$+"]((c=b["$[]"]("aliases"))!==!1&&c!==k?c:[]),o=(c=(d=h.Class).$new,c._p=l.$to_proc(),c).call(d,i).$new(a,m,(c=b["$[]"]("ascii"))!==!1&&c!==k?c:!1,(c=b["$[]"]("dummy"))!==!1&&c!==k?c:!1),(c=(f=m).$each,c._p=(g=function(a){var b=g._s||this;return null==a&&(a=k),b.$const_set(a.$sub("-","_"),o)},g._s=i,g),c).call(f)}),a.defs(f,"$find",function(b){try{var c,d,e,f=this;return(c=f["$==="](b))===k||c._isBoolean&&1!=c?((c=(d=f.$constants()).$each,c._p=(e=function(c){var d,f,g=e._s||this,h=k;return null==c&&(c=k),h=g.$const_get(c),(d=(f=h.$name()["$=="](b))!==!1&&f!==k?f:h.$names()["$include?"](b))===k||d._isBoolean&&1!=d?k:void a.$return(h)},e._s=f,e),c).call(d),f.$raise(h.ArgumentError,"unknown encoding name - "+b)):b}catch(g){if(g===a.returner)return g.$v;throw g}}),function(a){a._scope,a._proto;return a.$attr_accessor("default_external")}(f.$singleton_class()),f.$attr_reader("name","names"),g.$initialize=function(a,b,c,d){var e=this;return e.name=a,e.names=b,e.ascii=c,e.dummy=d},g["$ascii_compatible?"]=function(){var a=this;return a.ascii},g["$dummy?"]=function(){var a=this;return a.dummy},g.$to_s=function(){var a=this;return a.name},g.$inspect=function(){var a,b=this;return"#<Encoding:"+b.name+function(){return(a=b.dummy)===k||a._isBoolean&&1!=a?k:" (dummy)"}()+">"},g.$each_byte=function(){var a=this;return a.$raise(h.NotImplementedError)},g.$getbyte=function(){var a=this;return a.$raise(h.NotImplementedError)},g.$bytesize=function(){var a=this;return a.$raise(h.NotImplementedError)},k&&"bytesize"}(i,null),(b=(c=j.Encoding).$register,b._p=(d=function(){var b,c=d._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);if(127>=i)(d=a.$yield1(f,i))===l?l.$v:d;else for(var j=encodeURIComponent(c.charAt(g)).substr(1).split("%"),m=0,n=j.length;n>m;m++)(d=a.$yield1(f,parseInt(j[m],16)))===l?l.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k&&"bytesize"},d._s=i,d),b).call(c,"UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(b=(e=j.Encoding).$register,b._p=(f=function(){var b,c=f._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);(d=a.$yield1(f,255&i))===l?l.$v:d,(d=a.$yield1(f,i>>8))===l?l.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k&&"bytesize"},f._s=i,f),b).call(e,"UTF-16LE"),(b=(g=j.Encoding).$register,b._p=(h=function(){var b,c=h._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++)(d=a.$yield1(f,255&c.charCodeAt(g)))===l?l.$v:d}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k&&"bytesize"},h._s=i,h),b).call(g,"ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(a,b){function c(){}var d,e=c=m(a,b,"String",c),f=e._proto,g=e._scope;return f.encoding=k,f.encoding=g.Encoding._scope.UTF_16LE,f.$bytes=function(){var a=this;return a.$each_byte().$to_a()},f.$bytesize=function(){var a=this;return a.encoding.$bytesize(a)},f.$each_byte=d=function(){var a,b,c=this,e=d._p,f=e||k;return d._p=null,f===k?c.$enum_for("each_byte"):((a=(b=c.encoding).$each_byte,a._p=f.$to_proc(),a).call(b,c),c)},f.$encoding=function(){var a=this;return a.encoding},f.$force_encoding=function(a){var b=this;if(a=g.Encoding.$find(a),a["$=="](b.encoding))return b;var c=new String(b);return c.encoding=a,c},f.$getbyte=function(a){var b=this;return b.encoding.$getbyte(b,a)},k&&"getbyte"}(i,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}{var g=f=d(b,e,"StringScanner",f),h=g._proto;g._scope}return h.pos=h.string=h.working=h.prev_pos=h.matched=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),h.$initialize=function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]},h["$bol?"]=function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)},h.$scan=function(a){var b=this,a=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c},h["$[]"]=function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:d[a]},h.$check=function(a){var b=this,d=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),e=d.exec(b.working);return b.matched=null==e?c:e[0]},h.$peek=function(a){var b=this;return b.working.substring(0,a)},h["$eos?"]=function(){var a=this;return 0===a.working.length},h.$skip=function(a){var b=this;a=new RegExp("^"+a.source);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f},h.$get_byte=function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b},a.defn(g,"$getch",h.$get_byte),h["$pos="]=function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)},h.$rest=function(){var a=this;return a.working},h.$terminate=function(){var a=this;return a.match=c,a["$pos="](a.string.$length())},h.$unscan=function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a},c&&"unscan"}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module);return function(b){var e=d(b,"Comparable"),f=e._proto,g=e._scope;f["$=="]=function(b){var d,e=this,f=c;try{return(d=e["$equal?"](b))===c||d._isBoolean&&1!=d?(d=f=e["$<=>"](b))===c||d._isBoolean&&1!=d?!1:0==f:!0}catch(h){if(a.$rescue(h,[g.StandardError]))return!1;throw h}},f["$>"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>0},f["$>="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>=0},f["$<"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>e},f["$<="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b._isBoolean&&1!=b)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>=e},a.donate(e,["$==","$>","$>=","$<","$<="])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(g._proto,g._scope);return a.defs(g,"$pwd",function(){var a;return(a=h.ENV["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$getwd",function(){var a;return(a=h.ENV["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$home",function(){return h.ENV["$[]"]("HOME")}),c&&"home"}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}{var f=c=e(a,b,"SecurityError",c);f._proto,f._scope}return d}(b,c.Exception)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass,g=a.gvars,h=a.range;return function(b,g){function h(){}var i,j=h=f(b,g,"Kernel",h),k=j._proto,l=j._scope;return k.$open=i=function(b,f){var g,h,j=i._p,k=j||c,m=c;return f=e.call(arguments,1),i._p=null,m=(g=l.File).$new.apply(g,[b].concat(f)),k!==c?(h=a.$yield1(k,m),h===d?h:h):m},c&&"open"}(b,null),function(b,i){function j(){}var k,l=j=f(b,i,"File",j),m=l._proto,n=l._scope;return m.eof=m.path=c,a.cdecl(n,"SEPARATOR","/"),a.cdecl(n,"ALT_SEPARATOR",c),l.$attr_reader("eof"),l.$attr_reader("lineno"),l.$attr_reader("path"),m.$initialize=function(a,b){var d=this;return null==b&&(b="r"),d.path=a,d.contents=c,d.eof=!1,d.lineno=0},m.$read=function(){var a,b=this,d=c;return(a=b.eof)===c||a._isBoolean&&1!=a?(d=n.File.$read(b.path),b.eof=!0,b.lineno=d.$size(),d):""},m.$each_line=k=function(b){var e,f=this,h=k._p,i=h||c,j=c;if(null==g["/"]&&(g["/"]=c),null==b&&(b=g["/"]),k._p=null,(e=f.eof)!==c&&(!e._isBoolean||1==e))return function(){return i!==c?f:[].$to_enum()}();if(i!==c){j=n.File.$read(f.path),f.eof=!1,f.lineno=0;for(var l=j.$chomp(),m=j.length!=l.length,o=l.split(b),p=0,q=o.length;q>p;p++)f.lineno+=1,q-1>p||m?(e=a.$yield1(i,o[p]+b))===d?d.$v:e:(e=a.$yield1(i,o[p]))===d?d.$v:e;return f.eof=!0,f}return f.$read().$each_line()},a.defs(l,"$expand_path",function(a){return a}),a.defs(l,"$join",function(a){return a=e.call(arguments,0),a["$*"](n.SEPARATOR)}),a.defs(l,"$basename",function(a){var b,d=c;return(b=d=a.$rindex(n.SEPARATOR))===c||b._isBoolean&&1!=b?a:a["$[]"](h(d["$+"](1),-1,!1))}),a.defs(l,"$dirname",function(a){var b,d=c;return(b=d=a.$rindex(n.SEPARATOR))===c||b._isBoolean&&1!=b?".":a["$[]"](h(0,d["$-"](1),!1))}),a.defs(l,"$extname",function(a){var b,d=c;return(b=a["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?(d=a["$[]"](h(1,-1,!1)).$rindex("."),(b=d["$nil?"]())===c||b._isBoolean&&1!=b?a["$[]"](h(d["$+"](1),-1,!1)):""):""}),a.defs(l,"$file?",function(){return!0}),a.defs(l,"$read",function(a){var b=c;return function(){if(b=n.JAVASCRIPT_PLATFORM,"node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=Java.type("java.nio.file.Files"),e=d.readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8),f=[];return e.forEach(function(a){f.push(a)}),f.join("\n")}if("browser"["$==="](b)){var f="",g=-1;try{var h=new XMLHttpRequest;h.open("GET",a,!1),h.addEventListener("load",function(){g=this.status,(0==g||200==g)&&(f=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(i){g=0}if(404==g||0==g&&""==f)throw n.IOError.$new("No such file or directory: "+a);return f}return"standalone"["$==="](b)?read(a):""}()}),c&&"read"}(b,null)}(Opal),function(a){{var b,c=(a.top,a);a.nil,a.breaker,a.slice}return b="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof XMLHttpRequest?"browser":"undefined"!=typeof Java&&Java.type?"java-nashorn":"undefined"!=typeof java?"java-rhino":"standalone",a.cdecl(c,"JAVASCRIPT_PLATFORM",b),!0}(Opal),function(a){var b=a.top,c=(a.nil,a.breaker,a.slice,a.module);return function(b){var d=c(b,"Asciidoctor"),e=(d._proto,d._scope);a.cdecl(e,"VERSION","1.5.2")}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.gvars;return function(b){{var h=d(b,"Asciidoctor");h._proto,h._scope}!function(b,d){function h(){}{var i=h=e(b,d,"Timings",h),j=i._proto;i._scope}return j.timers=j.log=c,j.$initialize=function(){var a=this;return a.log=f([],{}),a.timers=f([],{})},j.$start=function(b){var c,d=this;return d.timers["$[]="](b,(null==(c=a.Object._scope.Time)?a.cm("Time"):c).$now())},j.$record=function(b){var c,d=this;return d.log["$[]="](b,(null==(c=a.Object._scope.Time)?a.cm("Time"):c).$now()["$-"](d.timers.$delete(b)))},j.$read_parse=function(){var a,b=this,d=c;return(d=((a=b.log["$[]"]("read"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("parse"))!==!1&&a!==c?a:0))["$>"](0)?d:c},j.$convert=function(){var a,b=this;return(a=b.log["$[]"]("convert"))!==!1&&a!==c?a:0},j.$read_parse_convert=function(){var a,b=this,d=c;return(d=((a=b.log["$[]"]("read"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("parse"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("convert"))!==!1&&a!==c?a:0))["$>"](0)?d:c},j.$total=function(){var a,b=this,d=c;return(d=((a=b.log["$[]"]("read"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("parse"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("convert"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("write"))!==!1&&a!==c?a:0))["$>"](0)?d:c
},j.$print_report=function(a,b){var d=this;return null==g.stdout&&(g.stdout=c),null==a&&(a=g.stdout),null==b&&(b=c),b!==!1&&b!==c&&a.$puts("Input file: "+b),a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](d.$read_parse().$to_i())),a.$puts("  Time to convert document: "+"%05.5f"["$%"](d.$convert().$to_i())),a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](d.$read_parse_convert().$to_i()))},c&&"print_report"}(h,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}{var g,h=f=d(b,e,"NilClass",f),i=h._proto;h._scope}return(g=h["$respond_to?"]("nil_or_empty?"))===c||g._isBoolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$nil?"]):c}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"String",f),i=h._proto;h._scope}return(g=h["$respond_to?"]("nil_or_empty?"))===c||g._isBoolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$empty?"]):c}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"Array",f),i=h._proto;h._scope}return(g=h["$respond_to?"]("nil_or_empty?"))===c||g._isBoolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$empty?"]):c}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"Hash",f),i=h._proto;h._scope}return(g=h["$respond_to?"]("nil_or_empty?"))===c||g._isBoolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$empty?"]):c}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"Numeric",f),i=h._proto;h._scope}return(g=h["$respond_to?"]("nil_or_empty?"))===c||g._isBoolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$nil?"]):c}(b,null)}(Opal),function(a){{var b=(a.top,a),c=a.nil;a.breaker,a.slice}return b.RUBY_ENGINE["$=="]("opal")?c:void 0}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.range,f=a.gvars;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b){var g=d(b,"Helpers"),h=(g._proto,g._scope);a.defs(g,"$require_library",function(b,d){var e,f=this,g=c;null==d&&(d=!0);try{return!0}catch(h){if(a.$rescue(h,[null==(e=a.Object._scope.LoadError)?a.cm("LoadError"):e]))return g=h,f.$fail(d!==!1&&d!==c?"asciidoctor: FAILED: required gem '"+function(){return d["$=="](!0)?b:d}()+"' is not installed. Processing aborted.":"asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted.");throw h}}),a.defs(g,"$normalize_lines",function(b){var c,d=this;return b.$class()["$=="](null==(c=a.Object._scope.String)?a.cm("String"):c)?d.$normalize_lines_from_string(b):d.$normalize_lines_array(b)}),a.defs(g,"$normalize_lines_array",function(b){var d,f,g,i,j,k,l,m,n,o=this,p=c,q=c,r=c,s=c;return(d=b["$empty?"]())===c||d._isBoolean&&1!=d?(p=(q=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a(),(d=h.COERCE_ENCODING)===c||d._isBoolean&&1!=d?(p["$=="](h.BOM_BYTES_UTF_8)&&b["$[]="](0,q["$[]"](e(3,-1,!1))),(d=(m=b).$map,d._p=(n=function(a){n._s||this;return null==a&&(a=c),a.$rstrip()},n._s=o,n),d).call(m)):(r=(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8,(s=p["$[]"](e(0,1,!1)))["$=="](h.BOM_BYTES_UTF_16LE)?(d=(f=b.$join().$force_encoding((null==(i=a.Object._scope.Encoding)?a.cm("Encoding"):i)._scope.UTF_16LE)["$[]"](e(1,-1,!1)).$encode(r).$lines()).$map,d._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$rstrip()},g._s=o,g),d).call(f):s["$=="](h.BOM_BYTES_UTF_16BE)?(b["$[]="](0,q.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE)["$[]"](e(1,-1,!1))),(d=(i=b).$map,d._p=(j=function(b){{var d;j._s||this}return null==b&&(b=c),""+b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE).$encode(r).$rstrip()},j._s=o,j),d).call(i)):(p["$[]"](e(0,2,!1))["$=="](h.BOM_BYTES_UTF_8)&&b["$[]="](0,q.$force_encoding(r)["$[]"](e(1,-1,!1))),(d=(k=b).$map,d._p=(l=function(a){l._s||this;return null==a&&(a=c),a.$encoding()["$=="](r)?a.$rstrip():a.$force_encoding(r).$rstrip()},l._s=o,l),d).call(k)))):[]}),a.defs(g,"$normalize_lines_from_string",function(b){var d,f,g,i=this,j=c,k=c,l=c;return(d=b["$nil_or_empty?"]())===c||d._isBoolean&&1!=d?((d=h.COERCE_ENCODING)===c||d._isBoolean&&1!=d?b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](h.BOM_BYTES_UTF_8)&&(b=b["$[]"](e(3,-1,!1))):(j=(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8,k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(l=k["$[]"](e(0,1,!1)))["$=="](h.BOM_BYTES_UTF_16LE)?b=b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16LE)["$[]"](e(1,-1,!1)).$encode(j):l["$=="](h.BOM_BYTES_UTF_16BE)?b=b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE)["$[]"](e(1,-1,!1)).$encode(j):k["$[]"](e(0,2,!1))["$=="](h.BOM_BYTES_UTF_8)?b=function(){return b.$encoding()["$=="](j)?b["$[]"](e(1,-1,!1)):b.$force_encoding(j)["$[]"](e(1,-1,!1))}():b.$encoding()["$=="](j)||(b=b.$force_encoding(j))),(d=(f=b.$each_line()).$map,d._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$rstrip()},g._s=i,g),d).call(f)):[]}),a.cdecl(h,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),a.defs(g,"$encode_uri",function(a){var b,d,e,g=this;return(b=(d=a).$gsub,b._p=(e=function(){var a,b,d,g=e._s||this;return null==f["&"]&&(f["&"]=c),(a=(b=f["&"].$each_byte()).$map,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),b.$sprintf("%%%02X",a)},d._s=g,d),a).call(b).$join()},e._s=g,e),b).call(d,h.REGEXP_ENCODE_URI_CHARS)}),a.defs(g,"$rootname",function(b){var d,f,g=c;return(d=(g=(null==(f=a.Object._scope.File)?a.cm("File"):f).$extname(b))["$empty?"]())===c||d._isBoolean&&1!=d?b["$[]"](e(0,g.$length()["$-@"](),!0)):b}),a.defs(g,"$mkdir_p",function(b){var d,e,f,g=this,h=c;return(d=(null==(e=a.Object._scope.File)?a.cm("File"):e)["$directory?"](b))===c||d._isBoolean&&1!=d?(h=(null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(b),e=(null==(f=a.Object._scope.File)?a.cm("File"):f)["$directory?"](h=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(b))["$!"](),(d=e!==!1&&e!==c?h["$=="](".")["$!"]():e)===c||d._isBoolean&&1!=d||g.$mkdir_p(h),(null==(d=a.Object._scope.Dir)?a.cm("Dir"):d).$mkdir(b)):c})}(g)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.hash2,h=a.gvars,i=a.range;return function(b){{var j=f(b,"Asciidoctor");j._proto,j._scope}!function(b){var j=f(b,"Substitutors"),k=j._proto,l=j._scope;a.cdecl(l,"SPECIAL_CHARS",g(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),a.cdecl(l,"SPECIAL_CHARS_PATTERN",new RegExp("["+l.SPECIAL_CHARS.$keys().$join()+"]")),a.cdecl(l,"SUBS",g(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),a.cdecl(l,"COMPOSITE_SUBS",g(["none","normal","verbatim","specialchars"],{none:[],normal:l.SUBS["$[]"]("normal"),verbatim:l.SUBS["$[]"]("verbatim"),specialchars:["specialcharacters"]})),a.cdecl(l,"SUB_SYMBOLS",g(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),a.cdecl(l,"SUB_OPTIONS",g(["block","inline"],{block:l.COMPOSITE_SUBS.$keys()["$+"](l.SUBS["$[]"]("normal"))["$+"](["callouts"]),inline:l.COMPOSITE_SUBS.$keys()["$+"](l.SUBS["$[]"]("normal"))})),a.cdecl(l,"SUB_HIGHLIGHT",["coderay","pygments"]),a.cdecl(l,"PASS_START",""),a.cdecl(l,"PASS_END",""),a.cdecl(l,"PASS_MATCH",/\u0096(\d+)\u0097/),a.cdecl(l,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),j.$attr_reader("passthroughs"),k.$apply_subs=function(b,d,e){var f,g,h,i,j,k=this,m=c,n=c,o=c,p=c;return null==k.passthroughs&&(k.passthroughs=c),null==d&&(d="normal"),null==e&&(e=!1),(f=d["$!"]())===c||f._isBoolean&&1!=f?(d["$=="]("normal")?d=l.SUBS["$[]"]("normal"):e!==!1&&e!==c&&((f=d["$is_a?"](null==(g=a.Object._scope.Symbol)?a.cm("Symbol"):g))===c||f._isBoolean&&1!=f?(m=[],(f=(g=d).$each,f._p=(h=function(a){{var b;h._s||this}return null==a&&(a=c),(b=l.COMPOSITE_SUBS["$has_key?"](a))===c||b._isBoolean&&1!=b?m["$<<"](a):m=m["$+"](l.COMPOSITE_SUBS["$[]"](a))},h._s=k,h),f).call(g),d=m):d=(f=l.COMPOSITE_SUBS["$[]"](d))!==!1&&f!==c?f:[d]),(f=d["$empty?"]())===c||f._isBoolean&&1!=f?(n=function(){return(f=o=b["$is_a?"](null==(i=a.Object._scope.Array)?a.cm("Array"):i))===c||f._isBoolean&&1!=f?b:b["$*"](l.EOL)}(),(f=p=d["$include?"]("macros"))===c||f._isBoolean&&1!=f||(n=k.$extract_passthroughs(n),(f=k.passthroughs["$empty?"]())===c||f._isBoolean&&1!=f||(p=!1)),(f=(i=d).$each,f._p=(j=function(a){var b,e=j._s||this,f=c;return null==a&&(a=c),function(){return f=a,"specialcharacters"["$==="](f)?n=e.$sub_specialcharacters(n):"quotes"["$==="](f)?n=e.$sub_quotes(n):"attributes"["$==="](f)?n=e.$sub_attributes(n.$split(l.EOL))["$*"](l.EOL):"replacements"["$==="](f)?n=e.$sub_replacements(n):"macros"["$==="](f)?n=e.$sub_macros(n):"highlight"["$==="](f)?n=e.$highlight_source(n,d["$include?"]("callouts")):"callouts"["$==="](f)?(b=d["$include?"]("highlight"))===c||b._isBoolean&&1!=b?n=e.$sub_callouts(n):c:"post_replacements"["$==="](f)?n=e.$sub_post_replacements(n):e.$warn("asciidoctor: WARNING: unknown substitution type "+a)}()},j._s=k,j),f).call(i),p!==!1&&p!==c&&(n=k.$restore_passthroughs(n)),o!==!1&&o!==c?n.$split(l.EOL):n):b):b},k.$apply_normal_subs=function(b){var d,e,f=this;return f.$apply_subs(function(){return(d=b["$is_a?"](null==(e=a.Object._scope.Array)?a.cm("Array"):e))===c||d._isBoolean&&1!=d?b:b["$*"](l.EOL)}())},k.$apply_title_subs=function(a){var b=this;return b.$apply_subs(a,l.SUBS["$[]"]("title"))},k.$apply_header_subs=function(a){var b=this;return b.$apply_subs(a,l.SUBS["$[]"]("header"))},k.$extract_passthroughs=function(b){var d,e,f,j,k,m,n,o,p=this,q=c,r=c,s=c,t=c;return null==p.document&&(p.document=c),q=p.document.$compat_mode(),(d=(e=(f=b["$include?"]("++"))!==!1&&f!==c?f:b["$include?"]("$$"))!==!1&&e!==c?e:b["$include?"]("ss:"))===c||d._isBoolean&&1!=d||(b=(d=(e=b).$gsub,d._p=(j=function(){var b,d,e=j._s||this,f=c,k=c,m=c,n=c,o=c,p=c,r=c,s=c,t=c;if(null==e.passthroughs&&(e.passthroughs=c),null==h["~"]&&(h["~"]=c),f=h["~"],k=c,(b=(m=f["$[]"](4))["$nil_or_empty?"]())===c||b._isBoolean&&1!=b){if((b=(d=q!==!1&&q!==c)?m["$=="]("++"):d)!==c&&(!b._isBoolean||1==b))return function(){return(b=f["$[]"](2)["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?""+f["$[]"](1)+"["+f["$[]"](2)+"]"+f["$[]"](3)+"++"+e.$extract_passthroughs(f["$[]"](5))+"++":""+f["$[]"](1)+f["$[]"](3)+"++"+e.$extract_passthroughs(f["$[]"](5))+"++"}();if(o=f["$[]"](2),(b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===c||b._isBoolean&&1!=b||o["$=="]("")&&(o=c),p=f["$[]"](3).$size(),r=f["$[]"](5),s=!1,o!==!1&&o!==c){if(p["$>"](0))return""+f["$[]"](1)+"["+o+"]"+"\\"["$*"](p["$-"](1))+m+f["$[]"](5)+m+")";f["$[]"](1)["$=="]("\\")?(k="["+o+"]",o=c):((b=(d=m["$=="]("++"))?o["$end_with?"]("x-"):d)===c||b._isBoolean&&1!=b||(s=!0,o=o["$[]"](i(0,-2,!0))),o=e.$parse_attributes(o))}else if(p["$>"](0))return""+f["$[]"](1)+"["+o+"]"+"\\"["$*"](p["$-"](1))+m+f["$[]"](5)+m;t=function(){return m["$=="]("+++")?[]:["specialcharacters"]}(),n=e.passthroughs.$size(),o!==!1&&o!==c?s!==!1&&s!==c?e.passthroughs["$[]="](n,g(["text","subs","type","attributes"],{text:r,subs:l.SUBS["$[]"]("normal"),type:"monospaced",attributes:o})):e.passthroughs["$[]="](n,g(["text","subs","type","attributes"],{text:r,subs:t,type:"unquoted",attributes:o})):e.passthroughs["$[]="](n,g(["text","subs"],{text:r,subs:t}))}else{if(f["$[]"](6)["$=="]("\\"))return f["$[]"](0)["$[]"](i(1,-1,!1));e.passthroughs["$[]="](n=e.passthroughs.$size(),g(["text","subs"],{text:e.$unescape_brackets(f["$[]"](8)),subs:function(){return(b=f["$[]"](7)["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?e.$resolve_pass_subs(f["$[]"](7)):[]}()}))}return""+k+l.PASS_START+n+l.PASS_END},j._s=p,j),d).call(e,l.PassInlineMacroRx)),d=a.to_ary(l.PassInlineRx["$[]"](q)),r=null==d[0]?c:d[0],s=null==d[1]?c:d[1],t=null==d[2]?c:d[2],(d=(f=b["$include?"](r))!==!1&&f!==c?f:(k=s!==!1&&s!==c)?b["$include?"](s):k)===c||d._isBoolean&&1!=d||(b=(d=(f=b).$gsub,d._p=(m=function(){var b,d,e=m._s||this,f=c,j=c,k=c,n=c,o=c,p=c,r=c,s=c,t=c;if(null==e.passthroughs&&(e.passthroughs=c),null==h["~"]&&(h["~"]=c),f=h["~"],j=f["$[]"](1),k=f["$[]"](2),n=function(){return(b=f["$[]"](3)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?c:"\\"}(),o=f["$[]"](4),p=f["$[]"](5),(b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===c||b._isBoolean&&1!=b||k["$=="]("")&&(k=c),q!==!1&&q!==c?r=!0:(b=r=(d=k!==!1&&k!==c)?k["$end_with?"]("x-"):d)===c||b._isBoolean&&1!=b||(k=k["$[]"](i(0,-2,!0))),k!==!1&&k!==c){if((b=(d=o["$=="]("`"))?r["$!"]():d)!==c&&(!b._isBoolean||1==b))return""+j+"["+k+"]"+n+"`"+e.$extract_passthroughs(p)+"`";if(n!==!1&&n!==c)return""+j+"["+k+"]"+f["$[]"](3)["$[]"](i(1,-1,!1));j["$=="]("\\")?(j="["+k+"]",k=c):k=e.$parse_attributes(k)}else{if(!((b=(d=o["$=="]("`"))?r["$!"]():d)===c||b._isBoolean&&1!=b))return""+j+n+"`"+e.$extract_passthroughs(p)+"`";if(n!==!1&&n!==c)return""+j+f["$[]"](3)["$[]"](i(1,-1,!1))}return s=e.passthroughs.$size(),q!==!1&&q!==c?e.passthroughs["$[]="](s,g(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:k,type:"monospaced"})):k!==!1&&k!==c?r!==!1&&r!==c?(t=function(){return o["$=="]("`")?["specialcharacters"]:l.SUBS["$[]"]("normal")}(),e.passthroughs["$[]="](s,g(["text","subs","attributes","type"],{text:p,subs:t,attributes:k,type:"monospaced"}))):e.passthroughs["$[]="](s,g(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:k,type:"unquoted"})):e.passthroughs["$[]="](s,g(["text","subs"],{text:p,subs:["specialcharacters"]})),""+j+l.PASS_START+s+l.PASS_END},m._s=p,m),d).call(f,t)),k=b["$include?"](":"),(d=k!==!1&&k!==c?(n=b["$include?"]("stem:"))!==!1&&n!==c?n:b["$include?"]("math:"):k)===c||d._isBoolean&&1!=d||(b=(d=(k=b).$gsub,d._p=(o=function(){var a,b=o._s||this,d=c,e=c,f=c,j=c,k=c,m=c;return null==b.document&&(b.document=c),null==b.passthroughs&&(b.passthroughs=c),null==h["~"]&&(h["~"]=c),d=h["~"],(a=d["$[]"](0)["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?((e=d["$[]"](1).$to_sym())["$=="]("stem")&&(e=function(){return(a=(f=b.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===c||a._isBoolean&&1!=a?f:"asciimath"}().$to_sym()),j=b.$unescape_brackets(d["$[]"](3)),k=(a=d["$[]"](2)["$nil_or_empty?"]())===c||a._isBoolean&&1!=a?b.$resolve_pass_subs(d["$[]"](2)):function(){return(a=b.document["$basebackend?"]("html"))===c||a._isBoolean&&1!=a?[]:["specialcharacters"]}(),b.passthroughs["$[]="](m=b.passthroughs.$size(),g(["text","subs","type"],{text:j,subs:k,type:e})),""+l.PASS_START+m+l.PASS_END):d["$[]"](0)["$[]"](i(1,-1,!1))},o._s=p,o),d).call(k,l.StemInlineMacroRx)),b},k.$restore_passthroughs=function(a,b){var d,e,f,i,j=this;null==j.passthroughs&&(j.passthroughs=c),null==b&&(b=!0);try{return(d=(e=b!==!1&&b!==c)?(f=j.passthroughs["$empty?"]())!==!1&&f!==c?f:a["$include?"](l.PASS_START)["$!"]():e)===c||d._isBoolean&&1!=d?(d=(e=a).$gsub,d._p=(i=function(){var a,b=i._s||this,d=c,e=c,f=c,j=c;return null==b.passthroughs&&(b.passthroughs=c),null==h["~"]&&(h["~"]=c),d=b.passthroughs["$[]"](h["~"]["$[]"](1).$to_i()),e=function(){return(a=f=d["$[]"]("subs"))===c||a._isBoolean&&1!=a?d["$[]"]("text"):b.$apply_subs(d["$[]"]("text"),f)}(),(a=j=d["$[]"]("type"))===c||a._isBoolean&&1!=a||(e=l.Inline.$new(b,"quoted",e,g(["type","attributes"],{type:j,attributes:d["$[]"]("attributes")})).$convert()),(a=e["$include?"](l.PASS_START))===c||a._isBoolean&&1!=a?e:b.$restore_passthroughs(e,!1)},i._s=j,i),d).call(e,l.PASS_MATCH):a}finally{b!==!1&&b!==c&&j.passthroughs.$clear()}},k.$sub_specialcharacters=function(a){var b,d,e,f=this;return(b=l.SUPPORTS_GSUB_RESULT_HASH)===c||b._isBoolean&&1!=b?(b=(d=a).$gsub,b._p=(e=function(){e._s||this;return null==h["&"]&&(h["&"]=c),l.SPECIAL_CHARS["$[]"](h["&"])},e._s=f,e),b).call(d,l.SPECIAL_CHARS_PATTERN):a.$gsub(l.SPECIAL_CHARS_PATTERN,l.SPECIAL_CHARS)},a.defn(j,"$sub_specialchars",k.$sub_specialcharacters),k.$sub_quotes=function(b){var d,e,f,g,i,j=this,k=c;return null==j.document&&(j.document=c),(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)===c||d._isBoolean&&1!=d?(k=""+b,(d=(g=l.QUOTE_SUBS["$[]"](j.document.$compat_mode())).$each,d._p=(i=function(a,b,d){var e,f,g,j=i._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(e=(f=k)["$gsub!"],e._p=(g=function(){var d=g._s||this;return null==h["~"]&&(h["~"]=c),d.$convert_quoted_text(h["~"],a,b)},g._s=j,g),e).call(f,d)},i._s=j,i),d).call(g)):(k=b,(d=(e=l.QUOTE_SUBS["$[]"](j.document.$compat_mode())).$each,d._p=(f=function(a,b,d){var e,g,i,j=f._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),k=(e=(g=k).$gsub,e._p=(i=function(){var d=i._s||this;return null==h["~"]&&(h["~"]=c),d.$convert_quoted_text(h["~"],a,b)},i._s=j,i),e).call(g,d)},f._s=j,f),d).call(e)),k},k.$sub_replacements=function(b){var d,e,f,g,i,j=this,k=c;return(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)===c||d._isBoolean&&1!=d?(k=""+b,(d=(g=l.REPLACEMENTS).$each,d._p=(i=function(a,b,d){var e,f,g,j=i._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(e=(f=k)["$gsub!"],e._p=(g=function(){var a=g._s||this;return null==h["~"]&&(h["~"]=c),a.$do_replacement(h["~"],b,d)},g._s=j,g),e).call(f,a)},i._s=j,i),d).call(g)):(k=b,(d=(e=l.REPLACEMENTS).$each,d._p=(f=function(a,b,d){var e,g,i,j=f._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),k=(e=(g=k).$gsub,e._p=(i=function(){var a=i._s||this;return null==h["~"]&&(h["~"]=c),a.$do_replacement(h["~"],b,d)},i._s=j,i),e).call(g,a)},f._s=j,f),d).call(e)),k},k.$do_replacement=function(a,b,d){var e,f=c,g=c;return(e=(f=a["$[]"](0))["$include?"]("\\"))===c||e._isBoolean&&1!=e?function(){return g=d,"none"["$==="](g)?b:"leading"["$==="](g)?""+a["$[]"](1)+b:"bounding"["$==="](g)?""+a["$[]"](1)+b+a["$[]"](2):c}():f.$tr("\\","")},k.$sub_attributes=function(b,e){var f,j,k,m=this,n=c,o=c,p=c,q=c;return null==m.document&&(m.document=c),null==e&&(e=g([],{})),(f=b["$nil_or_empty?"]())===c||f._isBoolean&&1!=f?((f=n=l.String["$==="](b))===c||f._isBoolean&&1!=f||(b=[b]),o=m.document.$attributes(),p=c,q=[],(f=(j=b).$each,f._p=(k=function(b){var f,g,j,m,n,r=k._s||this,s=c,t=c;return null==b&&(b=c),s=!1,t=!1,(f=b["$include?"]("{"))===c||f._isBoolean&&1!=f||(b=(f=(g=b).$gsub,f._p=(j=function(){var b,f,g=j._s||this,k=c,m=c,n=c,q=c,r=c,u=c,v=c,w=c,x=c,y=c;return null==g.document&&(g.document=c),null==h["~"]&&(h["~"]=c),k=h["~"],(b=(f=k["$[]"](1)["$=="]("\\"))!==!1&&f!==c?f:k["$[]"](4)["$=="]("\\"))===c||b._isBoolean&&1!=b?(b=k["$[]"](3)["$nil_or_empty?"]()["$!"]())===c||b._isBoolean&&1!=b?(b=o["$key?"](y=k["$[]"](2).$downcase()))===c||b._isBoolean&&1!=b?(b=l.INTRINSIC_ATTRIBUTES["$key?"](y))===c||b._isBoolean&&1!=b?function(){return r=(b=p)!==!1&&b!==c?b:p=(f=e["$[]"]("attribute_missing"))!==!1&&f!==c?f:o.$fetch("attribute-missing",l.Compliance.$attribute_missing()),"skip"["$==="](r)?k["$[]"](0):"drop-line"["$==="](r)?(g.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+y),s=!0,d.$v="",d):"warn"["$==="](r)?(g.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+y),k["$[]"](0)):(t=!0,"")}():l.INTRINSIC_ATTRIBUTES["$[]"](y):o["$[]"](y):(m=(n=k["$[]"](3)).$length()["$+"](1),q=k["$[]"](2)["$[]"](i(m,-1,!1)),function(){if(r=n,"set"["$==="](r)){if(u=q.$split(":"),b=a.to_ary(l.Parser.$store_attribute(u["$[]"](0),(f=u["$[]"](1))!==!1&&f!==c?f:"",g.document)),v=null==b[0]?c:b[0],w=null==b[1]?c:b[1],w!==!1&&w!==c);else if(o.$fetch("attribute-undefined",l.Compliance.$attribute_undefined())["$=="]("drop-line"))return s=!0,d.$v="",d;return t=!0,""}return"counter"["$==="](r)||"counter2"["$==="](r)?(u=q.$split(":"),x=g.document.$counter(u["$[]"](0),u["$[]"](1)),n["$=="]("counter2")?(t=!0,""):x):(g.$warn("asciidoctor: WARNING: illegal attribute directive: "+k["$[]"](3)),k["$[]"](0))}()):"{"+k["$[]"](2)+"}"},j._s=r,j),f).call(g,l.AttributeReferenceRx)),(f=(m=s)!==!1&&m!==c?m:(n=t!==!1&&t!==c)?b["$empty?"]():n)===c||f._isBoolean&&1!=f?q["$<<"](b):c},k._s=m,k),f).call(j),n!==!1&&n!==c?q["$*"](l.EOL):q):b},k.$sub_macros=function(b){var d,f,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=c,F=c,G=c,H=c,I=c,J=c;return null==D.document&&(D.document=c),(d=b["$nil_or_empty?"]())===c||d._isBoolean&&1!=d?(E=g([],{}),E["$[]="]("square_bracket",b["$include?"]("[")),E["$[]="]("round_bracket",b["$include?"]("(")),E["$[]="]("colon",F=b["$include?"](":")),E["$[]="]("macroish",(d=E["$[]"]("square_bracket"),d!==!1&&d!==c?F:d)),E["$[]="]("macroish_short_form",(f=E["$[]"]("square_bracket"),d=f!==!1&&f!==c?F:f,d!==!1&&d!==c?b["$include?"](":["):d)),G=D.document.$attributes()["$has_key?"]("linkattrs"),H=D.document.$attributes()["$has_key?"]("experimental"),I=""+b,H!==!1&&H!==c&&(f=E["$[]"]("macroish_short_form"),(d=f!==!1&&f!==c?(j=I["$include?"]("kbd:"))!==!1&&j!==c?j:I["$include?"]("btn:"):f)===c||d._isBoolean&&1!=d||(I=(d=(f=I).$gsub,d._p=(k=function(){var a,b,d,e=k._s||this,f=c,j=c,m=c,n=c;return null==h["~"]&&(h["~"]=c),f=h["~"],(a=(j=f["$[]"](0))["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?(a=j["$start_with?"]("kbd"))===c||a._isBoolean&&1!=a?(a=j["$start_with?"]("btn"))===c||a._isBoolean&&1!=a?c:(n=e.$unescape_bracketed_text(f["$[]"](1)),l.Inline.$new(e,"button",n).$convert()):(m=e.$unescape_bracketed_text(f["$[]"](1)),m=m["$=="]("+")?["+"]:(a=(b=m.$split(l.KbdDelimiterRx)).$inject,a._p=(d=function(a,b){{var e;d._s||this}return null==a&&(a=c),null==b&&(b=c),(e=b["$end_with?"]("++"))===c||e._isBoolean&&1!=e?a["$<<"](b.$strip()):(a["$<<"](b["$[]"](i(0,-3,!1)).$strip()),a["$<<"]("+")),a},d._s=e,d),a).call(b,[]),l.Inline.$new(e,"kbd",c,g(["attributes"],{attributes:g(["keys"],{keys:m})})).$convert()):j["$[]"](i(1,-1,!1))},k._s=D,k),d).call(f,l.KbdBtnInlineMacroRx)),j=E["$[]"]("macroish"),(d=j!==!1&&j!==c?I["$include?"]("menu:"):j)===c||d._isBoolean&&1!=d||(I=(d=(j=I).$gsub,d._p=(m=function(){var a,b,d,e=m._s||this,f=c,j=c,k=c,n=c,o=c,p=c,q=c;return null==h["~"]&&(h["~"]=c),f=h["~"],(a=(j=f["$[]"](0))["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?(k=f["$[]"](1),n=f["$[]"](2),(a=n["$!"]())===c||a._isBoolean&&1!=a?(a=q=function(){return(b=n["$include?"]("&gt;"))===c||b._isBoolean&&1!=b?function(){return(b=n["$include?"](","))===c||b._isBoolean&&1!=b?c:","}():"&gt;"}())===c||a._isBoolean&&1!=a?(o=[],p=n.$rstrip()):(o=(a=(b=n.$split(q)).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$strip()},d._s=e,d),a).call(b),p=o.$pop()):(o=[],p=c),l.Inline.$new(e,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:k,submenus:o,menuitem:p})})).$convert()):j["$[]"](i(1,-1,!1))},m._s=D,m),d).call(j,l.MenuInlineMacroRx)),n=I["$include?"]('"'),(d=n!==!1&&n!==c?I["$include?"]("&gt;"):n)===c||d._isBoolean&&1!=d||(I=(d=(n=I).$gsub,d._p=(o=function(){var b,d,f,j,k=o._s||this,m=c,n=c,p=c,q=c,r=c,s=c;return null==h["~"]&&(h["~"]=c),m=h["~"],(b=(n=m["$[]"](0))["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?(p=m["$[]"](1),b=a.to_ary((d=(f=p.$split("&gt;")).$map,d._p=(j=function(a){j._s||this;return null==a&&(a=c),a.$strip()},j._s=k,j),d).call(f)),q=null==b[0]?c:b[0],r=e.call(b,1),s=r.$pop(),l.Inline.$new(k,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:q,submenus:r,menuitem:s})})).$convert()):n["$[]"](i(1,-1,!1))},o._s=D,o),d).call(n,l.MenuInlineRx))),p=J=D.document.$extensions(),(d=p!==!1&&p!==c?J["$inline_macros?"]():p)===c||d._isBoolean&&1!=d||(d=(p=J.$inline_macros()).$each,d._p=(q=function(a){var b,d,e,f=q._s||this;return null==a&&(a=c),I=(b=(d=I).$gsub,b._p=(e=function(){var b,d=e._s||this,f=c,j=c,k=c;return null==h["~"]&&(h["~"]=c),f=h["~"],(b=f["$[]"](0)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?(j=f["$[]"](1),k=function(){return a.$config()["$[]"]("format")["$=="]("short")?g([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?d.$parse_attributes(f["$[]"](2),(b=a.$config()["$[]"]("pos_attrs"))!==!1&&b!==c?b:[],g(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):g(["text"],{text:d.$unescape_bracketed_text(f["$[]"](2))})}(),a.$process_method()["$[]"](d,j,k)):f["$[]"](0)["$[]"](i(1,-1,!1))},e._s=f,e),b).call(d,a.$config()["$[]"]("regexp"))},q._s=D,q),d).call(p),r=E["$[]"]("macroish"),(d=r!==!1&&r!==c?(s=I["$include?"]("image:"))!==!1&&s!==c?s:I["$include?"]("icon:"):r)===c||d._isBoolean&&1!=d||(I=(d=(r=I).$gsub,d._p=(t=function(){var a,b,d,e=t._s||this,f=c,j=c,k=c,m=c,n=c,o=c;return null==e.document&&(e.document=c),null==h["~"]&&(h["~"]=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?(j=e.$unescape_bracketed_text(f["$[]"](2)),(a=f["$[]"](0)["$start_with?"]("icon:"))===c||a._isBoolean&&1!=a?(k="image",m=["alt","width","height"]):(k="icon",m=["size"]),n=e.$sub_attributes(f["$[]"](1)),k["$=="]("icon")||e.document.$register("images",n),o=e.$parse_attributes(j,m),a="alt",b=o,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,l.File.$basename(n,l.File.$extname(n))),l.Inline.$new(e,"image",c,g(["type","target","attributes"],{type:k,target:n,attributes:o})).$convert()):f["$[]"](0)["$[]"](i(1,-1,!1))},t._s=D,t),d).call(r,l.ImageInlineMacroRx)),(d=(s=E["$[]"]("macroish_short_form"))!==!1&&s!==c?s:E["$[]"]("round_bracket"))===c||d._isBoolean&&1!=d||(I=(d=(s=I).$gsub,d._p=(u=function(){var b,d,e=u._s||this,f=c,j=c,k=c,m=c,n=c,o=c;return null==e.document&&(e.document=c),null==h["~"]&&(h["~"]=c),f=h["~"],(b=f["$[]"](0)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?((b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===c||b._isBoolean&&1!=b||f["$[]"](1)["$=="]("")&&f["$[]="](1,c),j=0,k=c,((b=m=f["$[]"](1))===c||b._isBoolean&&1!=b)&&(k=f["$[]"](3),d=k["$start_with?"]("("),(b=d!==!1&&d!==c?k["$end_with?"](")"):d)===c||b._isBoolean&&1!=b?j=2:(k=k["$[]"](i(1,-1,!0)),j=3)),(b=(d=m["$=="]("indexterm"))!==!1&&d!==c?d:j["$=="](3))===c||b._isBoolean&&1!=b?(o=(b=m["$!"]())===c||b._isBoolean&&1!=b?e.$normalize_string(f["$[]"](2),!0):e.$normalize_string(k),e.document.$register("indexterms",[o]),l.Inline.$new(e,"indexterm",o,g(["type"],{type:"visible"})).$convert()):(n=e.$split_simple_csv((b=m["$!"]())===c||b._isBoolean&&1!=b?e.$normalize_string(f["$[]"](2),!0):e.$normalize_string(k)),e.document.$register("indexterms",[].concat(n)),l.Inline.$new(e,"indexterm",c,g(["attributes"],{attributes:g(["terms"],{terms:n})})).$convert())):f["$[]"](0)["$[]"](i(1,-1,!1))},u._s=D,u),d).call(s,l.IndextermInlineMacroRx)),(d=(v=F!==!1&&F!==c)?I["$include?"]("://"):v)===c||d._isBoolean&&1!=d||(I=(d=(v=I).$gsub,d._p=(w=function(){var b,d,e,f,j=w._s||this,k=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c;return null==j.document&&(j.document=c),null==h["~"]&&(h["~"]=c),k=h["~"],(b=k["$[]"](2)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?((b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===c||b._isBoolean&&1!=b||k["$[]"](3)["$=="]("")&&k["$[]="](3,c),(b=(d=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():d)===c||b._isBoolean&&1!=b?(m=function(){return(b=k["$[]"](1)["$=="]("link:")["$!"]())===c||b._isBoolean&&1!=b?"":k["$[]"](1)}(),n=k["$[]"](2),o="",((b=(d=k["$[]"](3))!==!1&&d!==c?d:(e=n["$=~"](l.UriTerminator),e===c||e===!1))===c||b._isBoolean&&1!=b)&&(p=h["~"]["$[]"](0),")"["$==="](p)?(n=n["$[]"](i(0,-2,!1)),o=")"):";"["$==="](p)?(d=m["$start_with?"]("&lt;"),(b=d!==!1&&d!==c?n["$end_with?"]("&gt;"):d)===c||b._isBoolean&&1!=b?(b=n["$end_with?"](");"))===c||b._isBoolean&&1!=b?(n=n["$[]"](i(0,-2,!1)),o=";"):(n=n["$[]"](i(0,-3,!1)),o=");"):(m=m["$[]"](i(4,-1,!1)),n=n["$[]"](i(0,-5,!1)))):":"["$==="](p)&&((b=n["$end_with?"]("):"))===c||b._isBoolean&&1!=b?(n=n["$[]"](i(0,-2,!1)),o=":"):(n=n["$[]"](i(0,-3,!1)),o="):"))),j.document.$register("links",n),q=g(["type","target"],{type:"link",target:n}),r=c,(b=k["$[]"](3)["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?((b=(d=G!==!1&&G!==c)?(e=k["$[]"](3)["$start_with?"]('"'))!==!1&&e!==c?e:(f=k["$[]"](3)["$include?"](","),f!==!1&&f!==c?k["$[]"](3)["$include?"]("="):f):d)===c||b._isBoolean&&1!=b?s=j.$sub_attributes(k["$[]"](3).$gsub("\\]","]")):(r=j.$parse_attributes(j.$sub_attributes(k["$[]"](3).$gsub("\\]","]")),[]),(b=r["$has_key?"]("id"))===c||b._isBoolean&&1!=b||q["$[]="]("id",r.$delete("id")),s=(b=r["$[]"](1))!==!1&&b!==c?b:""),(b=s["$end_with?"]("^"))===c||b._isBoolean&&1!=b||(s=s.$chop(),r!==!1&&r!==c?(b="window",d=r,(e=d["$[]"](b))!==!1&&e!==c?e:d["$[]="](b,"_blank")):r=g(["window"],{window:"_blank"}))):s="",(b=s["$empty?"]())===c||b._isBoolean&&1!=b||(s=function(){return(b=j.document["$attr?"]("hide-uri-scheme"))===c||b._isBoolean&&1!=b?n:n.$sub(l.UriSniffRx,"")}(),r!==!1&&r!==c?r["$[]="]("role",("bare "+r["$[]"]("role")).$chomp(" ")):r=g(["role"],{role:"bare"})),r!==!1&&r!==c&&q["$[]="]("attributes",r),""+m+l.Inline.$new(j,"anchor",s,q).$convert()+o):k["$[]"](0)):""+k["$[]"](1)+k["$[]"](2)["$[]"](i(1,-1,!1))+k["$[]"](3)},w._s=D,w),d).call(v,l.LinkInlineRx)),y=E["$[]"]("macroish"),(d=(x=y!==!1&&y!==c?I["$include?"]("link:"):y)!==!1&&x!==c?x:I["$include?"]("mailto:"))===c||d._isBoolean&&1!=d||(I=(d=(x=I).$gsub,d._p=(z=function(){var a,b,d,e=z._s||this,f=c,j=c,k=c,m=c,n=c,o=c,p=c;return null==e.document&&(e.document=c),null==h["~"]&&(h["~"]=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?(j=f["$[]"](1),k=f["$[]"](0)["$start_with?"]("mailto:"),m=function(){return k!==!1&&k!==c?"mailto:"+j:j}(),n=g(["type","target"],{type:"link",target:m}),o=c,p=function(){return(a=(b=G!==!1&&G!==c)?(d=f["$[]"](2)["$start_with?"]('"'))!==!1&&d!==c?d:f["$[]"](2)["$include?"](","):b)===c||a._isBoolean&&1!=a?e.$sub_attributes(f["$[]"](2).$gsub("\\]","]")):(o=e.$parse_attributes(e.$sub_attributes(f["$[]"](2).$gsub("\\]","]")),[]),(a=o["$key?"]("id"))===c||a._isBoolean&&1!=a||n["$[]="]("id",o.$delete("id")),k!==!1&&k!==c&&((a=o["$key?"](2))===c||a._isBoolean&&1!=a||(m=n["$[]="]("target",""+m+"?subject="+l.Helpers.$encode_uri(o["$[]"](2))),(a=o["$key?"](3))===c||a._isBoolean&&1!=a||(m=n["$[]="]("target",""+m+"&amp;body="+l.Helpers.$encode_uri(o["$[]"](3)))))),o["$[]"](1))}(),e.document.$register("links",m),(a=p["$end_with?"]("^"))===c||a._isBoolean&&1!=a||(p=p.$chop(),o!==!1&&o!==c?(a="window",b=o,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,"_blank")):o=g(["window"],{window:"_blank"})),(a=p["$empty?"]())===c||a._isBoolean&&1!=a||(k!==!1&&k!==c?p=j:(p=(a=e.document["$attr?"]("hide-uri-scheme"))===c||a._isBoolean&&1!=a?j:j.$sub(l.UriSniffRx,""),o!==!1&&o!==c?o["$[]="]("role",("bare "+o["$[]"]("role")).$chomp(" ")):o=g(["role"],{role:"bare"}))),o!==!1&&o!==c&&n["$[]="]("attributes",o),l.Inline.$new(e,"anchor",p,n).$convert()):f["$[]"](0)["$[]"](i(1,-1,!1))},z._s=D,z),d).call(x,l.LinkInlineMacroRx)),(d=I["$include?"]("@"))===c||d._isBoolean&&1!=d||(I=(d=(y=I).$gsub,d._p=(A=function(){var a,b=A._s||this,d=c,e=c,f=c,j=c,k=c;return null==b.document&&(b.document=c),null==h["~"]&&(h["~"]=c),d=h["~"],e=d["$[]"](0),(a=f=d["$[]"](1))===c||a._isBoolean&&1!=a?(k="mailto:"+e,b.document.$register("links",k),l.Inline.$new(b,"anchor",e,g(["type","target"],{type:"link",target:k})).$convert()):(j=f,"\\"["$==="](j)?e["$[]"](i(1,-1,!1)):e)},A._s=D,A),d).call(y,l.EmailInlineMacroRx)),B=E["$[]"]("macroish_short_form"),(d=B!==!1&&B!==c?I["$include?"]("footnote"):B)===c||d._isBoolean&&1!=d||(I=(d=(B=I).$gsub,d._p=(C=function(){var b,d,e,f,j=C._s||this,k=c,m=c,n=c,o=c,p=c,q=c,r=c;return null==j.document&&(j.document=c),null==h["~"]&&(h["~"]=c),k=h["~"],(b=k["$[]"](0)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?(k["$[]"](1)["$=="]("footnote")?(m=c,n=j.$restore_passthroughs(j.$sub_inline_xrefs(j.$sub_inline_anchors(j.$normalize_string(k["$[]"](2),!0))),!1),o=j.document.$counter("footnote-number"),j.document.$register("footnotes",l.Document._scope.Footnote.$new(o,m,n)),p=c,q=c):(b=a.to_ary(k["$[]"](2).$split(",",2)),m=null==b[0]?c:b[0],n=null==b[1]?c:b[1],m=m.$strip(),(b=n["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?(n=j.$restore_passthroughs(j.$sub_inline_xrefs(j.$sub_inline_anchors(j.$normalize_string(n,!0))),!1),o=j.document.$counter("footnote-number"),j.document.$register("footnotes",l.Document._scope.Footnote.$new(o,m,n)),p="ref",q=c):((b=r=(d=(e=j.document.$references()["$[]"]("footnotes")).$find,d._p=(f=function(a){f._s||this;
return null==a&&(a=c),a.$id()["$=="](m)},f._s=j,f),d).call(e))===c||b._isBoolean&&1!=b?(o=c,n=m):(o=r.$index(),n=r.$text()),q=m,m=c,p="xref")),l.Inline.$new(j,"footnote",n,g(["attributes","id","target","type"],{attributes:g(["index"],{index:o}),id:m,target:q,type:p})).$convert()):k["$[]"](0)["$[]"](i(1,-1,!1))},C._s=D,C),d).call(B,l.FootnoteInlineMacroRx)),D.$sub_inline_xrefs(D.$sub_inline_anchors(I,E),E)):b},k.$sub_inline_anchors=function(b,d){var e,f,j,k,m,n,o,p=this;return null==d&&(d=c),f=(j=d["$!"]())!==!1&&j!==c?j:d["$[]"]("square_bracket"),(e=f!==!1&&f!==c?b["$include?"]("[[["):f)===c||e._isBoolean&&1!=e||(b=(e=(f=b).$gsub,e._p=(k=function(){var a,b=k._s||this,d=c,e=c,f=c;return null==h["~"]&&(h["~"]=c),d=h["~"],(a=d["$[]"](0)["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?(e=f=d["$[]"](1),l.Inline.$new(b,"anchor",f,g(["type","target"],{type:"bibref",target:e})).$convert()):d["$[]"](0)["$[]"](i(1,-1,!1))},k._s=p,k),e).call(f,l.InlineBiblioAnchorRx)),m=(n=d["$!"]())!==!1&&n!==c?n:d["$[]"]("square_bracket"),(e=(j=m!==!1&&m!==c?b["$include?"]("[["):m)!==!1&&j!==c?j:(m=(n=d["$!"]())!==!1&&n!==c?n:d["$[]"]("macroish"),m!==!1&&m!==c?b["$include?"]("anchor:"):m))===c||e._isBoolean&&1!=e||(b=(e=(j=b).$gsub,e._p=(o=function(){var b,d,e=o._s||this,f=c,j=c,k=c;return null==h["~"]&&(h["~"]=c),f=h["~"],(b=f["$[]"](0)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?((b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===c||b._isBoolean&&1!=b||(f["$[]"](1)["$=="]("")&&f["$[]="](1,c),f["$[]"](2)["$=="]("")&&f["$[]="](2,c),f["$[]"](4)["$=="]("")&&f["$[]="](4,c)),j=(b=f["$[]"](1))!==!1&&b!==c?b:f["$[]"](3),k=(b=(d=f["$[]"](2))!==!1&&d!==c?d:f["$[]"](4))!==!1&&b!==c?b:"["+j+"]",l.Inline.$new(e,"anchor",k,g(["type","target"],{type:"ref",target:j})).$convert()):f["$[]"](0)["$[]"](i(1,-1,!1))},o._s=p,o),e).call(j,l.InlineAnchorRx)),b},k.$sub_inline_xrefs=function(b,d){var e,f,j,k,m=this;return null==d&&(d=c),(e=(f=(j=d["$!"]())!==!1&&j!==c?j:d["$[]"]("macroish"))!==!1&&f!==c?f:b["$include?"]("&lt;&lt;"))===c||e._isBoolean&&1!=e||(b=(e=(f=b).$gsub,e._p=(k=function(){var b,d,e,f,j,m,n=k._s||this,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c;return null==n.document&&(n.document=c),null==h["~"]&&(h["~"]=c),o=h["~"],(b=o["$[]"](0)["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?((b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===c||b._isBoolean&&1!=b||o["$[]"](1)["$=="]("")&&o["$[]="](1,c),(b=o["$[]"](1))===c||b._isBoolean&&1!=b?(p=o["$[]"](2),((b=o["$[]"](3)["$nil_or_empty?"]())===c||b._isBoolean&&1!=b)&&(q=o["$[]"](3))):(b=a.to_ary((d=(e=o["$[]"](1).$split(",",2)).$map,d._p=(f=function(a){f._s||this;return null==a&&(a=c),a.$strip()},f._s=n,f),d).call(e)),p=null==b[0]?c:b[0],q=null==b[1]?c:b[1],p=p.$sub(l.DoubleQuotedRx,"\\2"),q=function(){return(b=q["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?q.$sub(l.DoubleQuotedMultiRx,"\\2"):c}()),(b=p["$include?"]("#"))===c||b._isBoolean&&1!=b?(r=c,s=p):(b=a.to_ary(p.$split("#")),r=null==b[0]?c:b[0],s=null==b[1]?c:b[1]),r!==!1&&r!==c?(r=l.Helpers.$rootname(r),(b=(d=n.document.$attributes()["$[]"]("docname")["$=="](r))!==!1&&d!==c?d:n.document.$references()["$[]"]("includes")["$include?"](r))===c||b._isBoolean&&1!=b?(t=function(){return s!==!1&&s!==c?""+r+"#"+s:r}(),r=""+n.document.$attributes()["$[]"]("relfileprefix")+r+n.document.$attributes().$fetch("outfilesuffix",".html"),u=function(){return s!==!1&&s!==c?""+r+"#"+s:r}()):(t=s,r=c,u="#"+s)):(j=n.document.$references()["$[]"]("ids")["$has_key?"](s)["$!"](),d=j!==!1&&j!==c?(m=s["$include?"](" "))!==!1&&m!==c?m:s.$downcase()["$=="](s)["$!"]():j,(b=d!==!1&&d!==c?v=function(){return(j=l.RUBY_MIN_VERSION_1_9)===c||j._isBoolean&&1!=j?n.document.$references()["$[]"]("ids").$index(s):n.document.$references()["$[]"]("ids").$key(s)}():d)===c||b._isBoolean&&1!=b||(s=v),t=s,u="#"+s),l.Inline.$new(n,"anchor",q,g(["type","target","attributes"],{type:"xref",target:u,attributes:g(["path","fragment","refid"],{path:r,fragment:s,refid:t})})).$convert()):o["$[]"](0)["$[]"](i(1,-1,!1))},k._s=m,k),e).call(f,l.XrefInlineMacroRx)),b},k.$sub_callouts=function(b){var d,e,f,i=this,j=c;return j=function(){return(d=i["$attr?"]("line-comment"))===c||d._isBoolean&&1!=d?l.CalloutSourceRx:new RegExp("(?:"+(null==(d=a.Object._scope.Regexp)?a.cm("Regexp"):d).$escape(i.$attr("line-comment"))+" )?"+l.CalloutSourceRxt)}(),(d=(e=b).$gsub,d._p=(f=function(){var a=f._s||this,b=c;return null==a.document&&(a.document=c),null==h["~"]&&(h["~"]=c),b=h["~"],b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):l.Inline.$new(a,"callout",b["$[]"](3),g(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},f._s=i,f),d).call(e,j)},k.$sub_post_replacements=function(a){var b,d,e,f,i,j=this,k=c,m=c;return null==j.document&&(j.document=c),null==j.attributes&&(j.attributes=c),(b=(d=j.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&d!==c?d:j.attributes["$has_key?"]("hardbreaks-option"))===c||b._isBoolean&&1!=b?(b=a["$include?"]("+"))===c||b._isBoolean&&1!=b?a:(b=(f=a).$gsub,b._p=(i=function(){var a=i._s||this;return null==h["~"]&&(h["~"]=c),l.Inline.$new(a,"break",h["~"]["$[]"](1),g(["type"],{type:"line"})).$convert()},i._s=j,i),b).call(f,l.LineBreakRx):(k=a.$split(l.EOL),k.$size()["$=="](1)?a:(m=k.$pop(),(b=(d=k).$map,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),l.Inline.$new(b,"break",a.$rstrip().$chomp(l.LINE_BREAK),g(["type"],{type:"line"})).$convert()},e._s=j,e),b).call(d).$push(m)["$*"](l.EOL)))},k.$convert_quoted_text=function(a,b,d){var e,f,h=this,j=c,k=c,m=c,n=c;if(j=c,(e=a["$[]"](0)["$start_with?"]("\\"))!==c&&(!e._isBoolean||1==e)){if((e=(f=d["$=="]("constrained"))?(k=a["$[]"](2))["$nil_or_empty?"]()["$!"]():f)===c||e._isBoolean&&1!=e)return a["$[]"](0)["$[]"](i(1,-1,!1));j="["+k+"]"}return d["$=="]("constrained")?j!==!1&&j!==c?""+j+l.Inline.$new(h,"quoted",a["$[]"](3),g(["type"],{type:b})).$convert():((e=m=h.$parse_quoted_text_attributes(a["$[]"](2)))===c||e._isBoolean&&1!=e?n=c:(n=m.$delete("id"),b["$=="]("mark")&&(b="unquoted")),""+a["$[]"](1)+l.Inline.$new(h,"quoted",a["$[]"](3),g(["type","id","attributes"],{type:b,id:n,attributes:m})).$convert()):((e=m=h.$parse_quoted_text_attributes(a["$[]"](1)))===c||e._isBoolean&&1!=e?n=c:(n=m.$delete("id"),b["$=="]("mark")&&(b="unquoted")),l.Inline.$new(h,"quoted",a["$[]"](2),g(["type","id","attributes"],{type:b,id:n,attributes:m})).$convert())},k.$parse_quoted_text_attributes=function(b){var d,f,h,i=this,j=c,k=c,m=c,n=c,o=c,p=c;return b===!1||b===c?c:(d=b["$empty?"]())===c||d._isBoolean&&1!=d?((d=b["$include?"]("{"))===c||d._isBoolean&&1!=d||(b=i.$sub_attributes(b)),b=b.$strip(),(d=b["$include?"](","))===c||d._isBoolean&&1!=d||(d=a.to_ary(b.$split(",",2)),b=null==d[0]?c:d[0],j=null==d[1]?c:d[1]),(d=b["$empty?"]())===c||d._isBoolean&&1!=d?(f=(h=b["$start_with?"]("."))!==!1&&h!==c?h:b["$start_with?"]("#"),(d=f!==!1&&f!==c?l.Compliance.$shorthand_property_syntax():f)===c||d._isBoolean&&1!=d?g(["role"],{role:b}):(k=b.$split("#",2),k.$length()["$>"](1)?(d=a.to_ary(k["$[]"](1).$split(".")),m=null==d[0]?c:d[0],n=e.call(d,1)):(m=c,n=[]),o=function(){return(d=k["$[]"](0)["$empty?"]())===c||d._isBoolean&&1!=d?k["$[]"](0).$split("."):[]}(),o.$length()["$>"](1)&&o.$shift(),n.$length()["$>"](0)&&o.$concat(n),p=g([],{}),m!==!1&&m!==c&&p["$[]="]("id",m),((d=o["$empty?"]())===c||d._isBoolean&&1!=d)&&p["$[]="]("role",o["$*"](" ")),p)):g([],{})):g([],{})},k.$parse_attributes=function(a,b,d){var e,f=this,h=c,i=c;return null==f.document&&(f.document=c),null==b&&(b=["role"]),null==d&&(d=g([],{})),a===!1||a===c?c:(e=a["$empty?"]())===c||e._isBoolean&&1!=e?((e=d["$[]"]("sub_input"))===c||e._isBoolean&&1!=e||(a=f.document.$sub_attributes(a)),(e=d["$[]"]("unescape_input"))===c||e._isBoolean&&1!=e||(a=f.$unescape_bracketed_text(a)),h=c,(e=d.$fetch("sub_result",!0))===c||e._isBoolean&&1!=e||(h=f),(e=i=d["$[]"]("into"))===c||e._isBoolean&&1!=e?l.AttributeList.$new(a,h).$parse(b):l.AttributeList.$new(a,h).$parse_into(i,b)):g([],{})},k.$unescape_bracketed_text=function(a){var b;return(b=a["$empty?"]())===c||b._isBoolean&&1!=b?a.$strip().$tr(l.EOL," ").$gsub("\\]","]"):""},k.$normalize_string=function(a,b){var d,e=this;return null==b&&(b=!1),(d=a["$empty?"]())===c||d._isBoolean&&1!=d?b!==!1&&b!==c?e.$unescape_brackets(a.$strip().$tr(l.EOL," ")):a.$strip().$tr(l.EOL," "):""},k.$unescape_brackets=function(a){var b;return(b=a["$empty?"]())===c||b._isBoolean&&1!=b?a.$gsub("\\]","]"):""},k.$split_simple_csv=function(a){var b,d,e,f,g,h=this,i=c,j=c,k=c;return(b=a["$empty?"]())===c||b._isBoolean&&1!=b?(b=a["$include?"]('"'))===c||b._isBoolean&&1!=b?i=(b=(f=a.$split(",")).$map,b._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$strip()},g._s=h,g),b).call(f):(i=[],j=[],k=!1,(b=(d=a).$each_char,b._p=(e=function(a){var b=(e._s||this,c);return null==a&&(a=c),function(){return b=a,","["$==="](b)?k!==!1&&k!==c?j.$push(a):(i["$<<"](j.$join().$strip()),j=[]):'"'["$==="](b)?k=k["$!"]():j.$push(a)}()},e._s=h,e),b).call(d),i["$<<"](j.$join().$strip())):i=[],i},k.$resolve_subs=function(a,b,d,e){var f,g,h,j=this,k=c,m=c,n=c,o=c;return null==b&&(b="block"),null==d&&(d=c),null==e&&(e=c),(f=a["$nil_or_empty?"]())===c||f._isBoolean&&1!=f?(k=c,m=l.SubModifierSniffRx["$=~"](a),(f=(g=a.$split(",")).$each,f._p=(h=function(a){var e,f,g,j=(h._s||this,c),n=c,o=c,p=c,q=c,r=c,s=c;return null==a&&(a=c),j=a.$strip(),n=c,m!==!1&&m!==c&&((o=j.$chr())["$=="]("+")?(n="append",j=j["$[]"](i(1,-1,!1))):o["$=="]("-")?(n="remove",j=j["$[]"](i(1,-1,!1))):(e=j["$end_with?"]("+"))===c||e._isBoolean&&1!=e||(n="prepend",j=j.$chop())),j=j.$to_sym(),(e=(f=b["$=="]("inline"))?(g=j["$=="]("verbatim"))!==!1&&g!==c?g:j["$=="]("v"):f)===c||e._isBoolean&&1!=e?(e=l.COMPOSITE_SUBS["$key?"](j))===c||e._isBoolean&&1!=e?(f=(g=b["$=="]("inline"))?j.$length()["$=="](1):g,(e=f!==!1&&f!==c?l.SUB_SYMBOLS["$key?"](j):f)===c||e._isBoolean&&1!=e?p=[j]:(q=l.SUB_SYMBOLS["$[]"](j),p=(e=r=l.COMPOSITE_SUBS["$[]"](q))===c||e._isBoolean&&1!=e?[q]:r)):p=l.COMPOSITE_SUBS["$[]"](j):p=["specialcharacters"],n!==!1&&n!==c?((e=k)!==!1&&e!==c?e:k=function(){return d!==!1&&d!==c?d.$dup():[]}(),function(){return s=n,"append"["$==="](s)?k=k["$+"](p):"prepend"["$==="](s)?k=p["$+"](k):"remove"["$==="](s)?k=k["$-"](p):c}()):((e=k)!==!1&&e!==c?e:k=[],k=k["$+"](p))},h._s=j,h),f).call(g),n=k["$&"](l.SUB_OPTIONS["$[]"](b)),((f=k["$-"](n)["$empty?"]())===c||f._isBoolean&&1!=f)&&(o=k["$-"](n),j.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return o.$size()["$>"](1)?"s":""}()+function(){return e!==!1&&e!==c?" for ":c}()+e+": "+o["$*"](", "))),n):[]},k.$resolve_block_subs=function(a,b,c){var d=this;return d.$resolve_subs(a,"block",b,c)},k.$resolve_pass_subs=function(a){var b=this;return b.$resolve_subs(a,"inline",c,"passthrough macro")},k.$highlight_source=function(b,d,e){var f,j,k,m,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;return null==o.document&&(o.document=c),null==o.passthroughs&&(o.passthroughs=c),null==e&&(e=c),(f=e)!==!1&&f!==c?f:e=o.document.$attributes()["$[]"]("source-highlighter"),l.Helpers.$require_library(e,function(){return e["$=="]("pygments")?"pygments.rb":e}()),p=0,q=!1,d!==!1&&d!==c?(r=g([],{}),s=-1,t=function(){return(f=o["$attr?"]("line-comment"))===c||f._isBoolean&&1!=f?l.CalloutExtractRx:new RegExp("(?:"+(null==(f=a.Object._scope.Regexp)?a.cm("Regexp"):f).$escape(o.$attr("line-comment"))+" )?"+l.CalloutExtractRxt)}(),b=(f=(j=b.$split(l.EOL)).$map,f._p=(k=function(a){var b,d,e,f=k._s||this;return null==a&&(a=c),p=p["$+"](1),(b=(d=a).$gsub,b._p=(e=function(){var a,b,d,f=(e._s||this,c);return null==h["~"]&&(h["~"]=c),f=h["~"],f["$[]"](1)["$=="]("\\")?f["$[]"](0).$sub("\\",""):((a=p,b=r,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,[]))["$<<"](f["$[]"](3)),s=p,c)},e._s=f,e),b).call(d,t)},k._s=o,k),f).call(j)["$*"](l.EOL),q=s["$=="](p),(f=r["$empty?"]())===c||f._isBoolean&&1!=f||(r=c)):r=c,u=c,v=e,"coderay"["$==="](v)?w=(null==(f=a.Object._scope.CodeRay)?a.cm("CodeRay"):f)._scope.Duo["$[]"](o.$attr("language","text",!1).$to_sym(),"html",g(["css","line_numbers","line_number_anchors"],{css:((f=o.document.$attributes()["$[]"]("coderay-css"))!==!1&&f!==c?f:"class").$to_sym(),line_numbers:u=function(){return(f=o["$attr?"]("linenums"))===c||f._isBoolean&&1!=f?c:((f=o.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&f!==c?f:"table").$to_sym()}(),line_number_anchors:!1})).$highlight(b):"pygments"["$==="](v)&&(x=(f=(null==(m=a.Object._scope.Pygments)?a.cm("Pygments"):m)._scope.Lexer["$[]"](o.$attr("language",c,!1)))!==!1&&f!==c?f:(null==(m=a.Object._scope.Pygments)?a.cm("Pygments"):m)._scope.Lexer["$[]"]("text"),y=g(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((f=o.document.$attributes()["$[]"]("pygments-css"))!==!1&&f!==c?f:"class")["$=="]("class")||(y["$[]="]("noclasses",!0),y["$[]="]("style",(f=o.document.$attributes()["$[]"]("pygments-style"))!==!1&&f!==c?f:l.Stylesheets._scope.DEFAULT_PYGMENTS_STYLE)),(f=o["$attr?"]("linenums"))===c||f._isBoolean&&1!=f?(y["$[]="]("nowrap",!0),w=x.$highlight(b,g(["options"],{options:y}))):y["$[]="]("linenos",(f=o.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&f!==c?f:"table")["$=="]("table")?(u="table",w=x.$highlight(b,g(["options"],{options:y})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):w=x.$highlight(b,g(["options"],{options:y})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")),((f=o.passthroughs["$empty?"]())===c||f._isBoolean&&1!=f)&&(w=w.$gsub(l.PASS_MATCH_HI,""+l.PASS_START+"\\1"+l.PASS_END)),(f=(m=d!==!1&&d!==c)?r:m)===c||f._isBoolean&&1!=f?w:(p=0,z=u["$=="]("table")["$!"](),(f=(m=w.$split(l.EOL)).$map,f._p=(n=function(a){var b,d,e,f=n._s||this,h=c,j=c,k=c,m=c;if(null==f.document&&(f.document=c),null==a&&(a=c),z!==!1&&z!==c);else{if((b=a["$include?"]('<td class="code">'))===c||b._isBoolean&&1!=b)return a;z=!0}return p=p["$+"](1),(b=h=r.$delete(p))===c||b._isBoolean&&1!=b?a:(j=c,(b=(d=q!==!1&&q!==c)?r["$empty?"]():d)===c||b._isBoolean&&1!=b||((b=k=a.$index("</pre>"))===c||b._isBoolean&&1!=b?a=""+a.$chomp(" ")+" ":(j=a["$[]"](i(k,-1,!1)),a=""+a["$[]"](i(0,k,!0)).$chomp(" ")+" ")),h.$size()["$=="](1)?""+a+l.Inline.$new(f,"callout",h["$[]"](0),g(["id"],{id:f.document.$callouts().$read_next_id()})).$convert()+j:(m=(b=(d=h).$map,b._p=(e=function(a){var b=e._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),l.Inline.$new(b,"callout",a,g(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},e._s=f,e),b).call(d)["$*"](" "),""+a+m+j))},n._s=o,n),f).call(m)["$*"](l.EOL))},k.$lock_in_subs=function(){var a,b,d,e,f,g,h=this,i=c,j=c,k=c;if(null==h.default_subs&&(h.default_subs=c),null==h.content_model&&(h.content_model=c),null==h.context&&(h.context=c),null==h.attributes&&(h.attributes=c),null==h.style&&(h.style=c),null==h.document&&(h.document=c),null==h.subs&&(h.subs=c),(a=h.default_subs)===c||a._isBoolean&&1!=a)if(j=h.content_model,"simple"["$==="](j))i=l.SUBS["$[]"]("normal");else if("verbatim"["$==="](j))i=l.SUBS["$[]"]((a=(b=h.context["$=="]("listing"))!==!1&&b!==c?b:(d=h.context["$=="]("literal"))?h["$option?"]("listparagraph")["$!"]():d)===c||a._isBoolean&&1!=a?h.context["$=="]("verse")?"normal":"basic":"verbatim");else{if(!"raw"["$==="](j))return c;i=l.SUBS["$[]"](h.context["$=="]("stem")?"basic":"pass")}else i=h.default_subs;return h.subs=(a=k=h.attributes["$[]"]("subs"))===c||a._isBoolean&&1!=a?i.$dup():h.$resolve_block_subs(k,i,h.context),e=(f=h.context["$=="]("listing"))?h.style["$=="]("source"):f,d=e!==!1&&e!==c?h.attributes["$[]"]("language"):e,b=d!==!1&&d!==c?h.document["$basebackend?"]("html"):d,(a=b!==!1&&b!==c?l.SUB_HIGHLIGHT["$include?"](h.document.$attributes()["$[]"]("source-highlighter")):b)===c||a._isBoolean&&1!=a?c:h.subs=(a=(b=h.subs).$map,a._p=(g=function(a){g._s||this;return null==a&&(a=c),a["$=="]("specialcharacters")?"highlight":a},g._s=h,g),a).call(b)},a.donate(j,["$apply_subs","$apply_normal_subs","$apply_title_subs","$apply_header_subs","$extract_passthroughs","$restore_passthroughs","$sub_specialcharacters","$sub_specialchars","$sub_quotes","$sub_replacements","$do_replacement","$sub_attributes","$sub_macros","$sub_inline_anchors","$sub_inline_xrefs","$sub_callouts","$sub_post_replacements","$convert_quoted_text","$parse_quoted_text_attributes","$parse_attributes","$unescape_bracketed_text","$normalize_string","$unescape_brackets","$split_simple_csv","$resolve_subs","$resolve_block_subs","$resolve_pass_subs","$highlight_source","$lock_in_subs"])}(j)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range;return function(b){{var h=d(b,"Asciidoctor");h._proto,h._scope}!function(b,d){function h(){}var i=h=e(b,d,"AbstractNode",h),j=i._proto,k=i._scope;return j.document=j.attributes=j.path_resolver=j.style=c,i.$include(k.Substitutors),i.$attr_reader("parent"),i.$attr_reader("document"),i.$attr_reader("context"),i.$attr_reader("node_name"),i.$attr_accessor("id"),i.$attr_reader("attributes"),j.$initialize=function(a,b,d){var e,g=this;return null==d&&(d=f([],{})),b["$=="]("document")?g.document=a:a!==!1&&a!==c?(g.parent=a,g.document=a.$document()):(g.parent=c,g.document=c),g.context=b,g.node_name=b.$to_s(),g.attributes=function(){return(e=d["$key?"]("attributes"))===c||e._isBoolean&&1!=e?f([],{}):d["$[]"]("attributes").$dup()}(),g.passthroughs=f([],{})},j["$parent="]=function(a){var b=this;return b.parent=a,b.document=a.$document(),c},j["$inline?"]=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},j["$block?"]=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},j.$attr=function(b,d,e){var f,g,h=this;return null==d&&(d=c),null==e&&(e=!0),(f=b["$is_a?"](null==(g=a.Object._scope.Symbol)?a.cm("Symbol"):g))===c||f._isBoolean&&1!=f||(b=b.$to_s()),h["$=="](h.document)&&(e=!1),e!==!1&&e!==c?(f=(g=h.attributes["$[]"](b))!==!1&&g!==c?g:h.document.$attributes()["$[]"](b))!==!1&&f!==c?f:d:(f=h.attributes["$[]"](b))!==!1&&f!==c?f:d},j["$attr?"]=function(b,d,e){var f,g,h=this;return null==d&&(d=c),null==e&&(e=!0),(f=b["$is_a?"](null==(g=a.Object._scope.Symbol)?a.cm("Symbol"):g))===c||f._isBoolean&&1!=f||(b=b.$to_s()),h["$=="](h.document)&&(e=!1),(f=d["$nil?"]())===c||f._isBoolean&&1!=f?d["$=="](e!==!1&&e!==c?(f=h.attributes["$[]"](b))!==!1&&f!==c?f:h.document.$attributes()["$[]"](b):h.attributes["$[]"](b)):(f=h.attributes["$has_key?"](b))!==!1&&f!==c?f:(g=e!==!1&&e!==c)?h.document.$attributes()["$has_key?"](b):g},j.$set_attr=function(a,b,d){var e,f,g=this;return null==d&&(d=c),((e=d["$nil?"]())===c||e._isBoolean&&1!=e)&&((e=(f=d)!==!1&&f!==c?f:g.attributes["$key?"](a)["$!"]())===c||e._isBoolean&&1!=e)?!1:(g.attributes["$[]="](a,b),!0)},j.$set_option=function(a){var b,d=this;return(b=d.attributes["$has_key?"]("options"))===c||b._isBoolean&&1!=b?d.attributes["$[]="]("options",a):d.attributes["$[]="]("options",""+d.attributes["$[]"]("options")+","+a),d.attributes["$[]="](""+a+"-option","")},j["$option?"]=function(a){var b=this;return b.attributes["$has_key?"](""+a+"-option")},j.$update_attributes=function(a){var b=this;return b.attributes.$update(a),c},j.$converter=function(){var a=this;return a.document.$converter()},j["$role?"]=function(a){var b,d=this;return null==a&&(a=c),a!==!1&&a!==c?a["$=="]((b=d.attributes["$[]"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$[]"]("role")):(b=d.attributes["$has_key?"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$has_key?"]("role")},j.$role=function(){var a,b=this;return(a=b.attributes["$[]"]("role"))!==!1&&a!==c?a:b.document.$attributes()["$[]"]("role")},j["$has_role?"]=function(a){var b,d,e=this,f=c;return(b=f=(d=e.attributes["$[]"]("role"))!==!1&&d!==c?d:e.document.$attributes()["$[]"]("role"))===c||b._isBoolean&&1!=b?!1:f.$split(" ")["$include?"](a)},j.$roles=function(){var a,b,d=this,e=c;return(a=e=(b=d.attributes["$[]"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$[]"]("role"))===c||a._isBoolean&&1!=a?[]:e.$split(" ")},j["$reftext?"]=function(){var a,b=this;return(a=b.attributes["$has_key?"]("reftext"))!==!1&&a!==c?a:b.document.$attributes()["$has_key?"]("reftext")},j.$reftext=function(){var a,b=this;return(a=b.attributes["$[]"]("reftext"))!==!1&&a!==c?a:b.document.$attributes()["$[]"]("reftext")},j.$icon_uri=function(a){var b,d=this;return(b=d["$attr?"]("icon"))===c||b._isBoolean&&1!=b?d.$image_uri(""+a+"."+d.document.$attr("icontype","png"),"iconsdir"):d.$image_uri(d.$attr("icon"),c)},j.$media_uri=function(a,b){var d=this;return null==b&&(b="imagesdir"),d.$normalize_web_path(a,function(){return b!==!1&&b!==c?d.document.$attr(b):c}())},j.$image_uri=function(a,b){var d,e,f,g,h,i=this,j=c,l=c;return null==b&&(b="imagesdir"),(d=(e=(j=i.document).$safe()["$<"](k.SafeMode._scope.SECURE))?j["$attr?"]("data-uri"):e)===c||d._isBoolean&&1!=d?i.$normalize_web_path(a,function(){return b!==!1&&b!==c?j.$attr(b):c}()):(d=(e=i["$is_uri?"](a))!==!1&&e!==c?e:(g=(h=b!==!1&&b!==c)?l=j.$attr(b):h,f=g!==!1&&g!==c?i["$is_uri?"](l):g,f!==!1&&f!==c?a=i.$normalize_web_path(a,l,!1):f))===c||d._isBoolean&&1!=d?i.$generate_data_uri(a,b):(d=j["$attr?"]("allow-uri-read"))===c||d._isBoolean&&1!=d?a:i.$generate_data_uri_from_uri(a,j["$attr?"]("cache-uri"))},j.$generate_data_uri=function(b,d){var e,h,i,j,l=this,m=c,n=c,o=c,p=c;return null==d&&(d=c),m=(null==(e=a.Object._scope.File)?a.cm("File"):e).$extname(b)["$[]"](g(1,-1,!1)),n=function(){return m["$=="]("svg")?"image/svg+xml":"image/"+m}(),o=d!==!1&&d!==c?l.$normalize_system_path(b,l.document.$attr(d),c,f(["target_name"],{target_name:"image"})):l.$normalize_system_path(b),(e=(null==(h=a.Object._scope.File)?a.cm("File"):h)["$readable?"](o))===c||e._isBoolean&&1!=e?(l.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+o),"data:"+n+":base64,"):(p=c,p=(e=(null==(h=a.Object._scope.IO)?a.cm("IO"):h)["$respond_to?"]("binread"))===c||e._isBoolean&&1!=e?(e=(h=null==(j=a.Object._scope.File)?a.cm("File"):j).$open,e._p=(i=function(a){i._s||this;return null==a&&(a=c),a.$read()},i._s=l,i),e).call(h,o,"rb"):(null==(e=a.Object._scope.IO)?a.cm("IO"):e).$binread(o),"data:"+n+";base64,"+(null==(e=a.Object._scope.Base64)?a.cm("Base64"):e).$encode64(p).$delete(k.EOL))},j.$generate_data_uri_from_uri=function(b,d){var e,f,g,h=this,i=c,j=c;null==d&&(d=!1),k.Helpers.$require_library("base64"),d!==!1&&d!==c?k.Helpers.$require_library("open-uri/cached","open-uri-cached"):(e=(null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)["$!"]())===c||e._isBoolean&&1!=e||(null==(e=a.Object._scope.OpenURI)?a.cm("OpenURI"):e);try{return i=c,j=(e=(f=h).$open,e._p=(g=function(a){g._s||this;return null==a&&(a=c),i=a.$content_type(),a.$read()},g._s=h,g),e).call(f,b,"rb"),"data:"+i+";base64,"+k.Base64.$encode64(j).$delete(k.EOL)}catch(l){return h.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}},j.$read_asset=function(b,d){var e,g,h=this;return null==d&&(d=f([],{})),((e=(null==(g=a.Object._scope.Hash)?a.cm("Hash"):g)["$==="](d))===c||e._isBoolean&&1!=e)&&(d=f(["warn_on_failure"],{warn_on_failure:d["$=="](!1)["$!"]()})),(e=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$readable?"](b))===c||e._isBoolean&&1!=e?((e=d["$[]"]("warn_on_failure"))===c||e._isBoolean&&1!=e||h.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+b),c):(e=d["$[]"]("normalize"))===c||e._isBoolean&&1!=e?(null==(e=a.Object._scope.IO)?a.cm("IO"):e).$read(b):k.Helpers.$normalize_lines_from_string((null==(e=a.Object._scope.IO)?a.cm("IO"):e).$read(b))["$*"](k.EOL)},j.$normalize_web_path=function(a,b,d){var e,f,g=this;return null==b&&(b=c),null==d&&(d=!0),(e=(f=d!==!1&&d!==c)?g["$is_uri?"](a):f)===c||e._isBoolean&&1!=e?((e=g.path_resolver)!==!1&&e!==c?e:g.path_resolver=k.PathResolver.$new()).$web_path(a,b):a},j.$normalize_system_path=function(b,d,e,g){var h,i=this,j=c,l=c;return null==d&&(d=c),null==e&&(e=c),null==g&&(g=f([],{})),j=(h=i.path_resolver)!==!1&&h!==c?h:i.path_resolver=k.PathResolver.$new(),(l=i.document).$safe()["$<"](k.SafeMode._scope.SAFE)?d!==!1&&d!==c?((h=j["$is_root?"](d))===c||h._isBoolean&&1!=h)&&(d=(null==(h=a.Object._scope.File)?a.cm("File"):h).$join(l.$base_dir(),d)):d=l.$base_dir():(d!==!1&&d!==c||(d=l.$base_dir()),e!==!1&&e!==c||(e=l.$base_dir())),j.$system_path(b,d,e,g)},j.$normalize_asset_path=function(a,b,d){var e=this;return null==b&&(b="path"),null==d&&(d=!0),e.$normalize_system_path(a,e.document.$base_dir(),c,f(["target_name","recover"],{target_name:b,recover:d}))},j.$relative_path=function(a){var b,d=this;return((b=d.path_resolver)!==!1&&b!==c?b:d.path_resolver=k.PathResolver.$new()).$relative_path(a,d.document.$base_dir())},j["$is_uri?"]=function(a){var b;return b=a["$include?"](":"),b!==!1&&b!==c?k.UriSniffRx["$=~"](a):b},j.$list_marker_keyword=function(a){var b,d=this;return null==a&&(a=c),k.ORDERED_LIST_KEYWORDS["$[]"]((b=a)!==!1&&b!==c?b:d.style)},c&&"list_marker_keyword"}(h,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.klass,h=a.hash2;return function(b){var i=f(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,f){function i(){}var j,k,l=i=g(b,f,"AbstractBlock",i),m=l._proto,n=l._scope;return m.document=m.attributes=m.blocks=m.source_location=m.subs=m.title=m.subbed_title=m.caption=m.context=m.style=m.id=m.header=m.next_section_index=m.next_section_number=c,l.$attr_accessor("content_model"),l.$attr_reader("subs"),l.$attr_reader("blocks"),l.$attr_accessor("level"),l.$attr_writer("title"),l.$attr_accessor("style"),l.$attr_accessor("caption"),l.$attr_accessor("source_location"),m.$initialize=j=function(b,d,f){var g,i,k=e.call(arguments,0),l=this,m=j._p;return null==f&&(f=h([],{})),j._p=null,a.find_super_dispatcher(l,"initialize",j,m).apply(l,k),l.content_model="compound",l.subs=[],l.default_subs=c,l.blocks=[],l.id=c,l.title=c,l.caption=c,l.style=c,l.level=function(){return d["$=="]("document")?0:(g=(i=b!==!1&&b!==c)?d["$=="]("section")["$!"]():i)===c||g._isBoolean&&1!=g?c:b.$level()}(),l.next_section_index=0,l.next_section_number=1,l.source_location=c},m["$block?"]=function(){return!0},m["$inline?"]=function(){return!1},m["$context="]=function(a){var b=this;return b.context=a,b.node_name=a.$to_s()},m.$convert=function(){var a=this;return a.document.$playback_attributes(a.attributes),a.$converter().$convert(a)},a.defn(l,"$render",m.$convert),m.$content=function(){var a,b,d,e=this;return(a=(b=e.blocks).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$convert()},d._s=e,d),a).call(b)["$*"](n.EOL)},m.$file=function(){var a,b=this;return(a=b.source_location)===c||a._isBoolean&&1!=a?c:b.source_location.$file()},m.$lineno=function(){var a,b=this;return(a=b.source_location)===c||a._isBoolean&&1!=a?c:b.source_location.$lineno()},m["$sub?"]=function(a){var b=this;return b.subs["$include?"](a)},m["$title?"]=function(){var a=this;return a.title["$nil_or_empty?"]()["$!"]()},m.$title=function(){var a,b,d=this;return b=d.subbed_title,(a=null!=b&&b!==c?"instance-variable":c)===c||a._isBoolean&&1!=a?(a=d.title)===c||a._isBoolean&&1!=a?d.title:d.subbed_title=d.$apply_title_subs(d.title):d.subbed_title},m.$captioned_title=function(){var a=this;return""+a.caption+a.$title()},m["$blocks?"]=function(){var a=this;return a.blocks["$empty?"]()["$!"]()},m["$<<"]=function(a){var b=this;return b.blocks["$<<"](a)},a.defn(l,"$append",m["$<<"]),m.$sections=function(){var a,b,d,e=this;return(a=(b=e.blocks).$select,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")},d._s=e,d),a).call(b)},m.$find_by=k=function(b){var e,f,g,i,j,l,m,n=this,o=k._p,p=o||c,q=c,r=c,s=c,t=c,u=c,v=c;if(null==b&&(b=h([],{})),k._p=null,q=[],i=(j=r=(s=b["$[]"]("context"))["$!"]())!==!1&&j!==c?j:s["$=="](n.context),g=i!==!1&&i!==c?(j=(t=b["$[]"]("style"))["$!"]())!==!1&&j!==c?j:t["$=="](n.style):i,f=g!==!1&&g!==c?(i=(u=b["$[]"]("role"))["$!"]())!==!1&&i!==c?i:n["$has_role?"](u):g,(e=f!==!1&&f!==c?(g=(v=b["$[]"]("id"))["$!"]())!==!1&&g!==c?g:v["$=="](n.id):f)!==c&&(!e._isBoolean||1==e)){if(v!==!1&&v!==c)return[function(){return(e=(f=p!==c)?(g=a.$yield1(p,n))===d?d.$v:g:f)===c||e._isBoolean&&1!=e?n:n}()];q["$<<"](function(){return(e=(f=p!==c)?(g=a.$yield1(p,n))===d?d.$v:g:f)===c||e._isBoolean&&1!=e?n:n}())}return f=(g=n.context["$=="]("document"))?(i=r)!==!1&&i!==c?i:s["$=="]("section"):g,(e=f!==!1&&f!==c?n["$header?"]():f)===c||e._isBoolean&&1!=e||q.$concat((e=(f=(g=n.header).$find_by,f._p=p.$to_proc(),f).call(g,b))!==!1&&e!==c?e:[]),s["$=="]("document")||(n.context["$=="]("dlist")?(e=(f=r)!==!1&&f!==c?f:s["$=="]("section")["$!"]())===c||e._isBoolean&&1!=e||(e=(f=n.blocks.$flatten()).$each,e._p=(l=function(a){{var d,e,f;l._s||this}return null==a&&(a=c),q.$concat((d=(e=(f=a).$find_by,e._p=p.$to_proc(),e).call(f,b))!==!1&&d!==c?d:[])},l._s=n,l),e).call(f):(e=(i=(j=n.blocks).$each,i._p=(m=function(a){{var d,e,f;m._s||this}return null==a&&(a=c),(d=(e=s["$=="]("section"))?a.$context()["$=="]("section")["$!"]():e)===c||d._isBoolean&&1!=d?q.$concat((d=(e=(f=a).$find_by,e._p=p.$to_proc(),e).call(f,b))!==!1&&d!==c?d:[]):c},m._s=n,m),i).call(j))!==c&&(!e._isBoolean||1==e)),(e=q["$empty?"]())===c||e._isBoolean&&1!=e?q:c},a.defn(l,"$query",m.$find_by),m.$remove_sub=function(a){var b=this;return b.subs.$delete(a),c},m.$assign_caption=function(a,b){var d,e,f=this,g=c,h=c,i=c,j=c;return null==a&&(a=c),null==b&&(b=c),(d=(e=f["$title?"]())!==!1&&e!==c?e:f.caption["$!"]())===c||d._isBoolean&&1!=d?c:(a!==!1&&a!==c?f.caption=a:(d=g=f.document.$attributes()["$[]"]("caption"))===c||d._isBoolean&&1!=d?(d=f["$title?"]())===c||d._isBoolean&&1!=d||((d=b)!==!1&&d!==c?d:b=f.context.$to_s(),h=""+b+"-caption",(d=i=f.document.$attributes()["$[]"](h))===c||d._isBoolean&&1!=d||(j=f.document.$counter_increment(""+b+"-number",f),f.caption=""+i+" "+j+". ")):f.caption=g,c)},m.$assign_index=function(a){var b,d,e,f,g=this,h=c,i=c;return a["$index="](g.next_section_index),g.next_section_index=g.next_section_index["$+"](1),a.$sectname()["$=="]("appendix")?(h=g.document.$counter("appendix-number","A"),(b=a.$numbered())===c||b._isBoolean&&1!=b||a["$number="](h),a["$caption="]((b=(i=g.document.$attr("appendix-caption",""))["$=="]("")["$!"]())===c||b._isBoolean&&1!=b?""+h+". ":""+i+" "+h+": ")):(b=a.$numbered())===c||b._isBoolean&&1!=b?c:(d=(e=a.$level()["$=="](1))!==!1&&e!==c?e:(f=a.$level()["$=="](0))?a.$special():f,(b=d!==!1&&d!==c?g.document.$doctype()["$=="]("book"):d)===c||b._isBoolean&&1!=b?(a["$number="](g.next_section_number),g.next_section_number=g.next_section_number["$+"](1)):a["$number="](g.document.$counter("chapter-number",1)))},m.$reindex_sections=function(){var a,b,d,e=this;return e.next_section_index=0,e.next_section_number=0,(a=(b=e.blocks).$each,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):c},d._s=e,d),a).call(b)},c&&"reindex_sections"}(i,j.AbstractNode)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b,d){function g(){}var h,i=g=e(b,d,"AttributeList",g),j=i._proto,k=i._scope;return j.attributes=j.scanner=j.delimiter=j.block=j.delimiter_skip_pattern=j.delimiter_boundary_pattern=c,(null==(h=a.Object._scope.RUBY_ENGINE)?a.cm("RUBY_ENGINE"):h)["$=="]("opal")&&(a.cdecl(k,"CG_BLANK","[ \\t]"),a.cdecl(k,"CC_WORD","a-zA-Z0-9_"),a.cdecl(k,"CG_WORD","[a-zA-Z0-9_]")),a.cdecl(k,"BoundaryRxs",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+k.CG_BLANK+"*(,|$))")})),a.cdecl(k,"EscapedQuoteRxs",f(['"',"'"],{'"':/\\"/,"'":/\\'/})),a.cdecl(k,"NameRx",new RegExp(""+k.CG_WORD+"["+k.CC_WORD+"\\-.]*")),a.cdecl(k,"BlankRx",new RegExp(""+k.CG_BLANK+"+")),a.cdecl(k,"SkipRxs",f(["blank",","],{blank:k.BlankRx,",":new RegExp(""+k.CG_BLANK+"*(,|$)")})),j.$initialize=function(b,d,e){var f,g=this;return null==d&&(d=c),null==e&&(e=","),g.scanner=(null==(f=a.Object._scope.StringScanner)?a.cm("StringScanner"):f).$new(b),g.block=d,g.delimiter=e,g.delimiter_skip_pattern=k.SkipRxs["$[]"](e),g.delimiter_boundary_pattern=k.BoundaryRxs["$[]"](e),g.attributes=c
},j.$parse_into=function(a,b){var c=this;return null==b&&(b=[]),a.$update(c.$parse(b))},j.$parse=function(a){var b,d,e=this,g=c;if(null==a&&(a=[]),(b=e.attributes)!==c&&(!b._isBoolean||1==b))return e.attributes;for(e.attributes=f([],{}),g=0;(d=e.$parse_attribute(g,a))!==c&&(!d._isBoolean||1==d)&&((d=e.scanner["$eos?"]())===c||d._isBoolean&&1!=d);)e.$skip_delimiter(),g=g["$+"](1);return e.attributes},j.$rekey=function(a){var b=this;return k.AttributeList.$rekey(b.attributes,a)},a.defs(i,"$rekey",function(a,b){var d,e,f,g=this;return(d=(e=b).$each_with_index,d._p=(f=function(b,d){var e,g=(f._s||this,c),h=c;return null==b&&(b=c),null==d&&(d=c),b===!1||b===c?c:(g=d["$+"](1),(e=h=a["$[]"](g))===c||e._isBoolean&&1!=e?c:a["$[]="](b,h))},f._s=g,f),d).call(e),a}),j.$parse_attribute=function(a,b){var d,e,f,g,h,i=this,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c,r=c;if(null==a&&(a=0),null==b&&(b=[]),j=!1,i.$skip_blank(),(k=i.scanner.$peek(1))["$=="]('"'))l=i.$parse_attribute_value(i.scanner.$get_byte()),m=c;else if(k["$=="]("'"))l=i.$parse_attribute_value(i.scanner.$get_byte()),m=c,j=!0;else{if(l=i.$scan_name(),n=0,o=c,(d=i.scanner["$eos?"]())===c||d._isBoolean&&1!=d)n=(d=i.$skip_blank())!==!1&&d!==c?d:0,o=i.scanner.$get_byte();else if(l===!1||l===c)return!1;if((d=(e=o["$!"]())!==!1&&e!==c?e:o["$=="](i.delimiter))===c||d._isBoolean&&1!=d)if((d=(e=o["$=="]("=")["$!"]())!==!1&&e!==c?e:l["$!"]())===c||d._isBoolean&&1!=d){if(i.$skip_blank(),(d=i.scanner.$peek(1))!==c&&(!d._isBoolean||1==d))if((o=i.scanner.$get_byte())["$=="]('"'))m=i.$parse_attribute_value(o);else if(o["$=="]("'"))m=i.$parse_attribute_value(o),j=!0;else if(o["$=="](i.delimiter))m=c;else if(m=""+o+i.$scan_to_delimiter(),m["$=="]("None"))return!0}else l=""+l+" "["$*"](n)+o+i.$scan_to_delimiter(),m=c;else m=c}return m!==!1&&m!==c?(p=l,"options"["$==="](p)||"opts"["$==="](p)?(l="options",(d=(e=m.$split(",")).$each,d._p=(f=function(a){var b=f._s||this;return null==b.attributes&&(b.attributes=c),null==a&&(a=c),b.attributes["$[]="](""+a.$strip()+"-option","")},f._s=i,f),d).call(e),i.attributes["$[]="](l,m)):"title"["$==="](p)?i.attributes["$[]="](l,m):i.attributes["$[]="](l,function(){return g=(h=j!==!1&&j!==c)?m["$empty?"]()["$!"]():h,(d=g!==!1&&g!==c?i.block:g)===c||d._isBoolean&&1!=d?m:i.block.$apply_normal_subs(m)}())):(q=function(){return g=(h=j!==!1&&j!==c)?l["$empty?"]()["$!"]():h,(d=g!==!1&&g!==c?i.block:g)===c||d._isBoolean&&1!=d?l:i.block.$apply_normal_subs(l)}(),(d=r=b["$[]"](a))===c||d._isBoolean&&1!=d||i.attributes["$[]="](r,q),i.attributes["$[]="](a["$+"](1),q)),!0},j.$parse_attribute_value=function(a){var b,d=this,e=c;return d.scanner.$peek(1)["$=="](a)?(d.scanner.$get_byte(),""):(b=e=d.$scan_to_quote(a))===c||b._isBoolean&&1!=b?""+a+d.$scan_to_delimiter():(d.scanner.$get_byte(),e.$gsub(k.EscapedQuoteRxs["$[]"](a),a))},j.$skip_blank=function(){var a=this;return a.scanner.$skip(k.BlankRx)},j.$skip_delimiter=function(){var a=this;return a.scanner.$skip(a.delimiter_skip_pattern)},j.$scan_name=function(){var a=this;return a.scanner.$scan(k.NameRx)},j.$scan_to_delimiter=function(){var a=this;return a.scanner.$scan(a.delimiter_boundary_pattern)},j.$scan_to_quote=function(a){var b=this;return b.scanner.$scan(k.BoundaryRxs["$[]"](a))},c&&"scan_to_quote"}(g,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2;return function(b){var h=e(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,e){function h(){}var i,j,k=h=f(b,e,"Block",h),l=k._proto,m=k._scope;return l.attributes=l.content_model=l.lines=l.subs=l.blocks=l.context=l.style=c,a.cdecl(m,"DEFAULT_CONTENT_MODEL",g(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),m.DEFAULT_CONTENT_MODEL["$default="]("simple"),a.defn(k,"$blockname",l.$context),k.$attr_accessor("lines"),l.$initialize=i=function(b,e,f){var h,j,k=d.call(arguments,0),l=this,n=i._p,o=c,p=c;return null==f&&(f=g([],{})),i._p=null,a.find_super_dispatcher(l,"initialize",i,n).apply(l,k),l.content_model=(h=f["$[]"]("content_model"))!==!1&&h!==c?h:m.DEFAULT_CONTENT_MODEL["$[]"](e),(h=f["$key?"]("subs"))===c||h._isBoolean&&1!=h?(l.subs=[],l.default_subs=c):(h=o=f["$[]"]("subs"))===c||h._isBoolean&&1!=h?(l.subs=[],l.default_subs=[],l.attributes.$delete("subs")):(o["$=="]("default")?l.default_subs=f["$[]"]("default_subs"):(h=(null==(j=a.Object._scope.Array)?a.cm("Array"):j)["$==="](o))===c||h._isBoolean&&1!=h?(l.default_subs=c,l.attributes["$[]="]("subs",""+o)):(l.default_subs=o.$dup(),l.attributes.$delete("subs")),l.$lock_in_subs()),l.lines=(h=(p=f["$[]"]("source"))["$nil_or_empty?"]())===c||h._isBoolean&&1!=h?(h=(null==(j=a.Object._scope.String)?a.cm("String"):j)["$==="](p))===c||h._isBoolean&&1!=h?p.$dup():m.Helpers.$normalize_lines_from_string(p):[]},l.$content=j=function(){var b,e,f=d.call(arguments,0),g=this,h=j._p,i=c,k=c,l=c,n=c;return j._p=null,function(){if(i=g.content_model,"compound"["$==="](i))return a.find_super_dispatcher(g,"content",j,h).apply(g,f);if("simple"["$==="](i))return g.$apply_subs(g.lines["$*"](m.EOL),g.subs);if("verbatim"["$==="](i)||"raw"["$==="](i)){if(k=g.$apply_subs(g.lines,g.subs),k.$size()["$<"](2))return k["$[]"](0);for(;e=l=k["$[]"](0),(b=e!==!1&&e!==c?l.$rstrip()["$empty?"]():e)!==c&&(!b._isBoolean||1==b);)k.$shift();for(;e=n=k["$[]"](-1),(b=e!==!1&&e!==c?n.$rstrip()["$empty?"]():e)!==c&&(!b._isBoolean||1==b);)k.$pop();return k["$*"](m.EOL)}return g.content_model["$=="]("empty")||g.$warn("Unknown content model '"+g.content_model+"' for block: "+g.$to_s()),c}()},l.$source=function(){var a=this;return a.lines["$*"](m.EOL)},l.$to_s=function(){var a=this,b=c;return b=function(){return a.content_model["$=="]("compound")?"blocks: "+a.blocks.$size():"lines: "+a.lines.$size()}(),"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", content_model: "+a.content_model.$inspect()+", style: "+a.style.$inspect()+", "+b+"}>"},c&&"to_s"}(h,i.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(a){{var b=d(a,"Asciidoctor");b._proto,b._scope}!function(a,b){function d(){}{var g=d=e(a,b,"Callouts",d),h=g._proto;g._scope}return h.co_index=h.lists=h.list_index=c,h.$initialize=function(){var a=this;return a.lists=[],a.list_index=0,a.$next_list()},h.$register=function(a){var b=this,d=c;return b.$current_list()["$<<"](f(["ordinal","id"],{ordinal:a.$to_i(),id:d=b.$generate_next_callout_id()})),b.co_index=b.co_index["$+"](1),d},h.$read_next_id=function(){var a=this,b=c,d=c;return b=c,d=a.$current_list(),a.co_index["$<="](d.$size())&&(b=d["$[]"](a.co_index["$-"](1))["$[]"]("id")),a.co_index=a.co_index["$+"](1),b},h.$callout_ids=function(a){var b,d,e,f=this;return(b=(d=f.$current_list()).$map,b._p=(e=function(b){e._s||this;return null==b&&(b=c),b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":c},e._s=f,e),b).call(d).$join().$chop()},h.$current_list=function(){var a=this;return a.lists["$[]"](a.list_index["$-"](1))},h.$next_list=function(){var a=this;return a.list_index=a.list_index["$+"](1),a.lists.$size()["$<"](a.list_index)&&a.lists["$<<"]([]),a.co_index=1,c},h.$rewind=function(){var a=this;return a.list_index=1,a.co_index=1,c},h.$generate_next_callout_id=function(){var a=this;return a.$generate_callout_id(a.list_index,a.co_index)},h.$generate_callout_id=function(a,b){return"CO"+a+"-"+b},c&&"generate_callout_id"}(b,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g._proto,g._scope);!function(a){{var b=d(a,"Converter");b._proto,b._scope}}(g),function(a,b){function c(){}var d=c=e(a,b,"Base",c),f=(d._proto,d._scope);return d.$include(f.Converter)}(h.Converter,null),function(b,d){function g(){}{var h=g=e(b,d,"BuiltIn",g),i=h._proto;h._scope}return i.$initialize=function(a,b){return null==b&&(b=f([],{})),c},i.$convert=function(a,b,d){var e,g=this;return null==b&&(b=c),null==d&&(d=f([],{})),(e=b)!==!1&&e!==c?e:b=a.$node_name(),(e=d["$empty?"]())===c||e._isBoolean&&1!=e?g.$send(b,a,d):g.$send(b,a)},a.defn(h,"$handles?",i["$respond_to?"]),i.$content=function(a){return a.$content()},a.defn(h,"$pass",i.$content),i.$skip=function(){return c},c&&"skip"}(h.Converter,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b){{var g=d(b,"Converter");g._proto,g._scope}!function(b,d){function g(){}var h=g=e(b,d,"Factory",g),i=h._proto,j=h._scope;return i.converters=i.star_converter=c,h.__default__=c,function(b){b._scope,b._proto;return b._proto.$default=function(b){var d,e,f=this;return null==f.__default__&&(f.__default__=c),null==b&&(b=!0),b===!1||b===c?(d=f.__default__)!==!1&&d!==c?d:f.$new():(d=f.__default__)!==!1&&d!==c?d:f.__default__=function(){try{!function(){return(e=null==a.Object._scope.ThreadSafe?c:"constant")===c||e._isBoolean&&1!=e?!0:c}(),f.$new((null==(e=a.Object._scope.ThreadSafe)?a.cm("ThreadSafe"):e)._scope.Cache.$new())}catch(b){if(!a.$rescue(b,[null==(e=a.Object._scope.LoadError)?a.cm("LoadError"):e]))throw b;f.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem recommended when registering custom converters."),f.$new()}}()},b._proto.$register=function(a,b){var c=this;return null==b&&(b=["*"]),c.$default().$register(a,b)},b._proto.$resolve=function(a){var b=this;return b.$default().$resolve(a)},b._proto.$create=function(a,b){var c=this;return null==b&&(b=f([],{})),c.$default().$create(a,b)},b._proto.$converters=function(){var a=this;return a.$default().$converters()},b._proto.$unregister_all=function(){var a=this;return a.$default().$unregister_all()},c&&"unregister_all"}(h.$singleton_class()),h.$attr_reader("converters"),i.$initialize=function(a){var b,d=this;return null==a&&(a=c),d.converters=(b=a)!==!1&&b!==c?b:f([],{}),d.star_converter=c},i.$register=function(a,b){var d,e,f,g=this;return null==b&&(b=["*"]),(d=(e=b).$each,d._p=(f=function(b){var d=f._s||this;return null==d.converters&&(d.converters=c),null==b&&(b=c),d.converters["$[]="](b,a),b["$=="]("*")?d.star_converter=a:c},f._s=g,f),d).call(e),c},i.$resolve=function(a){var b,d,e=this;return b=e.converters,b!==!1&&b!==c?(d=e.converters["$[]"](a))!==!1&&d!==c?d:e.star_converter:b},i.$unregister_all=function(){var a=this;return a.converters.$clear(),a.star_converter=c},i.$create=function(b,d){var e,g,h=this,i=c,k=c,l=c,m=c;return null==d&&(d=f([],{})),(e=i=h.$resolve(b))===c||e._isBoolean&&1!=e?(k=function(){return l=b,"html5"["$==="](l)?((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.Html5Converter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())!==c&&(!e._isBoolean||1==e),j.Html5Converter.$new(b,d)):"docbook5"["$==="](l)?((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.DocBook5Converter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())!==c&&(!e._isBoolean||1==e),j.DocBook5Converter.$new(b,d)):"docbook45"["$==="](l)?((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.DocBook45Converter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())!==c&&(!e._isBoolean||1==e),j.DocBook45Converter.$new(b,d)):c}(),(e=d["$key?"]("template_dirs"))===c||e._isBoolean&&1!=e?k:((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.TemplateConverter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())!==c&&(!e._isBoolean||1==e),(e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.CompositeConverter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())!==c&&(!e._isBoolean||1==e),m=j.TemplateConverter.$new(b,d["$[]"]("template_dirs"),d),j.CompositeConverter.$new(b,m,k))):(e=i["$is_a?"](null==(g=a.Object._scope.Class)?a.cm("Class"):g))===c||e._isBoolean&&1!=e?i:i.$new(b,d)},c&&"create"}(g,null)}(g)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.range,g=a.hash2;return function(b){{var h=e(b,"Asciidoctor");h._proto,h._scope}!function(b){var h=e(b,"Converter"),i=h._proto,j=h._scope;!function(b){var f=e(b,"Config"),g=f._proto,h=f._scope;g.$register_for=function(a){var b,e,f,g,i,j=this,k=c;return a=d.call(arguments,0),h.Factory.$register(j,a),k=function(a){a._scope,a._proto;return a}(j.$singleton_class()),a["$=="](["*"])?(b=(e=k).$send,b._p=(f=function(a){f._s||this;return null==a&&(a=c),!0},f._s=j,f),b).call(e,"define_method","converts?"):(b=(g=k).$send,b._p=(i=function(b){i._s||this;return null==b&&(b=c),a["$include?"](b)},i._s=j,i),b).call(g,"define_method","converts?"),c},a.donate(f,["$register_for"])}(h),function(b){var d=e(b,"BackendInfo"),h=d._proto,i=d._scope;h.$backend_info=function(){var a,b=this;return null==b.backend_info&&(b.backend_info=c),(a=b.backend_info)!==!1&&a!==c?a:b.backend_info=b.$setup_backend_info()},h.$setup_backend_info=function(){var b,d=this,e=c,h=c,j=c,k=c;return null==d.backend&&(d.backend=c),((b=d.backend)===c||b._isBoolean&&1!=b)&&d.$raise(null==(b=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):b,"Cannot determine backend for converter: "+d.$class()),e=d.backend.$sub(i.TrailingDigitsRx,""),(b=h=i.DEFAULT_EXTENSIONS["$[]"](e))===c||b._isBoolean&&1!=b?(e="html",h=".html",j="html",k="html"):j=h["$[]"](f(1,-1,!1)),g(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:h,filetype:j,htmlsyntax:k})},h.$filetype=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("filetype",a):b.$backend_info()["$[]"]("filetype")},h.$basebackend=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("basebackend",a):b.$backend_info()["$[]"]("basebackend")},h.$outfilesuffix=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("outfilesuffix",a):b.$backend_info()["$[]"]("outfilesuffix")},h.$htmlsyntax=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("htmlsyntax",a):b.$backend_info()["$[]"]("htmlsyntax")},a.donate(d,["$backend_info","$setup_backend_info","$filetype","$basebackend","$outfilesuffix","$htmlsyntax"])}(h),function(a){{var b=a._scope;a._proto}return a._proto.$included=function(a){return a.$extend(b.Config)},c&&"included"}(h.$singleton_class()),h.$include(j.Config),h.$include(j.BackendInfo),i.$initialize=function(a,b){var c=this;return null==b&&(b=g([],{})),c.backend=a,c.$setup_backend_info()},i.$convert=function(b,d,e){var f,h=this;return null==d&&(d=c),null==e&&(e=g([],{})),h.$raise(null==(f=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):f)},a.defn(h,"$convert_with_options",i.$convert),a.donate(h,["$initialize","$convert","$convert_with_options"])}(h),function(b){var d=e(b,"Writer"),f=d._proto,g=d._scope;f.$write=function(b,d){var e,f,h,i,j=this;return(e=d["$respond_to?"]("write"))===c||e._isBoolean&&1!=e?(e=(f=null==(i=a.Object._scope.File)?a.cm("File"):i).$open,e._p=(h=function(a){h._s||this;return null==a&&(a=c),a.$write(b)},h._s=j,h),e).call(f,d,"w"):(d.$write(b.$chomp()),d.$write(g.EOL)),c},a.donate(d,["$write"])}(h),function(b){var d=e(b,"VoidWriter"),f=d._proto,g=d._scope;d.$include(g.Writer),f.$write=function(){return c},a.donate(d,["$write"])}(h)}(b),!0}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range;return function(b){var h=d(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,d){function h(){}var i=h=e(b,d,"Html5Converter",h),j=i._proto,k=i._scope;return j.xml_mode=j.void_element_slash=j.stylesheets=c,a.cdecl(k,"QUOTE_TAGS",f(["emphasis","strong","monospaced","superscript","subscript","double","single","mark","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),k.QUOTE_TAGS["$default="]([c,c,c]),j.$initialize=function(a,b){var d,e=this;return null==b&&(b=f([],{})),e.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml"),e.void_element_slash=function(){return(d=e.xml_mode)===c||d._isBoolean&&1!=d?c:"/"}(),e.stylesheets=k.Stylesheets.$instance()},j.$document=function(a){var b,d,e,h,i,j=this,l=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c;return l=[],m=j.void_element_slash,n="<br"+m+">",o=a.$attr("asset-uri-scheme","https"),((b=o["$empty?"]())===c||b._isBoolean&&1!=b)&&(o=""+o+":"),p=""+o+"//cdnjs.cloudflare.com/ajax/libs",q=(b=a.$safe()["$>="](k.SafeMode._scope.SECURE))!==!1&&b!==c?b:a["$attr?"]("linkcss"),l["$<<"]("<!DOCTYPE html>"),r=function(){return(b=a["$attr?"]("nolang"))===c||b._isBoolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c}(),l["$<<"]("<html"+function(){return(b=j.xml_mode)===c||b._isBoolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"'}()+r+">"),l["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+m+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+m+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+m+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+m+">"),(b=a["$attr?"]("app-name"))===c||b._isBoolean&&1!=b||l["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+m+">"),(b=a["$attr?"]("description"))===c||b._isBoolean&&1!=b||l["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+m+">"),(b=a["$attr?"]("keywords"))===c||b._isBoolean&&1!=b||l["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+m+">"),(b=a["$attr?"]("authors"))===c||b._isBoolean&&1!=b||l["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+m+">"),(b=a["$attr?"]("copyright"))===c||b._isBoolean&&1!=b||l["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+m+">"),l["$<<"]("<title>"+a.$doctitle(f(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(b=k.DEFAULT_STYLESHEET_KEYS["$include?"](a.$attr("stylesheet")))===c||b._isBoolean&&1!=b?(b=a["$attr?"]("stylesheet"))===c||b._isBoolean&&1!=b||l["$<<"](q!==!1&&q!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+m+">":"<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),f(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>"):((b=s=a.$attr("webfonts"))===c||b._isBoolean&&1!=b||l["$<<"]('<link rel="stylesheet" href="'+o+"//fonts.googleapis.com/css?family="+function(){return(b=s["$empty?"]())===c||b._isBoolean&&1!=b?s:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400"}()+'"'+m+">"),l["$<<"](q!==!1&&q!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(k.DEFAULT_STYLESHEET_NAME,a.$attr("stylesdir",""),!1)+'"'+m+">":j.stylesheets.$embed_primary_stylesheet())),(b=a["$attr?"]("icons","font"))===c||b._isBoolean&&1!=b||((b=a["$attr?"]("iconfont-remote"))===c||b._isBoolean&&1!=b?(t=""+a.$attr("iconfont-name","font-awesome")+".css",l["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(t,a.$attr("stylesdir",""),!1)+'"'+m+">")):l["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+p+"/font-awesome/4.2.0/css/font-awesome.min.css")+'"'+m+">")),u=a.$attr("source-highlighter"),"coderay"["$==="](u)?a.$attr("coderay-css","class")["$=="]("class")&&l["$<<"](q!==!1&&q!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(j.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+m+">":j.stylesheets.$embed_coderay_stylesheet()):"pygments"["$==="](u)?a.$attr("pygments-css","class")["$=="]("class")&&(v=a.$attr("pygments-style"),l["$<<"](q!==!1&&q!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(j.stylesheets.$pygments_stylesheet_name(v),a.$attr("stylesdir",""),!1)+'"'+m+">":j.stylesheets.$embed_pygments_stylesheet(v))):"highlightjs"["$==="](u)||"highlight.js"["$==="](u)?(w=a.$attr("highlightjsdir",""+p+"/highlight.js/8.4"),l["$<<"]('<link rel="stylesheet" href="'+w+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+m+'>\n<script src="'+w+'/highlight.min.js"></script>\n<script>hljs.initHighlightingOnLoad()</script>')):"prettify"["$==="](u)&&(x=a.$attr("prettifydir",""+p+"/prettify/r298"),l["$<<"]('<link rel="stylesheet" href="'+x+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+m+'>\n<script src="'+x+"/prettify.min.js\"></script>\n<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>")),(b=a["$attr?"]("stem"))===c||b._isBoolean&&1!=b||(y=a.$attr("eqnums","none"),y["$=="]("")&&(y="AMS"),z=' equationNumbers: { autoNumber: "'+y+'" } ',l["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+k.INLINE_MATH_DELIMITERS["$[]"]("latexmath").$to_s()+"],\n    displayMath: ["+k.BLOCK_MATH_DELIMITERS["$[]"]("latexmath").$to_s()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+k.BLOCK_MATH_DELIMITERS["$[]"]("asciimath").$to_s()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+z+'}\n});\n</script>\n<script src="'+p+'/mathjax/2.4.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),((b=(A=a.$docinfo())["$empty?"]())===c||b._isBoolean&&1!=b)&&l["$<<"](A),l["$<<"]("</head>"),B=[],(b=a.$id())===c||b._isBoolean&&1!=b||B["$<<"]('id="'+a.$id()+'"'),e=a["$attr?"]("toc-class"),d=e!==!1&&e!==c?a["$attr?"]("toc"):e,B["$<<"]((b=d!==!1&&d!==c?a["$attr?"]("toc-placement","auto"):d)===c||b._isBoolean&&1!=b?'class="'+a.$doctype()+'"':'class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"'),(b=a["$attr?"]("max-width"))===c||b._isBoolean&&1!=b||B["$<<"]('style="max-width: '+a.$attr("max-width")+';"'),l["$<<"]("<body "+B["$*"](" ")+">"),((b=a.$noheader())===c||b._isBoolean&&1!=b)&&(l["$<<"]('<div id="header">'),a.$doctype()["$=="]("manpage")?(l["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>"),d=a["$attr?"]("toc"),(b=d!==!1&&d!==c?a["$attr?"]("toc-placement","auto"):d)===c||b._isBoolean&&1!=b||l["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+j.$outline(a)+"\n</div>"),l["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):((b=a["$has_header?"]())===c||b._isBoolean&&1!=b||(((b=a.$notitle())===c||b._isBoolean&&1!=b)&&l["$<<"]("<h1>"+a.$header().$title()+"</h1>"),C=[],(b=a["$attr?"]("author"))===c||b._isBoolean&&1!=b||(C["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+n),(b=a["$attr?"]("email"))===c||b._isBoolean&&1!=b||C["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+n),(D=a.$attr("authorcount").$to_i())["$>"](1)&&(b=(d=g(2,D,!1)).$each,b._p=(h=function(b){{var d;h._s||this}return null==b&&(b=c),C["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+n),(d=a["$attr?"]("email_"+b))===c||d._isBoolean&&1!=d?c:C["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+n)},h._s=j,h),b).call(d)),(b=a["$attr?"]("revnumber"))===c||b._isBoolean&&1!=b||C["$<<"]('<span id="revnumber">'+((b=a.$attr("version-label"))!==!1&&b!==c?b:"").$downcase()+" "+a.$attr("revnumber")+function(){return(b=a["$attr?"]("revdate"))===c||b._isBoolean&&1!=b?"":","}()+"</span>"),(b=a["$attr?"]("revdate"))===c||b._isBoolean&&1!=b||C["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>"),(b=a["$attr?"]("revremark"))===c||b._isBoolean&&1!=b||C["$<<"](""+n+'<span id="revremark">'+a.$attr("revremark")+"</span>"),((b=C["$empty?"]())===c||b._isBoolean&&1!=b)&&(l["$<<"]('<div class="details">'),l.$concat(C),l["$<<"]("</div>"))),e=a["$attr?"]("toc"),(b=e!==!1&&e!==c?a["$attr?"]("toc-placement","auto"):e)===c||b._isBoolean&&1!=b||l["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+j.$outline(a)+"\n</div>")),l["$<<"]("</div>")),l["$<<"]('<div id="content">\n'+a.$content()+"\n</div>"),e=a["$footnotes?"](),(b=e!==!1&&e!==c?a["$attr?"]("nofootnotes")["$!"]():e)===c||b._isBoolean&&1!=b||(l["$<<"]('<div id="footnotes">\n<hr'+m+">"),(b=(e=a.$footnotes()).$each,b._p=(i=function(a){i._s||this;return null==a&&(a=c),l["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},i._s=j,i),b).call(e),l["$<<"]("</div>")),((b=a.$nofooter())===c||b._isBoolean&&1!=b)&&(l["$<<"]('<div id="footer">'),l["$<<"]('<div id="footer-text">'),(b=a["$attr?"]("revnumber"))===c||b._isBoolean&&1!=b||l["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+n),(b=a["$attr?"]("last-update-label"))===c||b._isBoolean&&1!=b||l["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime")),l["$<<"]("</div>"),((b=(A=a.$docinfo("footer"))["$empty?"]())===c||b._isBoolean&&1!=b)&&l["$<<"](A),l["$<<"]("</div>")),l["$<<"]("</body>"),l["$<<"]("</html>"),l["$*"](k.EOL)},j.$embedded=function(a){var b,d,e,f=this,g=c,h=c;return g=[],d=a.$notitle()["$!"](),(b=d!==!1&&d!==c?a["$has_header?"]():d)===c||b._isBoolean&&1!=b||(h=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),g["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>")),g["$<<"](a.$content()),d=a["$footnotes?"](),(b=d!==!1&&d!==c?a["$attr?"]("nofootnotes")["$!"]():d)===c||b._isBoolean&&1!=b||(g["$<<"]('<div id="footnotes">\n<hr'+f.void_element_slash+">"),(b=(d=a.$footnotes()).$each,b._p=(e=function(a){e._s||this;return null==a&&(a=c),g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a> "+a.$text()+"\n</div>")},e._s=f,e),b).call(d),g["$<<"]("</div>")),g["$*"](k.EOL)},j.$outline=function(a,b){var d,e,g,h=this,i=c,j=c,l=c,m=c,n=c,o=c;return null==b&&(b=f([],{})),(d=(i=a.$sections())["$empty?"]())===c||d._isBoolean&&1!=d?(j=(d=b["$[]"]("sectnumlevels"))!==!1&&d!==c?d:a.$document().$attr("sectnumlevels",3).$to_i(),l=(d=b["$[]"]("toclevels"))!==!1&&d!==c?d:a.$document().$attr("toclevels",2).$to_i(),m=[],n=(o=i["$[]"](0)).$level(),(d=(e=n["$=="](0))?o.$special():e)===c||d._isBoolean&&1!=d||(n=1),m["$<<"]('<ul class="sectlevel'+n+'">'),(d=(e=i).$each,d._p=(g=function(a){var b,d,e,h=g._s||this,i=c,k=c;return null==a&&(a=c),i=function(){return e=a.$numbered(),d=e!==!1&&e!==c?a.$caption()["$!"]():e,(b=d!==!1&&d!==c?a.$level()["$<="](j):d)===c||b._isBoolean&&1!=b?c:""+a.$sectnum()+" "}(),(b=(d=a.$level()["$<"](l))?k=h.$outline(a,f(["toclevels","secnumlevels"],{toclevels:l,secnumlevels:j})):d)===c||b._isBoolean&&1!=b?m["$<<"]('<li><a href="#'+a.$id()+'">'+i+a.$captioned_title()+"</a></li>"):(m["$<<"]('<li><a href="#'+a.$id()+'">'+i+a.$captioned_title()+"</a>"),m["$<<"](k),m["$<<"]("</li>"))},g._s=h,g),d).call(e),m["$<<"]("</ul>"),m["$*"](k.EOL)):c},j.$section=function(a){var b,d,e,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c;return f=a.$level(),(b=(d=f["$=="](0))?a.$special():d)===c||b._isBoolean&&1!=b||(f=1),g="h"+f["$+"](1),h=i=j=k=c,(b=a.$id())===c||b._isBoolean&&1!=b||(h=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===c||b._isBoolean&&1!=b?(b=a.$document()["$attr?"]("sectlinks"))===c||b._isBoolean&&1!=b||(j='<a class="link" href="#'+a.$id()+'">',k="</a>"):i='<a class="anchor" href="#'+a.$id()+'"></a>'),f["$=="](0)?"<h1"+h+' class="sect0">'+i+j+a.$title()+k+"</h1>\n"+a.$content():(l=function(){return(b=m=a.$role())===c||b._isBoolean&&1!=b?' class="sect'+f+'"':' class="sect'+f+" "+m+'"'}(),n=function(){return e=a.$numbered(),d=e!==!1&&e!==c?a.$caption()["$!"]():e,(b=d!==!1&&d!==c?f["$<="](a.$document().$attr("sectnumlevels",3).$to_i()):d)===c||b._isBoolean&&1!=b?c:""+a.$sectnum()+" "}(),"<div"+l+">\n<"+g+h+">"+i+j+n+a.$captioned_title()+k+"</"+g+">\n"+function(){return f["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content()}()+"\n</div>")},j.$admonition=function(a){var b,d=this,e=c,f=c,g=c,h=c,i=c;return e=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),f=a.$attr("name"),g=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n"}(),h=function(){return(b=a.$document()["$attr?"]("icons"))===c||b._isBoolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=a.$document()["$attr?"]("icons","font"))===c||b._isBoolean&&1!=b?'<img src="'+a.$icon_uri(f)+'" alt="'+a.$caption()+'"'+d.void_element_slash+">":'<i class="fa icon-'+f+'" title="'+a.$caption()+'"></i>'}(),"<div"+e+' class="admonitionblock '+f+(b=i=a.$role(),b!==!1&&b!==c?" "+i:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},j.$audio=function(a){var b,d=this,e=c,f=c,g=c,h=c,i=c;return e=a.$document()["$attr?"]("htmlsyntax","xml"),f=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),g=["audioblock",a.$style(),a.$role()].$compact(),h=' class="'+g["$*"](" ")+'"',i=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+f+h+">\n"+i+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+function(){return(b=a["$option?"]("autoplay"))===c||b._isBoolean&&1!=b?c:d.$append_boolean_attribute("autoplay",e)}()+function(){return(b=a["$option?"]("nocontrols"))===c||b._isBoolean&&1!=b?d.$append_boolean_attribute("controls",e):c}()+function(){return(b=a["$option?"]("loop"))===c||b._isBoolean&&1!=b?c:d.$append_boolean_attribute("loop",e)}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},j.$colist=function(a){var b,d,e,f,g,h=this,i=c,j=c,l=c,m=c,n=c;return i=[],j=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),l=["colist",a.$style(),a.$role()].$compact(),m=' class="'+l["$*"](" ")+'"',i["$<<"]("<div"+j+m+">"),(b=a["$title?"]())===c||b._isBoolean&&1!=b||i["$<<"]('<div class="title">'+a.$title()+"</div>"),(b=a.$document()["$attr?"]("icons"))===c||b._isBoolean&&1!=b?(i["$<<"]("<ol>"),(b=(f=a.$items()).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),i["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},g._s=h,g),b).call(f),i["$<<"]("</ol>")):(i["$<<"]("<table>"),n=a.$document()["$attr?"]("icons","font"),(b=(d=a.$items()).$each_with_index,b._p=(e=function(b,d){var f=e._s||this,g=c,h=c;return null==f.void_element_slash&&(f.void_element_slash=c),null==b&&(b=c),null==d&&(d=c),g=d["$+"](1),h=function(){return n!==!1&&n!==c?'<i class="conum" data-value="'+g+'"></i><b>'+g+"</b>":'<img src="'+a.$icon_uri("callouts/"+g)+'" alt="'+g+'"'+f.void_element_slash+">"}(),i["$<<"]("<tr>\n<td>"+h+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},e._s=h,e),b).call(d),i["$<<"]("</table>")),i["$<<"]("</div>"),i["$*"](k.EOL)},j.$dlist=function(a){var b,d,e,f,g,h,i,j=this,l=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c;return l=[],m=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),n=function(){return o=a.$style(),"qanda"["$==="](o)?["qlist","qanda",a.$role()]:"horizontal"["$==="](o)?["hdlist",a.$role()]:["dlist",a.$style(),a.$role()]}().$compact(),p=' class="'+n["$*"](" ")+'"',l["$<<"]("<div"+m+p+">"),(b=a["$title?"]())===c||b._isBoolean&&1!=b||l["$<<"]('<div class="title">'+a.$title()+"</div>"),o=a.$style(),"qanda"["$==="](o)?(l["$<<"]("<ol>"),(b=(d=a.$items()).$each,b._p=(e=function(a,b){var d,f,g,h=e._s||this;return null==a&&(a=c),null==b&&(b=c),l["$<<"]("<li>"),(d=(f=[].concat(a)).$each,d._p=(g=function(a){g._s||this;
return null==a&&(a=c),l["$<<"]("<p><em>"+a.$text()+"</em></p>")},g._s=h,g),d).call(f),b!==!1&&b!==c&&((d=b["$text?"]())===c||d._isBoolean&&1!=d||l["$<<"]("<p>"+b.$text()+"</p>"),(d=b["$blocks?"]())===c||d._isBoolean&&1!=d||l["$<<"](b.$content())),l["$<<"]("</li>")},e._s=j,e),b).call(d),l["$<<"]("</ol>")):"horizontal"["$==="](o)?(q=j.void_element_slash,l["$<<"]("<table>"),(b=(f=a["$attr?"]("labelwidth"))!==!1&&f!==c?f:a["$attr?"]("itemwidth"))===c||b._isBoolean&&1!=b||(l["$<<"]("<colgroup>"),r=function(){return(b=a["$attr?"]("labelwidth"))===c||b._isBoolean&&1!=b?c:' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"'}(),l["$<<"]("<col"+r+q+">"),r=function(){return(b=a["$attr?"]("itemwidth"))===c||b._isBoolean&&1!=b?c:' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"'}(),l["$<<"]("<col"+r+q+">"),l["$<<"]("</colgroup>")),(b=(f=a.$items()).$each,b._p=(g=function(b,d){var e,f,h,i=g._s||this,j=c,k=c;return null==b&&(b=c),null==d&&(d=c),l["$<<"]("<tr>"),l["$<<"]('<td class="hdlist1'+function(){return(e=a["$option?"]("strong"))===c||e._isBoolean&&1!=e?c:" strong"}()+'">'),j=[].concat(b),k=j["$[]"](-1),(e=(f=j).$each,e._p=(h=function(a){{var b;h._s||this}return null==a&&(a=c),l["$<<"](a.$text()),(b=a["$=="](k)["$!"]())===c||b._isBoolean&&1!=b?c:l["$<<"]("<br"+q+">")},h._s=i,h),e).call(f),l["$<<"]("</td>"),l["$<<"]('<td class="hdlist2">'),d!==!1&&d!==c&&((e=d["$text?"]())===c||e._isBoolean&&1!=e||l["$<<"]("<p>"+d.$text()+"</p>"),(e=d["$blocks?"]())===c||e._isBoolean&&1!=e||l["$<<"](d.$content())),l["$<<"]("</td>"),l["$<<"]("</tr>")},g._s=j,g),b).call(f),l["$<<"]("</table>")):(l["$<<"]("<dl>"),s=function(){return(b=a.$style())===c||b._isBoolean&&1!=b?' class="hdlist1"':c}(),(b=(h=a.$items()).$each,b._p=(i=function(a,b){var d,e,f,g=i._s||this;return null==a&&(a=c),null==b&&(b=c),(d=(e=[].concat(a)).$each,d._p=(f=function(a){f._s||this;return null==a&&(a=c),l["$<<"]("<dt"+s+">"+a.$text()+"</dt>")},f._s=g,f),d).call(e),b!==!1&&b!==c?(l["$<<"]("<dd>"),(d=b["$text?"]())===c||d._isBoolean&&1!=d||l["$<<"]("<p>"+b.$text()+"</p>"),(d=b["$blocks?"]())===c||d._isBoolean&&1!=d||l["$<<"](b.$content()),l["$<<"]("</dd>")):c},i._s=j,i),b).call(h),l["$<<"]("</dl>")),l["$<<"]("</div>"),l["$*"](k.EOL)},j.$example=function(a){var b,d=c,e=c,f=c;return d=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+d+' class="'+function(){return(b=f=a.$role())===c||b._isBoolean&&1!=b?"exampleblock":["exampleblock",f]["$*"](" ")}()+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},j.$floating_title=function(a){var b,d=c,e=c,f=c;return d="h"+a.$level()["$+"](1),e=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),f=[a.$style(),a.$role()].$compact(),"<"+d+e+' class="'+f["$*"](" ")+'">'+a.$title()+"</"+d+">"},j.$image=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c;return f=function(){return(b=a["$attr?"]("align"))===c||b._isBoolean&&1!=b?c:a.$attr("align")}(),g=function(){return(b=a["$attr?"]("float"))===c||b._isBoolean&&1!=b?c:a.$attr("float")}(),h=function(){return(b=(d=f)!==!1&&d!==c?d:g)===c||b._isBoolean&&1!=b?c:(i=[function(){return f!==!1&&f!==c?"text-align: "+f:c}(),function(){return g!==!1&&g!==c?"float: "+g:c}()].$compact(),' style="'+i["$*"](";")+'"')}(),j=function(){return(b=a["$attr?"]("width"))===c||b._isBoolean&&1!=b?c:' width="'+a.$attr("width")+'"'}(),k=function(){return(b=a["$attr?"]("height"))===c||b._isBoolean&&1!=b?c:' height="'+a.$attr("height")+'"'}(),l='<img src="'+a.$image_uri(a.$attr("target"))+'" alt="'+a.$attr("alt")+'"'+j+k+e.void_element_slash+">",(b=m=a.$attr("link"))===c||b._isBoolean&&1!=b||(l='<a class="image" href="'+m+'">'+l+"</a>"),n=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),o=["imageblock",a.$style(),a.$role()].$compact(),p=' class="'+o["$*"](" ")+'"',q=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+"</div>"}(),"<div"+n+p+h+'>\n<div class="content">\n'+l+"\n</div>"+q+"\n</div>"},j.$listing=function(a){var b,d=c,e=c,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c;return d=(b=a.$document()["$attr?"]("prewrap")["$!"]())!==!1&&b!==c?b:a["$option?"]("nowrap"),a.$style()["$=="]("source")?(f=(b=e=a.$attr("language",c,!1))===c||b._isBoolean&&1!=b?c:' data-lang="'+e+'"',g=a.$document().$attr("source-highlighter"),"coderay"["$==="](g)?h=' class="CodeRay highlight'+function(){return d!==!1&&d!==c?" nowrap":c}()+'"':"pygments"["$==="](g)?h=' class="pygments highlight'+function(){return d!==!1&&d!==c?" nowrap":c}()+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(h=' class="highlightjs highlight'+function(){return d!==!1&&d!==c?" nowrap":c}()+'"',e!==!1&&e!==c&&(f=' class="language-'+e+'"'+f)):"prettify"["$==="](g)?(h=' class="prettyprint highlight'+function(){return d!==!1&&d!==c?" nowrap":c}()+function(){return(b=a["$attr?"]("linenums"))===c||b._isBoolean&&1!=b?c:" linenums"}()+'"',e!==!1&&e!==c&&(f=' class="language-'+e+'"'+f)):"html-pipeline"["$==="](g)?(h=function(){return e!==!1&&e!==c?' lang="'+e+'"':c}(),f=c):(h=' class="highlight'+function(){return d!==!1&&d!==c?" nowrap":c}()+'"',e!==!1&&e!==c&&(f=' class="language-'+e+'"'+f)),i="<pre"+h+"><code"+f+">",j="</code></pre>"):(i="<pre"+function(){return d!==!1&&d!==c?' class="nowrap"':c}()+">",j="</pre>"),k=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),l=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+k+' class="listingblock'+(b=m=a.$role(),b!==!1&&b!==c?" "+m:b)+'">\n'+l+'<div class="content">\n'+i+a.$content()+j+"\n</div>\n</div>"},j.$literal=function(a){var b,d=c,e=c,f=c,g=c;return d=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n"}(),f=(b=a.$document()["$attr?"]("prewrap")["$!"]())!==!1&&b!==c?b:a["$option?"]("nowrap"),"<div"+d+' class="literalblock'+(b=g=a.$role(),b!==!1&&b!==c?" "+g:b)+'">\n'+e+'<div class="content">\n<pre'+function(){return f!==!1&&f!==c?' class="nowrap"':c}()+">"+a.$content()+"</pre>\n</div>\n</div>"},j.$stem=function(b){var d,e,f=c,g=c,h=c,i=c,j=c,l=c;return f=function(){return(d=b.$id())===c||d._isBoolean&&1!=d?c:' id="'+b.$id()+'"'}(),g=function(){return(d=b["$title?"]())===c||d._isBoolean&&1!=d?c:'<div class="title">'+b.$title()+"</div>\n"}(),d=a.to_ary(k.BLOCK_MATH_DELIMITERS["$[]"](b.$style().$to_sym())),h=null==d[0]?c:d[0],i=null==d[1]?c:d[1],e=(j=b.$content())["$start_with?"](h),((d=e!==!1&&e!==c?j["$end_with?"](i):e)===c||d._isBoolean&&1!=d)&&(j=""+h+j+i),"<div"+f+' class="'+function(){return(d=l=b.$role())===c||d._isBoolean&&1!=d?"stemblock":["stemblock",l]["$*"](" ")}()+'">\n'+g+'<div class="content">\n'+j+"\n</div>\n</div>"},j.$olist=function(a){var b,d,e,f=this,g=c,h=c,i=c,j=c,l=c,m=c,n=c;return g=[],h=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),i=["olist",a.$style(),a.$role()].$compact(),j=' class="'+i["$*"](" ")+'"',g["$<<"]("<div"+h+j+">"),(b=a["$title?"]())===c||b._isBoolean&&1!=b||g["$<<"]('<div class="title">'+a.$title()+"</div>"),l=function(){return(b=m=a.$list_marker_keyword())===c||b._isBoolean&&1!=b?c:' type="'+m+'"'}(),n=function(){return(b=a["$attr?"]("start"))===c||b._isBoolean&&1!=b?c:' start="'+a.$attr("start")+'"'}(),g["$<<"]('<ol class="'+a.$style()+'"'+l+n+">"),(b=(d=a.$items()).$each,b._p=(e=function(a){{var b;e._s||this}return null==a&&(a=c),g["$<<"]("<li>"),g["$<<"]("<p>"+a.$text()+"</p>"),(b=a["$blocks?"]())===c||b._isBoolean&&1!=b||g["$<<"](a.$content()),g["$<<"]("</li>")},e._s=f,e),b).call(d),g["$<<"]("</ol>"),g["$<<"]("</div>"),g["$*"](k.EOL)},j.$open=function(a){var b,d,e,f,g=this,h=c,i=c,j=c,k=c;return(h=a.$style())["$=="]("abstract")?(b=(d=a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):d)===c||b._isBoolean&&1!=b?(i=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),j=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>"}(),"<div"+i+' class="quoteblock abstract'+(b=k=a.$role(),b!==!1&&b!==c?" "+k:b)+'">\n'+j+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"):(g.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(b=(d=h["$=="]("partintro"))?(e=(f=a.$level()["$=="](0)["$!"]())!==!1&&f!==c?f:a.$parent().$context()["$=="]("section")["$!"]())!==!1&&e!==c?e:a.$document().$doctype()["$=="]("book")["$!"]():d)===c||b._isBoolean&&1!=b?(i=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),j=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>"}(),"<div"+i+' class="openblock'+function(){return(b=(d=h!==!1&&h!==c)?h["$=="]("open")["$!"]():d)===c||b._isBoolean&&1!=b?"":" "+h}()+(b=k=a.$role(),b!==!1&&b!==c?" "+k:b)+'">\n'+j+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"):(g.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")},j.$page_break=function(){return'<div style="page-break-after: always;"></div>'},j.$paragraph=function(a){var b,d=c;return d=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?(b=a.$role())===c||b._isBoolean&&1!=b?' class="paragraph"':' class="paragraph '+a.$role()+'"':(b=a.$role())===c||b._isBoolean&&1!=b?' id="'+a.$id()+'" class="paragraph"':' id="'+a.$id()+'" class="paragraph '+a.$role()+'"'}(),(b=a["$title?"]())===c||b._isBoolean&&1!=b?"<div"+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div"+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"},j.$preamble=function(a){var b,d,e=this,f=c;return f=function(){return d=a["$attr?"]("toc"),(b=d!==!1&&d!==c?a["$attr?"]("toc-placement","preamble"):d)===c||b._isBoolean&&1!=b?c:'\n<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+e.$outline(a.$document())+"\n</div>"}(),'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+f+"\n</div>"},j.$quote=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c;return f=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),g=["quoteblock",a.$role()].$compact(),h=' class="'+g["$*"](" ")+'"',i=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>"}(),j=function(){return(b=a["$attr?"]("attribution"))===c||b._isBoolean&&1!=b?c:a.$attr("attribution")}(),k=function(){return(b=a["$attr?"]("citetitle"))===c||b._isBoolean&&1!=b?c:a.$attr("citetitle")}(),(b=(d=j)!==!1&&d!==c?d:k)===c||b._isBoolean&&1!=b?n=c:(l=function(){return k!==!1&&k!==c?"<cite>"+k+"</cite>":c}(),m=function(){return j!==!1&&j!==c?"&#8212; "+j+function(){return k!==!1&&k!==c?"<br"+e.void_element_slash+">\n":c}():c}(),n='\n<div class="attribution">\n'+m+l+"\n</div>"),"<div"+f+h+">"+i+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+n+"\n</div>"},j.$thematic_break=function(){var a=this;return"<hr"+a.void_element_slash+">"},j.$sidebar=function(a){var b,d=c,e=c,f=c;return d=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n"}(),"<div"+d+' class="'+function(){return(b=f=a.$role())===c||b._isBoolean&&1!=b?"sidebarblock":["sidebarblock",f]["$*"](" ")}()+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},j.$table=function(a){var b,d,e,f,g,h,i,j,l,m,n=this,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c;return o=[],p=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),q=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],r=[],((b=a["$option?"]("autowidth"))===c||b._isBoolean&&1!=b)&&((s=a.$attr("tablepcwidth"))["$=="](100)?q["$<<"]("spread"):r["$<<"]("width: "+s+"%;")),(b=t=a.$role())===c||b._isBoolean&&1!=b||q["$<<"](t),u=' class="'+q["$*"](" ")+'"',(b=a["$attr?"]("float"))===c||b._isBoolean&&1!=b||r["$<<"]("float: "+a.$attr("float")+";"),v=function(){return(b=r["$empty?"]())===c||b._isBoolean&&1!=b?' style="'+r["$*"](" ")+'"':c}(),o["$<<"]("<table"+p+u+v+">"),(b=a["$title?"]())===c||b._isBoolean&&1!=b||o["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>"),a.$attr("rowcount")["$>"](0)&&(w=n.void_element_slash,o["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===c||b._isBoolean&&1!=b?(b=(f=a.$columns()).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),o["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},g._s=n,g),b).call(f):(x="<col"+w+">",(b=(d=a.$columns().$size()).$times,b._p=(e=function(){e._s||this;return o["$<<"](x)},e._s=n,e),b).call(d)),o["$<<"]("</colgroup>"),(b=(h=(j=(l=["head","foot","body"]).$select,j._p=(m=function(b){m._s||this;return null==b&&(b=c),a.$rows()["$[]"](b)["$empty?"]()["$!"]()},m._s=n,m),j).call(l)).$each,b._p=(i=function(b){var d,e,f,g=i._s||this;return null==b&&(b=c),o["$<<"]("<t"+b+">"),(d=(e=a.$rows()["$[]"](b)).$each,d._p=(f=function(d){var e,g,h,i=f._s||this;return null==d&&(d=c),o["$<<"]("<tr>"),(e=(g=d).$each,e._p=(h=function(d){var e,f,g,i,j=h._s||this,k=c,l=c,m=c,n=c,p=c,q=c,r=c;return null==d&&(d=c),b["$=="]("head")?k=d.$text():(l=d.$style(),"asciidoc"["$==="](l)?k="<div>"+d.$content()+"</div>":"verse"["$==="](l)?k='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](l)?k='<div class="literal"><pre>'+d.$text()+"</pre></div>":(k="",(e=(f=d.$content()).$each,e._p=(g=function(a){g._s||this;return null==a&&(a=c),k=""+k+'<p class="tableblock">'+a+"</p>"},g._s=j,g),e).call(f))),m=function(){return(e=(i=b["$=="]("head"))!==!1&&i!==c?i:d.$style()["$=="]("header"))===c||e._isBoolean&&1!=e?"td":"th"}(),n=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"',p=function(){return(e=d.$colspan())===c||e._isBoolean&&1!=e?c:' colspan="'+d.$colspan()+'"'}(),q=function(){return(e=d.$rowspan())===c||e._isBoolean&&1!=e?c:' rowspan="'+d.$rowspan()+'"'}(),r=function(){return(e=a.$document()["$attr?"]("cellbgcolor"))===c||e._isBoolean&&1!=e?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"'}(),o["$<<"]("<"+m+n+p+q+r+">"+k+"</"+m+">")},h._s=i,h),e).call(g),o["$<<"]("</tr>")},f._s=g,f),d).call(e),o["$<<"]("</t"+b+">")},i._s=n,i),b).call(h)),o["$<<"]("</table>"),o["$*"](k.EOL)},j.$toc=function(a){var b,d,e=this,g=c,h=c,i=c,j=c,k=c,l=c;return d=(g=a.$document())["$attr?"]("toc-placement","macro"),(b=d!==!1&&d!==c?g["$attr?"]("toc"):d)===c||b._isBoolean&&1!=b?"<!-- toc disabled -->":((b=a.$id())===c||b._isBoolean&&1!=b?(h=' id="toc"',i=' id="toctitle"'):(h=' id="'+a.$id()+'"',i=' id="'+a.$id()+'title"'),j=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?g.$attr("toc-title"):a.$title()}(),k=function(){return(b=a["$attr?"]("levels"))===c||b._isBoolean&&1!=b?c:a.$attr("levels").$to_i()}(),l=function(){return(b=a["$role?"]())===c||b._isBoolean&&1!=b?g.$attr("toc-class","toc"):a.$role()}(),"<div"+h+' class="'+l+'">\n<div'+i+' class="title">'+j+"</div>\n"+e.$outline(g,f(["toclevels"],{toclevels:k}))+"\n</div>")},j.$ulist=function(a){var b,d,e,f=this,g=c,h=c,i=c,j=c,l=c,m=c,n=c;return g=[],h=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),i=["ulist",a.$style(),a.$role()].$compact(),j=c,l=c,(b=m=a["$option?"]("checklist"))===c||b._isBoolean&&1!=b?n=function(){return(b=a.$style())===c||b._isBoolean&&1!=b?c:' class="'+a.$style()+'"'}():(i.$insert(1,"checklist"),n=' class="checklist"',(b=a["$option?"]("interactive"))===c||b._isBoolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===c||b._isBoolean&&1!=b?(j="&#10003; ",l="&#10063; "):(j='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===c||b._isBoolean&&1!=b?(j='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):(j='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> ')),g["$<<"]("<div"+h+' class="'+i["$*"](" ")+'">'),(b=a["$title?"]())===c||b._isBoolean&&1!=b||g["$<<"]('<div class="title">'+a.$title()+"</div>"),g["$<<"]("<ul"+n+">"),(b=(d=a.$items()).$each,b._p=(e=function(a){{var b,d;e._s||this}return null==a&&(a=c),g["$<<"]("<li>"),g["$<<"]((b=(d=m!==!1&&m!==c)?a["$attr?"]("checkbox"):d)===c||b._isBoolean&&1!=b?"<p>"+a.$text()+"</p>":"<p>"+function(){return(b=a["$attr?"]("checked"))===c||b._isBoolean&&1!=b?l:j}()+a.$text()+"</p>"),(b=a["$blocks?"]())===c||b._isBoolean&&1!=b||g["$<<"](a.$content()),g["$<<"]("</li>")},e._s=f,e),b).call(d),g["$<<"]("</ul>"),g["$<<"]("</div>"),g["$*"](k.EOL)},j.$verse=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c;return f=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="'+a.$id()+'"'}(),g=["verseblock",a.$role()].$compact(),h=' class="'+g["$*"](" ")+'"',i=function(){return(b=a["$title?"]())===c||b._isBoolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>"}(),j=function(){return(b=a["$attr?"]("attribution"))===c||b._isBoolean&&1!=b?c:a.$attr("attribution")}(),k=function(){return(b=a["$attr?"]("citetitle"))===c||b._isBoolean&&1!=b?c:a.$attr("citetitle")}(),(b=(d=j)!==!1&&d!==c?d:k)===c||b._isBoolean&&1!=b?n=c:(l=function(){return k!==!1&&k!==c?"<cite>"+k+"</cite>":c}(),m=function(){return j!==!1&&j!==c?"&#8212; "+j+function(){return k!==!1&&k!==c?"<br"+e.void_element_slash+">\n":c}():c}(),n='\n<div class="attribution">\n'+m+l+"\n</div>"),"<div"+f+h+">"+i+'\n<pre class="content">'+a.$content()+"</pre>"+n+"\n</div>"},j.$video=function(b){var d,e,f=this,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c,F=c,G=c,H=c,I=c,J=c;return g=b.$document()["$attr?"]("htmlsyntax","xml"),h=function(){return(d=b.$id())===c||d._isBoolean&&1!=d?c:' id="'+b.$id()+'"'}(),i=["videoblock",b.$style(),b.$role()].$compact(),j=' class="'+i["$*"](" ")+'"',k=function(){return(d=b["$title?"]())===c||d._isBoolean&&1!=d?c:'\n<div class="title">'+b.$captioned_title()+"</div>"}(),l=function(){return(d=b["$attr?"]("width"))===c||d._isBoolean&&1!=d?c:' width="'+b.$attr("width")+'"'}(),m=function(){return(d=b["$attr?"]("height"))===c||d._isBoolean&&1!=d?c:' height="'+b.$attr("height")+'"'}(),function(){return n=b.$attr("poster"),"vimeo"["$==="](n)?(o=function(){return(d=b["$attr?"]("start",c,!1))===c||d._isBoolean&&1!=d?c:"#at="+b.$attr("start")}(),p="?",q=function(){return(d=b["$option?"]("autoplay"))===c||d._isBoolean&&1!=d?c:""+p+"autoplay=1"}(),q!==!1&&q!==c&&(p="&amp;"),r=function(){return(d=b["$option?"]("loop"))===c||d._isBoolean&&1!=d?c:""+p+"loop=1"}(),"<div"+h+j+">"+k+'\n<div class="content">\n<iframe'+l+m+' src="//player.vimeo.com/video/'+b.$attr("target")+o+q+r+'" frameborder="0"'+function(){return(d=b["$option?"]("nofullscreen"))===c||d._isBoolean&&1!=d?f.$append_boolean_attribute("allowfullscreen",g):c}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](n)?(s=function(){return(d=b["$option?"]("related"))===c||d._isBoolean&&1!=d?0:1}(),t=function(){return(d=b["$attr?"]("start",c,!1))===c||d._isBoolean&&1!=d?c:"&amp;start="+b.$attr("start")}(),u=function(){return(d=b["$attr?"]("end",c,!1))===c||d._isBoolean&&1!=d?c:"&amp;end="+b.$attr("end")}(),q=function(){return(d=b["$option?"]("autoplay"))===c||d._isBoolean&&1!=d?c:"&amp;autoplay=1"}(),r=function(){return(d=b["$option?"]("loop"))===c||d._isBoolean&&1!=d?c:"&amp;loop=1"}(),v=function(){return(d=b["$option?"]("nocontrols"))===c||d._isBoolean&&1!=d?c:"&amp;controls=0"}(),(d=b["$option?"]("nofullscreen"))===c||d._isBoolean&&1!=d?(w=c,x=f.$append_boolean_attribute("allowfullscreen",g)):(w="&amp;fs=0",x=c),y=function(){return(d=b["$option?"]("modest"))===c||d._isBoolean&&1!=d?c:"&amp;modestbranding=1"}(),z=function(){return(d=b["$attr?"]("theme",c,!1))===c||d._isBoolean&&1!=d?c:"&amp;theme="+b.$attr("theme")}(),A=function(){return(d=b["$attr?"]("lang"))===c||d._isBoolean&&1!=d?c:"&amp;hl="+b.$attr("lang")}(),d=a.to_ary(b.$attr("target").$split("/",2)),B=null==d[0]?c:d[0],C=null==d[1]?c:d[1],(d=(e=C)!==!1&&e!==c?e:C=b.$attr("list",c,!1))===c||d._isBoolean&&1!=d?(d=a.to_ary(B.$split(",",2)),B=null==d[0]?c:d[0],E=null==d[1]?c:d[1],D=(d=(e=E)!==!1&&e!==c?e:E=b.$attr("playlist",c,!1))===c||d._isBoolean&&1!=d?c:"&amp;playlist="+E):D="&amp;list="+C,"<div"+h+j+">"+k+'\n<div class="content">\n<iframe'+l+m+' src="//www.youtube.com/embed/'+B+"?rel="+s+t+u+q+r+v+D+w+y+z+A+'" frameborder="0"'+x+"></iframe>\n</div>\n</div>"):(F=function(){return(d=(""+(G=b.$attr("poster")))["$empty?"]())===c||d._isBoolean&&1!=d?' poster="'+b.$media_uri(G)+'"':c}(),H=b.$attr("start",c,!1),I=b.$attr("end",c,!1),J=function(){return(d=(e=H)!==!1&&e!==c?e:I)===c||d._isBoolean&&1!=d?c:"#t="+H+function(){return I!==!1&&I!==c?",":c}()+I}(),"<div"+h+j+">"+k+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+J+'"'+l+m+F+function(){return(d=b["$option?"]("autoplay"))===c||d._isBoolean&&1!=d?c:f.$append_boolean_attribute("autoplay",g)}()+function(){return(d=b["$option?"]("nocontrols"))===c||d._isBoolean&&1!=d?f.$append_boolean_attribute("controls",g):c}()+function(){return(d=b["$option?"]("loop"))===c||d._isBoolean&&1!=d?c:f.$append_boolean_attribute("loop",g)}()+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},j.$inline_anchor=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c;return f=a.$target(),function(){return g=a.$type(),"xref"["$==="](g)?(h=(b=a.$attr("refid"))!==!1&&b!==c?b:f,i=(b=a.$text())!==!1&&b!==c?b:(d=a.$document().$references()["$[]"]("ids")["$[]"](h))!==!1&&d!==c?d:"["+h+"]",'<a href="'+f+'">'+i+"</a>"):"ref"["$==="](g)?'<a id="'+f+'"></a>':"link"["$==="](g)?(j=[],(b=a.$id())===c||b._isBoolean&&1!=b||j["$<<"](' id="'+a.$id()+'"'),(b=k=a.$role())===c||b._isBoolean&&1!=b||j["$<<"](' class="'+k+'"'),(b=a["$attr?"]("title"))===c||b._isBoolean&&1!=b||j["$<<"](' title="'+a.$attr("title")+'"'),(b=a["$attr?"]("window"))===c||b._isBoolean&&1!=b||j["$<<"](' target="'+a.$attr("window")+'"'),'<a href="'+f+'"'+j.$join()+">"+a.$text()+"</a>"):"bibref"["$==="](g)?'<a id="'+f+'"></a>['+f+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},j.$inline_break=function(a){var b=this;return""+a.$text()+"<br"+b.void_element_slash+">"},j.$inline_button=function(a){return'<b class="button">'+a.$text()+"</b>"},j.$inline_callout=function(a){var b,d=this,e=c;return(b=a.$document()["$attr?"]("icons","font"))===c||b._isBoolean&&1!=b?(b=a.$document()["$attr?"]("icons"))===c||b._isBoolean&&1!=b?'<b class="conum">('+a.$text()+")</b>":(e=a.$icon_uri("callouts/"+a.$text()),'<img src="'+e+'" alt="'+a.$text()+'"'+d.void_element_slash+">"):'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"},j.$inline_footnote=function(a){var b,d=c,e=c;return(b=d=a.$attr("index"))===c||b._isBoolean&&1!=b?a.$type()["$=="]("xref")?'<span class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</span>":c:a.$type()["$=="]("xref")?'<span class="footnoteref">[<a class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</span>":(e=function(){return(b=a.$id())===c||b._isBoolean&&1!=b?c:' id="_footnote_'+a.$id()+'"'}(),'<span class="footnote"'+e+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</span>")},j.$inline_image=function(a){var b,d,e,f=this,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c;return(b=(d=(g=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):d)===c||b._isBoolean&&1!=b?(b=(d=g["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():d)===c||b._isBoolean&&1!=b?(k=function(){return(b=g["$=="]("icon"))===c||b._isBoolean&&1!=b?a.$image_uri(a.$target()):a.$icon_uri(a.$target())}(),l=(b=(d=["alt","width","height","title"]).$map,b._p=(e=function(b){{var d;e._s||this}return null==b&&(b=c),(d=a["$attr?"](b))===c||d._isBoolean&&1!=d?c:" "+b+'="'+a.$attr(b)+'"'},e._s=f,e),b).call(d).$join(),j='<img src="'+k+'"'+l+f.void_element_slash+">"):j="["+a.$attr("alt")+"]":(h="fa fa-"+a.$target(),(b=a["$attr?"]("size"))===c||b._isBoolean&&1!=b||(h=""+h+" fa-"+a.$attr("size")),(b=a["$attr?"]("rotate"))===c||b._isBoolean&&1!=b||(h=""+h+" fa-rotate-"+a.$attr("rotate")),(b=a["$attr?"]("flip"))===c||b._isBoolean&&1!=b||(h=""+h+" fa-flip-"+a.$attr("flip")),i=function(){return(b=a["$attr?"]("title"))===c||b._isBoolean&&1!=b?c:' title="'+a.$attr("title")+'"'}(),j='<i class="'+h+'"'+i+"></i>"),(b=a["$attr?"]("link"))===c||b._isBoolean&&1!=b||(m=function(){return(b=a["$attr?"]("window"))===c||b._isBoolean&&1!=b?c:' target="'+a.$attr("window")+'"'}(),j='<a class="image" href="'+a.$attr("link")+'"'+m+">"+j+"</a>"),n=function(){return(b=o=a.$role())===c||b._isBoolean&&1!=b?g:""+g+" "+o}(),p=function(){return(b=a["$attr?"]("float"))===c||b._isBoolean&&1!=b?c:' style="float: '+a.$attr("float")+'"'}(),'<span class="'+n+'"'+p+">"+j+"</span>"},j.$inline_indexterm=function(a){return a.$type()["$=="]("visible")?a.$text():""},j.$inline_kbd=function(a){var b,d,e,f=this,g=c,h=c;return(g=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+g["$[]"](0)+"</kbd>":(h=(b=(d=g).$map,b._p=(e=function(a){e._s||this;return null==a&&(a=c),"<kbd>"+a+"</kbd>+"},e._s=f,e),b).call(d).$join().$chop(),'<span class="keyseq">'+h+"</span>")},j.$inline_menu=function(a){var b,d,e,f=this,g=c,h=c,i=c,j=c;return g=a.$attr("menu"),(b=(h=a.$attr("submenus"))["$empty?"]()["$!"]())===c||b._isBoolean&&1!=b?(b=j=a.$attr("menuitem"))===c||b._isBoolean&&1!=b?'<span class="menu">'+g+"</span>":'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+j+"</span></span>":(i=(b=(d=h).$map,b._p=(e=function(a){e._s||this;return null==a&&(a=c),'<span class="submenu">'+a+"</span>&#160;&#9656; "},e._s=f,e),b).call(d).$join().$chop(),'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+i+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>")},j.$inline_quoted=function(b){var d,e=c,f=c,g=c,h=c,i=c;return d=a.to_ary(k.QUOTE_TAGS["$[]"](b.$type())),e=null==d[0]?c:d[0],f=null==d[1]?c:d[1],g=null==d[2]?c:d[2],i=(d=h=b.$role())===c||d._isBoolean&&1!=d?""+e+b.$text()+f:g!==!1&&g!==c?""+e.$chop()+' class="'+h+'">'+b.$text()+f:'<span class="'+h+'">'+e+b.$text()+f+"</span>",(d=b.$id())===c||d._isBoolean&&1!=d?i:'<a id="'+b.$id()+'"></a>'+i},j.$append_boolean_attribute=function(a,b){return b!==!1&&b!==c?" "+a+'="'+a+'"':" "+a},c&&"append_boolean_attribute"}(i.Converter,i.Converter._scope.BuiltIn)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range;return function(b){var i=e(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,e){function i(){}var j,k,l,m,n=i=f(b,e,"Document",i),o=n._proto,p=n._scope;return o.attributes=o.safe=o.reader=o.callouts=o.base_dir=o.parsed=o.parent_document=o.extensions=o.options=o.counters=o.references=o.doctype=o.backend=o.header=o.blocks=o.attributes_modified=o.id=o.original_attributes=o.attribute_overrides=o.converter=o.docinfo_processor_extensions=o.document=c,a.cdecl(p,"Footnote",(null==(j=a.Object._scope.Struct)?a.cm("Struct"):j).$new("index","id","text")),function(a,b){function d(){}{var e=d=f(a,b,"AttributeEntry",d),g=e._proto;e._scope}return e.$attr_reader("name","value","negate"),g.$initialize=function(a,b,d){var e,f=this;return null==d&&(d=c),f.name=a,f.value=b,f.negate=function(){return(e=d["$nil?"]())===c||e._isBoolean&&1!=e?d:b["$nil?"]()}()},g.$save_to=function(a){var b,d,e,f=this;return(b="attribute_entries",d=a,(e=d["$[]"](b))!==!1&&e!==c?e:d["$[]="](b,[]))["$<<"](f)},c&&"save_to"}(n,null),function(b,d){function e(){}var h=e=f(b,d,"Title",e),i=h._proto,j=h._scope;return i.sanitized=i.subtitle=i.combined=c,h.$attr_reader("main"),h.$attr_reader("subtitle"),h.$attr_reader("combined"),i.$initialize=function(b,d){var e,f,h=this,i=c;return null==d&&(d=g([],{})),f=h.sanitized=d["$[]"]("sanitize"),(e=f!==!1&&f!==c?b["$include?"]("<"):f)===c||e._isBoolean&&1!=e||(b=b.$gsub(j.XmlSanitizeRx,"").$tr_s(" "," ").$strip()),(e=(h.combined=b)["$include?"](": "))===c||e._isBoolean&&1!=e?(h.main=b,h.subtitle=c):(e=a.to_ary(b.$rpartition(": ")),h.main=null==e[0]?c:e[0],i=null==e[1]?c:e[1],h.subtitle=null==e[2]?c:e[2])},i["$sanitized?"]=function(){var a=this;return a.sanitized},i["$subtitle?"]=function(){var a=this;return a.subtitle["$!"]()["$!"]()},i.$to_s=function(){var a=this;return a.combined},c&&"to_s"}(n,null),n.$attr_reader("safe"),n.$attr_reader("compat_mode"),n.$attr_reader("sourcemap"),n.$attr_reader("references"),n.$attr_reader("counters"),n.$attr_reader("callouts"),n.$attr_reader("header"),n.$attr_reader("base_dir"),n.$attr_reader("options"),n.$attr_reader("parent_document"),n.$attr_reader("reader"),n.$attr_reader("converter"),n.$attr_reader("extensions"),o.$initialize=k=function(b,d){var e,f,i,j,l,m,n,o,q,r,s,t,u=this,v=(k._p,c),w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c,F=c,G=c,H=c,I=c;if(null==b&&(b=c),null==d&&(d=g([],{})),k._p=null,a.find_super_dispatcher(u,"initialize",k,null).apply(u,[u,"document"]),(e=v=d.$delete("parent"))===c||e._isBoolean&&1!=e){if(u.parent_document=c,u.references=g(["ids","footnotes","links","images","indexterms","includes"],{ids:g([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:(null==(e=a.Object._scope.Set)?a.cm("Set"):e).$new()}),w=g([],{}),(e=(i=(m=d["$[]"]("attributes"))!==!1&&m!==c?m:g([],{})).$each,e._p=(l=function(a,b){{var d;l._s||this}return null==a&&(a=c),null==b&&(b=c),(d=a["$start_with?"]("!"))===c||d._isBoolean&&1!=d?(d=a["$end_with?"]("!"))===c||d._isBoolean&&1!=d||(a=a.$chop(),b=c):(a=a["$[]"](h(1,-1,!1)),b=c),w["$[]="](a.$downcase(),b)},l._s=u,l),e).call(i),u.attribute_overrides=w,(e=(y=d["$[]"]("safe"))["$!"]())===c||e._isBoolean&&1!=e)if((e=(null==(m=a.Object._scope.Fixnum)?a.cm("Fixnum"):m)["$==="](y))===c||e._isBoolean&&1!=e)try{u.safe=p.SafeMode.$const_get(y.$to_s().$upcase())}catch(J){u.safe=p.SafeMode._scope.SECURE}else u.safe=y;else u.safe=p.SafeMode._scope.SECURE;u.sourcemap=d["$[]"]("sourcemap"),u.compat_mode=!1,u.converter=c,x=function(){try{return null!=(null==(e=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):e)._scope.Extensions?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}(),u.extensions=c}else u.parent_document=v,e="base_dir",f=d,(i=f["$[]"](e))!==!1&&i!==c?i:f["$[]="](e,v.$base_dir()),u.references=(e=(f=v.$references()).$inject,e._p=(j=function(a,b){j._s||this;return null==a&&(a=c),key=b[0],ref=b[1],key["$=="]("footnotes")?a["$[]="]("footnotes",[]):a["$[]="](key,ref),a},j._s=u,j),e).call(f,g([],{})),w=v.$attributes().$dup(),w.$delete("doctype"),w.$delete("compat-mode"),u.attribute_overrides=w,u.safe=v.$safe(),u.compat_mode=v.$compat_mode(),u.sourcemap=v.$sourcemap(),u.converter=v.$converter(),x=!1,u.extensions=v.$extensions();if(u.parsed=!1,u.header=c,u.counters=g([],{}),u.callouts=p.Callouts.$new(),u.attributes_modified=(null==(e=a.Object._scope.Set)?a.cm("Set"):e).$new(),u.options=d,u.docinfo_processor_extensions=g([],{}),e="header_footer",m=d,z=(n=m["$[]"](e))!==!1&&n!==c?n:m["$[]="](e,!1),d.$freeze(),A=u.attributes,A["$[]="]("encoding","UTF-8"),A["$[]="]("sectids",""),z!==!1&&z!==c||A["$[]="]("notitle",""),A["$[]="]("toc-placement","auto"),A["$[]="]("stylesheet",""),A["$[]="]("webfonts",""),z!==!1&&z!==c&&A["$[]="]("copycss",""),A["$[]="]("prewrap",""),A["$[]="]("attribute-undefined",p.Compliance.$attribute_undefined()),A["$[]="]("attribute-missing",p.Compliance.$attribute_missing()),A["$[]="]("iconfont-remote",""),A["$[]="]("caution-caption","Caution"),A["$[]="]("important-caption","Important"),A["$[]="]("note-caption","Note"),A["$[]="]("tip-caption","Tip"),A["$[]="]("warning-caption","Warning"),A["$[]="]("appendix-caption","Appendix"),A["$[]="]("example-caption","Example"),A["$[]="]("figure-caption","Figure"),A["$[]="]("table-caption","Table"),A["$[]="]("toc-title","Table of Contents"),A["$[]="]("manname-title","NAME"),A["$[]="]("untitled-label","Untitled"),A["$[]="]("version-label","Version"),A["$[]="]("last-update-label","Last updated"),w["$[]="]("asciidoctor",""),w["$[]="]("asciidoctor-version",p.VERSION),B=(e=(m=p.SafeMode.$constants()).$detect,e._p=(o=function(a){var b=o._s||this;
return null==b.safe&&(b.safe=c),null==a&&(a=c),p.SafeMode.$const_get(a)["$=="](b.safe)},o._s=u,o),e).call(m).$to_s().$downcase(),w["$[]="]("safe-mode-name",B),w["$[]="]("safe-mode-"+B,""),w["$[]="]("safe-mode-level",u.safe),w["$[]="]("embedded",function(){return z!==!1&&z!==c?c:""}()),e="max-include-depth",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,64),((e=w["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===c||e._isBoolean&&1!=e)&&w["$[]="]("allow-uri-read",c),w["$[]="]("user-home",p.USER_HOME),(e=w["$key?"]("numbered"))===c||e._isBoolean&&1!=e||w["$[]="]("sectnums",w.$delete("numbered")),u.base_dir=(e=d["$[]"]("base_dir"))===c||e._isBoolean&&1!=e?(e=w["$[]"]("docdir"))===c||e._isBoolean&&1!=e?w["$[]="]("docdir",(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path((null==(e=a.Object._scope.Dir)?a.cm("Dir"):e).$pwd())):w["$[]="]("docdir",(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path(w["$[]"]("docdir"))):w["$[]="]("docdir",(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path(d["$[]"]("base_dir"))),(e=C=d["$[]"]("backend"))===c||e._isBoolean&&1!=e||w["$[]="]("backend",""+C),(e=D=d["$[]"]("doctype"))===c||e._isBoolean&&1!=e||w["$[]="]("doctype",""+D),u.safe["$>="](p.SafeMode._scope.SERVER)&&(e="copycss",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,c),e="source-highlighter",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,c),e="backend",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,p.DEFAULT_BACKEND),n=v["$!"](),(e=n!==!1&&n!==c?w["$key?"]("docfile"):n)===c||e._isBoolean&&1!=e||w["$[]="]("docfile",w["$[]"]("docfile")["$[]"](h(w["$[]"]("docdir").$length()["$+"](1),-1,!1))),w["$[]="]("docdir",""),w["$[]="]("user-home","."),u.safe["$>="](p.SafeMode._scope.SECURE)&&(((e=w.$fetch("linkcss","")["$nil?"]())===c||e._isBoolean&&1!=e)&&w["$[]="]("linkcss",""),e="icons",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,c))),(e=(n=w).$delete_if,e._p=(r=function(b,d){var e,f,g,h=(r._s||this,c);return null==b&&(b=c),null==d&&(d=c),h=!1,(e=d["$nil?"]())===c||e._isBoolean&&1!=e?(f=(null==(g=a.Object._scope.String)?a.cm("String"):g)["$==="](d),(e=f!==!1&&f!==c?d["$end_with?"]("@"):f)===c||e._isBoolean&&1!=e||(d=d.$chop(),h=!0),A["$[]="](b,d)):A.$delete(b),h},r._s=u,r),e).call(n),(e=A["$key?"]("compat-mode"))===c||e._isBoolean&&1!=e||(u.compat_mode=!0),v!==!1&&v!==c)return e="doctype",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,p.DEFAULT_DOCTYPE),u.reader=p.Reader.$new(b,d["$[]"]("cursor")),p.Parser.$parse(u.reader,u),u.callouts.$rewind(),u.parsed=!0;if(e="backend",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,p.DEFAULT_BACKEND),e="doctype",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,p.DEFAULT_DOCTYPE),u.$update_backend_attributes(A["$[]"]("backend"),!0),E=(null==(e=a.Object._scope.Time)?a.cm("Time"):e).$now(),e="localdate",q=A,F=(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,E.$strftime("%Y-%m-%d")),(e=G=A["$[]"]("localtime"))===c||e._isBoolean&&1!=e)try{G=A["$[]="]("localtime",E.$strftime("%H:%M:%S %Z"))}catch(J){G=A["$[]="]("localtime",E.$strftime("%H:%M:%S"))}else;return e="localdatetime",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,""+F+" "+G),e="docdate",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,F),e="doctime",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,G),e="docdatetime",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,""+F+" "+G),e="stylesdir",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,"."),e="iconsdir",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,(null==(t=a.Object._scope.File)?a.cm("File"):t).$join(A.$fetch("imagesdir","./images"),"icons")),x!==!1&&x!==c&&((e=H=d["$[]"]("extensions_registry"))===c||e._isBoolean&&1!=e?H=(e=(null==(q=a.Object._scope.Proc)?a.cm("Proc"):q)["$==="](I=d["$[]"]("extensions")))===c||e._isBoolean&&1!=e?p.Extensions._scope.Registry.$new():(e=(q=p.Extensions).$build_registry,e._p=I.$to_proc(),e).call(q):((e=(q=p.Extensions._scope.Registry["$==="](H))!==!1&&q!==c?q:(s=null==(t=a.Object._scope.RUBY_ENGINE_JRUBY)?a.cm("RUBY_ENGINE_JRUBY"):t,s!==!1&&s!==c?(null==(t=a.Object._scope.AsciidoctorJ)?a.cm("AsciidoctorJ"):t)._scope.Extensions._scope.ExtensionRegistry["$==="](H):s))===c||e._isBoolean&&1!=e)&&(H=p.Extensions._scope.Registry.$new()),u.extensions=H.$activate(u)),u.reader=p.PreprocessorReader.$new(u,b,p.Reader._scope.Cursor.$new(A["$[]"]("docfile"),u.base_dir))},o.$parse=function(a){var b,d,e,f,h,i=this,j=c,k=c;return null==a&&(a=c),(b=i.parsed)===c||b._isBoolean&&1!=b?(j=i,a!==!1&&a!==c&&(i.reader=p.PreprocessorReader.$new(j,a,p.Reader._scope.Cursor.$new(i.attributes["$[]"]("docfile"),i.base_dir))),d=k=function(){return(e=i.parent_document)===c||e._isBoolean&&1!=e?i.extensions:c}(),(b=d!==!1&&d!==c?k["$preprocessors?"]():d)===c||b._isBoolean&&1!=b||(b=(d=k.$preprocessors()).$each,b._p=(f=function(a){var b,d=f._s||this;return null==d.reader&&(d.reader=c),null==a&&(a=c),d.reader=(b=a.$process_method()["$[]"](j,d.reader))!==!1&&b!==c?b:d.reader},f._s=i,f),b).call(d),p.Parser.$parse(i.reader,j,g(["header_only"],{header_only:i.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),i.callouts.$rewind(),(b=(e=k!==!1&&k!==c)?k["$treeprocessors?"]():e)===c||b._isBoolean&&1!=b||(b=(e=k.$treeprocessors()).$each,b._p=(h=function(a){var b,d,e,f=(h._s||this,c);return null==a&&(a=c),e=f=a.$process_method()["$[]"](j),d=e!==!1&&e!==c?p.Document["$==="](f):e,(b=d!==!1&&d!==c?f["$=="](j)["$!"]():d)===c||b._isBoolean&&1!=b?c:j=f},h._s=i,h),b).call(e),i.parsed=!0,j):i},o.$counter=function(a,b){var d,e,f=this,g=c,h=c;return null==b&&(b=c),e=g=(h=f.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),(d=e!==!1&&e!==c?f.counters["$key?"](a):e)===c||d._isBoolean&&1!=d?((d=b["$nil?"]())===c||d._isBoolean&&1!=d?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=f.$nextval(function(){return g!==!1&&g!==c?h:0}()),f.counters["$[]="](a,b)):f.counters["$[]="](a,f.$nextval(h)),f.attributes["$[]="](a,f.counters["$[]"](a))},o.$counter_increment=function(a,b){var d=this,e=c;return e=d.$counter(a),p.AttributeEntry.$new(a,e).$save_to(b.$attributes()),e},o.$nextval=function(b){var d,e,f=c;return(d=(null==(e=a.Object._scope.Integer)?a.cm("Integer"):e)["$==="](b))===c||d._isBoolean&&1!=d?(f=b.$to_i(),(d=f.$to_s()["$=="](b.$to_s())["$!"]())===c||d._isBoolean&&1!=d?f["$+"](1):b["$[]"](0).$ord()["$+"](1).$chr()):b["$+"](1)},o.$register=function(b,d){var e,f,g=this,h=c;return function(){return h=b,"ids"["$==="](h)?(e=(null==(f=a.Object._scope.Array)?a.cm("Array"):f)["$==="](d))===c||e._isBoolean&&1!=e?g.references["$[]"]("ids")["$[]="](d,"["["$+"](d)["$+"]("]")):g.references["$[]"]("ids")["$[]="](d["$[]"](0),(e=d["$[]"](1))!==!1&&e!==c?e:"["["$+"](d["$[]"](0))["$+"]("]")):"footnotes"["$==="](h)||"indexterms"["$==="](h)?g.references["$[]"](b)["$<<"](d):(e=g.options["$[]"]("catalog_assets"))===c||e._isBoolean&&1!=e?c:g.references["$[]"](b)["$<<"](d)}()},o["$footnotes?"]=function(){var a=this;return a.references["$[]"]("footnotes")["$empty?"]()["$!"]()},o.$footnotes=function(){var a=this;return a.references["$[]"]("footnotes")},o["$nested?"]=function(){var a=this;return a.parent_document["$!"]()["$!"]()},o["$embedded?"]=function(){var a=this;return a.attributes["$key?"]("embedded")},o["$extensions?"]=function(){var a=this;return a.extensions["$!"]()["$!"]()},o.$source=function(){var a,b=this;return(a=b.reader)===c||a._isBoolean&&1!=a?c:b.reader.$source()},o.$source_lines=function(){var a,b=this;return(a=b.reader)===c||a._isBoolean&&1!=a?c:b.reader.$source_lines()},o.$doctype=function(){var a,b=this;return(a=b.doctype)!==!1&&a!==c?a:b.doctype=b.attributes["$[]"]("doctype")},o.$backend=function(){var a,b=this;return(a=b.backend)!==!1&&a!==c?a:b.backend=b.attributes["$[]"]("backend")},o["$basebackend?"]=function(a){var b=this;return b.attributes["$[]"]("basebackend")["$=="](a)},o.$title=function(){var a=this;return a.attributes["$[]"]("title")},o["$title="]=function(a){var b,d=this;return(b=d.header)!==!1&&b!==c?b:d.header=p.Section.$new(d,0),d.header["$title="](a)},o.$doctitle=function(a){var b,d,e=this,f=c,h=c;if(null==a&&(a=g([],{})),(b=(f=e.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===c||b._isBoolean&&1!=b)if(d=h=e.$first_section(),(b=d!==!1&&d!==c?h["$title?"]():d)===c||b._isBoolean&&1!=b){if(d=a["$[]"]("use_fallback"),(b=d!==!1&&d!==c?f=e.attributes["$[]"]("untitled-label"):d)===c||b._isBoolean&&1!=b)return c}else f=h.$title();else f=e.$title();return(b=a["$[]"]("partition"))===c||b._isBoolean&&1!=b?(d=a["$[]"]("sanitize"),(b=d!==!1&&d!==c?f["$include?"]("<"):d)===c||b._isBoolean&&1!=b?f:f.$gsub(p.XmlSanitizeRx,"").$tr_s(" "," ").$strip()):p.Title.$new(f,a)},a.defn(n,"$name",o.$doctitle),o.$author=function(){var a=this;return a.attributes["$[]"]("author")},o.$revdate=function(){var a=this;return a.attributes["$[]"]("revdate")},o.$notitle=function(){var a,b=this;return a=b.attributes["$key?"]("showtitle")["$!"](),a!==!1&&a!==c?b.attributes["$key?"]("notitle"):a},o.$noheader=function(){var a=this;return a.attributes["$key?"]("noheader")},o.$nofooter=function(){var a=this;return a.attributes["$key?"]("nofooter")},o.$first_section=function(){var a,b,d,e,f=this;return(a=f["$has_header?"]())===c||a._isBoolean&&1!=a?(a=(b=(e=f.blocks)!==!1&&e!==c?e:[]).$detect,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")},d._s=f,d),a).call(b):f.header},o["$has_header?"]=function(){var a,b=this;return(a=b.header)===c||a._isBoolean&&1!=a?!1:!0},a.defn(n,"$header?",o["$has_header?"]),o["$<<"]=l=function(b){var e=d.call(arguments,0),f=this,g=l._p;return l._p=null,a.find_super_dispatcher(f,"<<",l,g).apply(f,e),b.$context()["$=="]("section")?f.$assign_index(b):c},o.$finalize_header=function(a,b){var d=this;return null==b&&(b=!0),d.$clear_playback_attributes(a),d.$save_attributes(),b!==!1&&b!==c||a["$[]="]("invalid-header",!0),a},o.$save_attributes=function(){var a,b,d,e,f=this,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c;return(g=f.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((a=(b=f["$attribute_locked?"]("toc"))!==!1&&b!==c?b:f.attributes_modified["$include?"]("toc"))===c||a._isBoolean&&1!=a)&&g["$[]="]("toc",""),((a=(b=f["$attribute_locked?"]("sectnums"))!==!1&&b!==c?b:f.attributes_modified["$include?"]("sectnums"))===c||a._isBoolean&&1!=a)&&g["$[]="]("sectnums","")),((a=(b=g["$key?"]("doctitle"))!==!1&&b!==c?b:(h=f.$doctitle())["$!"]())===c||a._isBoolean&&1!=a)&&g["$[]="]("doctitle",h),((a=f.id)===c||a._isBoolean&&1!=a)&&(f.id=g["$[]"]("css-signature")),i=function(){return(a=j=function(){return(b=g.$delete("toc2"))===c||b._isBoolean&&1!=b?g["$[]"]("toc"):"left"}())===c||a._isBoolean&&1!=a?c:(b=k=g.$fetch("toc-placement","macro"),(a=b!==!1&&b!==c?k["$=="]("auto")["$!"]():b)===c||a._isBoolean&&1!=a?g["$[]"]("toc-position"):k)}(),(a=(b=j!==!1&&j!==c)?(d=j["$empty?"]()["$!"]())!==!1&&d!==c?d:i["$nil_or_empty?"]()["$!"]():b)===c||a._isBoolean&&1!=a||(l="left",m="toc2",n=(a=i["$nil_or_empty?"]()["$!"]())===c||a._isBoolean&&1!=a?(a=j["$empty?"]()["$!"]())===c||a._isBoolean&&1!=a?l:j:i,g["$[]="]("toc",""),g["$[]="]("toc-placement","auto"),o=n,"left"["$==="](o)||"<"["$==="](o)||"&lt;"["$==="](o)?g["$[]="]("toc-position","left"):"right"["$==="](o)||">"["$==="](o)||"&gt;"["$==="](o)?g["$[]="]("toc-position","right"):"top"["$==="](o)||"^"["$==="](o)?g["$[]="]("toc-position","top"):"bottom"["$==="](o)||"v"["$==="](o)?g["$[]="]("toc-position","bottom"):"preamble"["$==="](o)||"macro"["$==="](o)?(g["$[]="]("toc-position","content"),g["$[]="]("toc-placement",n),m=c):(g.$delete("toc-position"),m=c),m!==!1&&m!==c&&(a="toc-class",b=g,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,m))),(a=g["$key?"]("compat-mode"))===c||a._isBoolean&&1!=a?f.compat_mode=!1:((a=g["$has_key?"]("language"))===c||a._isBoolean&&1!=a||g["$[]="]("source-language",g["$[]"]("language")),f.compat_mode=!0),f.original_attributes=g.$dup(),(a=f["$nested?"]())===c||a._isBoolean&&1!=a?(a=(b=p.FLEXIBLE_ATTRIBUTES).$each,a._p=(e=function(a){var b,d,f=e._s||this;return null==f.attribute_overrides&&(f.attribute_overrides=c),null==a&&(a=c),d=f.attribute_overrides["$key?"](a),(b=d!==!1&&d!==c?f.attribute_overrides["$[]"](a):d)===c||b._isBoolean&&1!=b?c:f.attribute_overrides.$delete(a)},e._s=f,e),a).call(b):c},o.$restore_attributes=function(){var a=this;return a.attributes=a.original_attributes},o.$clear_playback_attributes=function(a){return a.$delete("attribute_entries")},o.$playback_attributes=function(a){var b,d,e,f=this;return(b=a["$key?"]("attribute_entries"))===c||b._isBoolean&&1!=b?c:(b=(d=a["$[]"]("attribute_entries")).$each,b._p=(e=function(a){var b,d=e._s||this,f=c;return null==d.attributes&&(d.attributes=c),null==a&&(a=c),f=a.$name(),(b=a.$negate())===c||b._isBoolean&&1!=b?(d.attributes["$[]="](f,a.$value()),f["$=="]("compat-mode")?d.compat_mode=!0:c):(d.attributes.$delete(f),f["$=="]("compat-mode")?d.compat_mode=!1:c)},e._s=f,e),b).call(d)},o.$set_attribute=function(a,b){var d,e=this,f=c;return(d=e["$attribute_locked?"](a))===c||d._isBoolean&&1!=d?(f=a,"backend"["$==="](f)?e.$update_backend_attributes(e.$apply_attribute_value_subs(b)):"doctype"["$==="](f)?e.$update_doctype_attributes(e.$apply_attribute_value_subs(b)):e.attributes["$[]="](a,e.$apply_attribute_value_subs(b)),e.attributes_modified["$<<"](a),!0):!1},o.$delete_attribute=function(a){var b,d=this;return(b=d["$attribute_locked?"](a))===c||b._isBoolean&&1!=b?(d.attributes.$delete(a),d.attributes_modified["$<<"](a),!0):!1},o["$attribute_locked?"]=function(a){var b=this;return b.attribute_overrides["$key?"](a)},o.$apply_attribute_value_subs=function(a){var b,d=this,e=c,f=c;return(b=e=p.AttributeEntryPassMacroRx.$match(a))===c||b._isBoolean&&1!=b?d.$apply_header_subs(a):(b=e["$[]"](1)["$empty?"]()["$!"]())===c||b._isBoolean&&1!=b?e["$[]"](2):(f=d.$resolve_pass_subs(e["$[]"](1)),(b=f["$empty?"]())===c||b._isBoolean&&1!=b?d.$apply_subs(e["$[]"](2),f):e["$[]"](2))},o.$update_backend_attributes=function(a,b){var d,e,f,g=this,i=c,j=c,k=c,l=c,m=c,n=c,o=c,q=c,r=c,s=c;return null==b&&(b=!1),(d=(e=b)!==!1&&e!==c?e:(f=a!==!1&&a!==c)?a["$=="](g.attributes["$[]"]("backend"))["$!"]():f)===c||d._isBoolean&&1!=d?c:(i=g.attributes,j=i["$[]"]("backend"),k=i["$[]"]("basebackend"),l=i["$[]"]("doctype"),(d=a["$start_with?"]("xhtml"))===c||d._isBoolean&&1!=d?(d=a["$start_with?"]("html"))===c||d._isBoolean&&1!=d||i["$[]="]("htmlsyntax","html"):(i["$[]="]("htmlsyntax","xml"),a=a["$[]"](h(1,-1,!1))),(d=m=p.BACKEND_ALIASES["$[]"](a))===c||d._isBoolean&&1!=d||(a=m),j!==!1&&j!==c&&(i.$delete("backend-"+j),l!==!1&&l!==c&&i.$delete("backend-"+j+"-doctype-"+l)),l!==!1&&l!==c&&(i["$[]="]("doctype-"+l,""),i["$[]="]("backend-"+a+"-doctype-"+l,"")),i["$[]="]("backend",a),i["$[]="]("backend-"+a,""),(d=p.Converter._scope.BackendInfo["$==="](g.converter=g.$create_converter()))===c||d._isBoolean&&1!=d?(n=a.$sub(p.TrailingDigitsRx,""),q=(d=p.DEFAULT_EXTENSIONS["$[]"](n))!==!1&&d!==c?d:".html",o=q["$[]"](h(1,-1,!1)),((d=g["$attribute_locked?"]("outfilesuffix"))===c||d._isBoolean&&1!=d)&&i["$[]="]("outfilesuffix",q)):(n=g.converter.$basebackend(),((d=g["$attribute_locked?"]("outfilesuffix"))===c||d._isBoolean&&1!=d)&&i["$[]="]("outfilesuffix",g.converter.$outfilesuffix()),o=g.converter.$filetype()),(d=r=i["$[]"]("filetype"))===c||d._isBoolean&&1!=d||i.$delete("filetype-"+r),i["$[]="]("filetype",o),i["$[]="]("filetype-"+o,""),(d=s=p.DEFAULT_PAGE_WIDTHS["$[]"](n))===c||d._isBoolean&&1!=d?i.$delete("pagewidth"):i["$[]="]("pagewidth",s),(d=n["$=="](k)["$!"]())===c||d._isBoolean&&1!=d||(k!==!1&&k!==c&&(i.$delete("basebackend-"+k),l!==!1&&l!==c&&i.$delete("basebackend-"+k+"-doctype-"+l)),i["$[]="]("basebackend",n),i["$[]="]("basebackend-"+n,""),l!==!1&&l!==c&&i["$[]="]("basebackend-"+n+"-doctype-"+l,"")),g.backend=c)},o.$update_doctype_attributes=function(a){var b,d,e=this,f=c,g=c,h=c,i=c;return(b=(d=a!==!1&&a!==c)?a["$=="](e.attributes["$[]"]("doctype"))["$!"]():d)===c||b._isBoolean&&1!=b?c:(f=e.attributes,g=f["$[]"]("doctype"),h=f["$[]"]("backend"),i=f["$[]"]("basebackend"),g!==!1&&g!==c&&(f.$delete("doctype-"+g),h!==!1&&h!==c&&f.$delete("backend-"+h+"-doctype-"+g),i!==!1&&i!==c&&f.$delete("basebackend-"+i+"-doctype-"+g)),f["$[]="]("doctype",a),f["$[]="]("doctype-"+a,""),h!==!1&&h!==c&&f["$[]="]("backend-"+h+"-doctype-"+a,""),i!==!1&&i!==c&&f["$[]="]("basebackend-"+i+"-doctype-"+a,""),e.doctype=c)},o.$create_converter=function(){var b,d=this,e=c,f=c,h=c,i=c,j=c;return e=g([],{}),e["$[]="]("htmlsyntax",d.attributes["$[]"]("htmlsyntax")),f=function(){return(b=h=d.options["$[]"]("template_dir"))===c||b._isBoolean&&1!=b?(b=f=d.options["$[]"]("template_dirs"))===c||b._isBoolean&&1!=b?c:e["$[]="]("template_dirs",f):e["$[]="]("template_dirs",[h])}(),f!==!1&&f!==c&&(e["$[]="]("template_cache",d.options.$fetch("template_cache",!0)),e["$[]="]("template_engine",d.options["$[]"]("template_engine")),e["$[]="]("template_engine_options",d.options["$[]"]("template_engine_options")),e["$[]="]("eruby",d.options["$[]"]("eruby"))),j=(b=i=d.options["$[]"]("converter"))===c||b._isBoolean&&1!=b?p.Converter._scope.Factory.$default(!1):p.Converter._scope.Factory.$new((null==(b=a.Object._scope.Hash)?a.cm("Hash"):b)["$[]"](d.$backend(),i)),j.$create(d.$backend(),e)},o.$convert=function(a){var b,d,e,f=this,h=c,i=c,j=c,k=c;return null==a&&(a=g([],{})),((b=f.parsed)===c||b._isBoolean&&1!=b)&&f.$parse(),f.$restore_attributes(),((b=(d=f.safe["$>="](p.SafeMode._scope.SERVER))!==!1&&d!==c?d:a["$empty?"]())===c||b._isBoolean&&1!=b)&&(((b=f.attributes["$[]="]("outfile",a["$[]"]("outfile")))===c||b._isBoolean&&1!=b)&&f.attributes.$delete("outfile"),((b=f.attributes["$[]="]("outdir",a["$[]"]("outdir")))===c||b._isBoolean&&1!=b)&&f.attributes.$delete("outdir")),((b=f.converter)===c||b._isBoolean&&1!=b)&&f.$fail("asciidoctor: FAILED: missing converter for backend '"+f.$backend()+"'. Processing aborted."),f.$doctype()["$=="]("inline")?(d=h=f.blocks["$[]"](0),i=(b=d!==!1&&d!==c?h.$content_model()["$=="]("compound")["$!"]():d)===c||b._isBoolean&&1!=b?"":h.$content()):(j=function(){return(b=function(){return(d=a["$key?"]("header_footer"))===c||d._isBoolean&&1!=d?f.options["$[]"]("header_footer"):a["$[]"]("header_footer")}())===c||b._isBoolean&&1!=b?"embedded":"document"}(),i=f.converter.$convert(f,j)),((b=f.parent_document)===c||b._isBoolean&&1!=b)&&(d=k=f.extensions,(b=d!==!1&&d!==c?k["$postprocessors?"]():d)===c||b._isBoolean&&1!=b||(b=(d=k.$postprocessors()).$each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),i=a.$process_method()["$[]"](b,i)},e._s=f,e),b).call(d)),i},a.defn(n,"$render",o.$convert),o.$write=function(b,d){var e,f,g,h,i=this;return(e=p.Writer["$==="](i.converter))===c||e._isBoolean&&1!=e?((e=d["$respond_to?"]("write"))===c||e._isBoolean&&1!=e?(e=(f=null==(h=a.Object._scope.File)?a.cm("File"):h).$open,e._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$write(b)},g._s=i,g),e).call(f,d,"w"):(d.$write(b.$chomp()),d.$write(p.EOL)),c):i.converter.$write(b,d)},o.$content=m=function(){var b=d.call(arguments,0),c=this,e=m._p;return m._p=null,c.attributes.$delete("title"),a.find_super_dispatcher(c,"content",m,e).apply(c,b)},o.$docinfo=function(a,b){var d,e,f,h,i=this,j=c,k=c,l=c,m=c,n=c,o=c,q=c,r=c,s=c,t=c;return null==a&&(a="header"),null==b&&(b=c),i.$safe()["$>="](p.SafeMode._scope.SECURE)?"":(j=function(){return a["$=="]("footer")?"-footer":c}(),b!==!1&&b!==c||(b=i.attributes["$[]"]("outfilesuffix")),k=i.attributes["$[]"]("docinfodir"),l=c,m=i.attributes["$key?"]("docinfo"),n=i.attributes["$key?"]("docinfo1"),o=i.attributes["$key?"]("docinfo2"),q="docinfo"+j+b,(d=(e=n)!==!1&&e!==c?e:o)===c||d._isBoolean&&1!=d||(r=i.$normalize_system_path(q,k),(d=l=i.$read_asset(r,g(["normalize"],{normalize:!0})))===c||d._isBoolean&&1!=d||(l=i.$sub_attributes(l))),e=(f=m)!==!1&&f!==c?f:o,(d=e!==!1&&e!==c?i.attributes["$key?"]("docname"):e)===c||d._isBoolean&&1!=d||(r=i.$normalize_system_path(""+i.attributes["$[]"]("docname")+"-"+q,k),(d=s=i.$read_asset(r,g(["normalize"],{normalize:!0})))===c||d._isBoolean&&1!=d||(s=i.$sub_attributes(s),l=function(){return l!==!1&&l!==c?""+l+p.EOL+s:s}())),e=i.extensions,(d=e!==!1&&e!==c?i["$docinfo_processors?"](a):e)===c||d._isBoolean&&1!=d||(t=(d=(e=i.docinfo_processor_extensions["$[]"](a)).$map,d._p=(h=function(a){var b=h._s||this;return null==a&&(a=c),a.$process_method()["$[]"](b)},h._s=i,h),d).call(e).$compact()["$*"](p.EOL),l=function(){return l!==!1&&l!==c?""+l+p.EOL+t:t}()),""+l)},o["$docinfo_processors?"]=function(a){var b,d,e=this;return null==a&&(a="header"),(b=e.docinfo_processor_extensions["$key?"](a))===c||b._isBoolean&&1!=b?(d=e.extensions,(b=d!==!1&&d!==c?e.document.$extensions()["$docinfo_processors?"](a):d)===c||b._isBoolean&&1!=b?e.docinfo_processor_extensions["$[]="](a,!1):e.docinfo_processor_extensions["$[]="](a,e.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]()):e.docinfo_processor_extensions["$[]"](a)["$=="](!1)["$!"]()},o.$to_s=function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {doctype: "+b.$doctype().$inspect()+", doctitle: "+function(){return(a=b.header["$=="](c)["$!"]())===c||a._isBoolean&&1!=a?c:b.header.$title()}().$inspect()+", blocks: "+b.blocks.$size()+"}>"},c&&"to_s"}(i,j.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,d){function g(){}{var h,i=g=e(b,d,"Inline",g),j=i._proto;i._scope}return i.$attr_reader("text"),i.$attr_reader("type"),i.$attr_accessor("target"),j.$initialize=h=function(b,d,e,g){var i,j=this,k=(h._p,c);return null==e&&(e=c),null==g&&(g=f([],{})),h._p=null,a.find_super_dispatcher(j,"initialize",h,null).apply(j,[b,d]),j.node_name="inline_"+d,j.text=e,j.id=g["$[]"]("id"),j.type=g["$[]"]("type"),j.target=g["$[]"]("target"),(i=(k=g["$[]"]("attributes"))["$nil_or_empty?"]())===c||i._isBoolean&&1!=i?j.$update_attributes(k):c},j["$block?"]=function(){return!1},j["$inline?"]=function(){return!0},j.$convert=function(){var a=this;return a.$converter().$convert(a)},a.defn(i,"$render",j.$convert)}(g,h.AbstractNode)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass;return function(b){var g=e(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,e){function g(){}{var h,i,j=g=f(b,e,"List",g),k=j._proto;j._scope}return k.blocks=k.context=k.document=k.style=c,a.defn(j,"$items",k.$blocks),a.defn(j,"$items?",k["$blocks?"]),k.$initialize=h=function(){var b=d.call(arguments,0),c=this,e=h._p;return h._p=null,a.find_super_dispatcher(c,"initialize",h,e).apply(c,b)},k.$content=function(){var a=this;return a.blocks},k.$convert=i=function(){var b=d.call(arguments,0),e=this,f=i._p,g=c;return i._p=null,e.context["$=="]("colist")?(g=a.find_super_dispatcher(e,"convert",i,f).apply(e,b),e.document.$callouts().$next_list(),g):a.find_super_dispatcher(e,"convert",i,f).apply(e,b)},a.defn(j,"$render",k.$convert),k.$to_s=function(){var a=this;return"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", style: "+a.style.$inspect()+", items: "+a.$items().$size()+"}>"},c&&"to_s"}(g,h.AbstractBlock),function(b,d){function e(){}var g,h=e=f(b,d,"ListItem",e),i=h._proto,j=h._scope;return i.text=i.blocks=c,h.$attr_accessor("marker"),i.$initialize=g=function(b,d){{var e=this;g._p}return null==d&&(d=c),g._p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b,"list_item"]),e.text=d,e.level=b.$level()},i["$text?"]=function(){var a=this;return a.text["$nil_or_empty?"]()["$!"]()},i.$text=function(){var a=this;return a.$apply_subs(a.text)},i.$fold_first=function(a,b){var d,e,f,g,h,i,k=this,l=c,m=c;return null==a&&(a=!1),null==b&&(b=!1),f=l=k.blocks["$[]"](0),e=f!==!1&&f!==c?l["$is_a?"](j.Block):f,(d=e!==!1&&e!==c?(f=(g=l.$context()["$=="]("paragraph"))?a["$!"]():g)!==!1&&f!==c?f:(h=(i=b)!==!1&&i!==c?i:a["$!"](),g=h!==!1&&h!==c?l.$context()["$=="]("literal"):h,g!==!1&&g!==c?l["$option?"]("listparagraph"):g):e)===c||d._isBoolean&&1!=d||(m=k.$blocks().$shift(),((d=k.text["$nil_or_empty?"]())===c||d._isBoolean&&1!=d)&&m.$lines().$unshift(k.text),k.text=m.$source()),c},i.$to_s=function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {list_context: "+b.$parent().$context().$inspect()+", text: "+b.text.$inspect()+", blocks: "+((a=b.blocks)!==!1&&a!==c?a:[]).$size()+"}>"},c&&"to_s"}(g,h.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=(a.slice,a.module),f=a.klass,g=a.hash2,h=a.range,i=a.gvars;return function(b){{var j=e(b,"Asciidoctor");j._proto,j._scope}!function(b,e){function j(){}var k=j=f(b,e,"Parser",j),l=k._proto,m=k._scope;return a.cdecl(m,"BlockMatchData",m.Struct.$new("context","masq","tip","terminator")),l.$initialize=function(){var a=this;return a.$raise("Au contraire, mon frere. No lexer instances will be running around.")},a.defs(k,"$parse",function(b,d,e){var f,h,i=this,j=c,k=c;if(null==e&&(e=g([],{})),j=i.$parse_document_header(b,d),(f=e["$[]"]("header_only"))===c||f._isBoolean&&1!=f)for(;(h=b["$has_more_lines?"]())!==c&&(!h._isBoolean||1==h);)h=a.to_ary(i.$next_section(b,d,j)),k=null==h[0]?c:h[0],j=null==h[1]?c:h[1],k!==!1&&k!==c&&d["$<<"](k);else;return d}),a.defs(k,"$parse_document_header",function(b,d){var e,f,g=this,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c;return h=g.$parse_block_metadata_lines(b,d),(e=h["$has_key?"]("title"))===c||e._isBoolean&&1!=e?(i=c,((e=(j=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===c||e._isBoolean&&1!=e)&&(d["$title="](j),i=j),k=c,(e=g["$is_next_line_document_title?"](b,h))===c||e._isBoolean&&1!=e||((e=d.$sourcemap())===c||e._isBoolean&&1!=e||(l=b.$cursor()),e=a.to_ary(g.$parse_section_title(b,d)),d["$id="](null==e[0]?c:e[0]),m=null==e[1]?c:e[1],n=null==e[2]?c:e[2],m=null==e[3]?c:e[3],o=null==e[4]?c:e[4],i!==!1&&i!==c||(d["$title="](n),i=n),o!==!1&&o!==c||d.$set_attribute("compat-mode",""),l!==!1&&l!==c&&d.$header()["$source_location="](l),d.$attributes()["$[]="]("doctitle",k=n),((e=d.$id())===c||e._isBoolean&&1!=e)&&d["$id="](h.$delete("id")),g.$parse_header_metadata(b,d)),f=(j=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]()["$!"](),(e=f!==!1&&f!==c?j["$=="](k)["$!"]():f)===c||e._isBoolean&&1!=e||(d["$title="](j),i=j),i!==!1&&i!==c&&d.$attributes()["$[]="]("doctitle",i),d.$doctype()["$=="]("manpage")&&g.$parse_manpage_header(b,d),d.$finalize_header(h)):d.$finalize_header(h,!1)}),a.defs(k,"$parse_manpage_header",function(a,b){var d,e=this,f=c,h=c,i=c;return(d=f=m.ManpageTitleVolnumRx.$match(b.$attributes()["$[]"]("doctitle")))===c||d._isBoolean&&1!=d?e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"):(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip())),a.$skip_blank_lines(),(d=e["$is_next_line_section?"](a,g([],{})))===c||d._isBoolean&&1!=d?e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected"):(h=e.$initialize_section(a,b,g([],{})),h.$level()["$=="](1)?(i=a.$read_lines_until(g(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(d=f=m.ManpageNamePurposeRx.$match(i))===c||d._isBoolean&&1!=d?e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body"):(b.$attributes()["$[]="]("manname",b.$sub_attributes(f["$[]"](1))),b.$attributes()["$[]="]("manpurpose",f["$[]"](2)),b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):c)):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1"))}),a.defs(k,"$next_section",function(b,d,e){var f,h,i,j,k=this,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c;for(null==e&&(e=g([],{})),l=!1,n=!1,o=!1,h=(i=d.$context()["$=="]("document"))?d.$blocks()["$empty?"]():i,(f=h!==!1&&h!==c?(i=(j=p=d["$has_header?"]())!==!1&&j!==c?j:e.$delete("invalid-header"))!==!1&&i!==c?i:k["$is_next_line_section?"](b,e)["$!"]():h)===c||f._isBoolean&&1!=f?(q=d.$document().$doctype(),r=k.$initialize_section(b,d,e),e=function(){return(f=u=e["$[]"]("title"))===c||f._isBoolean&&1!=f?g([],{}):g(["title"],{title:u})}(),s=r.$level(),(f=(h=s["$=="](0))?q["$=="]("book"):h)===c||f._isBoolean&&1!=f?t=[s["$+"](1)]:(n=r.$special()["$!"](),h=r.$special(),t=(f=h!==!1&&h!==c?["preface","appendix"]["$include?"](r.$sectname()):h)===c||f._isBoolean&&1!=f?[s["$+"](1)]:[s["$+"](2)])):(q=d.$doctype(),(f=(h=p)!==!1&&h!==c?h:(i=q["$=="]("book"))?e["$[]"](1)["$=="]("abstract")["$!"]():i)===c||f._isBoolean&&1!=f||(l=o=m.Block.$new(d,"preamble",g(["content_model"],{content_model:"compound"})),(f=(h=q["$=="]("book"))?d["$attr?"]("preface-title"):h)===c||f._isBoolean&&1!=f||l["$title="](d.$attr("preface-title")),d["$<<"](l)),r=d,s=0,t=(f=d.$attributes()["$has_key?"]("fragment"))===c||f._isBoolean&&1!=f?q["$=="]("book")?[0,1]:[1]:c),b.$skip_blank_lines();(h=b["$has_more_lines?"]())!==c&&(!h._isBoolean||1==h);){if(k.$parse_block_metadata_lines(b,r,e),(h=v=k["$is_next_line_section?"](b,e))===c||h._isBoolean&&1!=h)x=b.$line_info(),(h=y=k.$next_block(b,(i=o)!==!1&&i!==c?i:r,e,g(["parse_metadata"],{parse_metadata:!1})))===c||h._isBoolean&&1!=h||(n!==!1&&n!==c&&((h=r["$blocks?"]()["$!"]())===c||h._isBoolean&&1!=h?r.$blocks().$size()["$=="](1)&&(z=r.$blocks()["$[]"](0),i=o["$!"](),(h=i!==!1&&i!==c?z.$content_model()["$=="]("compound"):i)===c||h._isBoolean&&1!=h?(h=z.$content_model()["$=="]("compound")["$!"]())===c||h._isBoolean&&1!=h||(o=m.Block.$new(r,"open",g(["content_model"],{content_model:"compound"})),o["$style="]("partintro"),r.$blocks().$shift(),z.$style()["$=="]("partintro")&&(z["$context="]("paragraph"),z["$style="](c)),z["$parent="](o),o["$<<"](z),y["$parent="](o),r["$<<"](o)):k.$warn("asciidoctor: ERROR: "+x+": illegal block content outside of partintro block")):(h=y.$style()["$=="]("partintro")["$!"]())===c||h._isBoolean&&1!=h||(y.$context()["$=="]("paragraph")?(y["$context="]("open"),y["$style="]("partintro")):(o=m.Block.$new(r,"open",g(["content_model"],{content_model:"compound"})),o["$style="]("partintro"),y["$parent="](o),r["$<<"](o)))),((h=o)!==!1&&h!==c?h:r)["$<<"](y),e=g([],{}));else{if(v=v["$+"](r.$document().$attr("leveloffset",0).$to_i()),(h=(i=v["$>"](s))!==!1&&i!==c?i:(j=r.$context()["$=="]("document"))?v["$=="](0):j)===c||h._isBoolean&&1!=h){(h=(i=v["$=="](0))?q["$=="]("book")["$!"]():i)===c||h._isBoolean&&1!=h||k.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections");break}(h=(i=v["$=="](0))?q["$=="]("book")["$!"]():i)===c||h._isBoolean&&1!=h?(h=(i=t!==!1&&t!==c)?t["$include?"](v)["$!"]():i)===c||h._isBoolean&&1!=h||k.$warn(("asciidoctor: WARNING: "+b.$line_info()+": section title out of sequence: ")["$+"]("expected "+function(){return t.$size()["$>"](1)?"levels":"level"}()+" "+t["$*"](" or ")+", ")["$+"]("got level "+v)):k.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections"),h=a.to_ary(k.$next_section(b,r,e)),w=null==h[0]?c:h[0],e=null==h[1]?c:h[1],r["$<<"](w)}b.$skip_blank_lines()}if(n!==!1&&n!==c)h=r["$blocks?"](),((f=h!==!1&&h!==c?r.$blocks()["$[]"](-1).$context()["$=="]("section"):h)===c||f._isBoolean&&1!=f)&&k.$warn("asciidoctor: ERROR: "+b.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(l!==!1&&l!==c)if(A=d,(f=l["$blocks?"]())===c||f._isBoolean&&1!=f)A.$blocks().$shift();else if(i=m.Compliance.$unwrap_standalone_preamble(),h=i!==!1&&i!==c?A.$blocks().$size()["$=="](1):i,(f=h!==!1&&h!==c?q["$=="]("book")["$!"]():h)!==c&&(!f._isBoolean||1==f))for(A.$blocks().$shift();(h=B=l.$blocks().$shift())!==c&&(!h._isBoolean||1==h);)B["$parent="](A),A["$<<"](B);return[function(){return(f=r["$=="](d)["$!"]())===c||f._isBoolean&&1!=f?c:r}(),e.$dup()]}),a.defs(k,"$next_block",function(b,d,e,f){var i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=this,D=c,E=c,F=c,G=c,H=c,I=c,J=c,K=c,L=c,M=c,N=c,O=c,P=c,Q=c,R=c,S=c,T=c,U=c,V=c,W=c,X=c,Y=c,Z=c,$=c,_=c,ab=c,bb=c,cb=c,db=c,eb=c,fb=c,gb=c,hb=c,ib=c,jb=c,kb=c,lb=c,mb=c,nb=c,ob=c,pb=c,qb=c,rb=c,sb=c,tb=c,ub=c,vb=c,wb=c,xb=c,yb=c,zb=c,Ab=c,Bb=c,Cb=c,Db=c,Eb=c,Fb=c,Gb=c,Hb=c;
if(null==e&&(e=g([],{})),null==f&&(f=g([],{})),D=b.$skip_blank_lines(),(i=b["$has_more_lines?"]())===c||i._isBoolean&&1!=i)return c;for(j=E=f["$[]"]("text"),(i=j!==!1&&j!==c?D["$>"](0):j)===c||i._isBoolean&&1!=i||(f.$delete("text"),E=!1),F=f.$fetch("parse_metadata",!0),G=d.$document(),(i=H=G.$extensions())===c||i._isBoolean&&1!=i?I=J=!1:(I=H["$blocks?"](),J=H["$block_macros?"]()),K=d["$is_a?"](m.List),L=c,M=c,N=c,O=G.$sourcemap(),P=c;k=L["$!"](),(j=k!==!1&&k!==c?b["$has_more_lines?"]():k)!==c&&(!j._isBoolean||1==j);)if((j=(k=F!==!1&&F!==c)?C.$parse_block_metadata_line(b,G,e,f):k)===c||j._isBoolean&&1!=j){if(O!==!1&&O!==c&&(P=b.$cursor()),Q=b.$read_line(),R=!1,S=c,T=c,U=c,(j=e["$[]"](1))===c||j._isBoolean&&1!=j||(j=a.to_ary(C.$parse_style_attribute(e,b)),M=null==j[0]?c:j[0],N=null==j[1]?c:j[1]),(j=V=C["$is_delimited_block?"](Q,!0))===c||j._isBoolean&&1!=j||(R=!0,S=T=V.$context(),U=V.$terminator(),(j=M["$!"]())===c||j._isBoolean&&1!=j?(j=M["$=="](S.$to_s())["$!"]())===c||j._isBoolean&&1!=j||((j=V.$masq()["$include?"](M))===c||j._isBoolean&&1!=j?(k=V.$masq()["$include?"]("admonition"),(j=k!==!1&&k!==c?m.ADMONITION_STYLES["$include?"](M):k)===c||j._isBoolean&&1!=j?(j=(k=I!==!1&&I!==c)?H["$registered_for_block?"](M,S):k)===c||j._isBoolean&&1!=j?(C.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for "+S+" block: "+M),M=S.$to_s()):S=M.$to_sym():S="admonition"):S=M.$to_sym()):M=e["$[]="]("style",S.$to_s())),R!==!1&&R!==c);else for(;(k=!0)!==c&&(!k._isBoolean||1==k);){if(l=(n=M!==!1&&M!==c)?m.Compliance.$strict_verbatim_paragraphs():n,(k=l!==!1&&l!==c?m.VERBATIM_STYLES["$include?"](M):l)!==c&&(!k._isBoolean||1==k)){S=M.$to_sym(),b.$unshift_line(Q);break}if(E!==!1&&E!==c);else{if(W=function(){return(k=m.Compliance.$markdown_syntax())===c||k._isBoolean&&1!=k?Q.$chr():Q.$lstrip().$chr()}(),n=m.LAYOUT_BREAK_LINES["$has_key?"](W),l=n!==!1&&n!==c?Q.$length()["$>="](3):n,!((k=l!==!1&&l!==c?function(){return(n=m.Compliance.$markdown_syntax())===c||n._isBoolean&&1!=n?m.LayoutBreakLineRx:m.LayoutBreakLinePlusRx}()["$=~"](Q):l)===c||k._isBoolean&&1!=k)){L=m.Block.$new(d,m.LAYOUT_BREAK_LINES["$[]"](W),g(["content_model"],{content_model:"empty"}));break}if(l=Q["$end_with?"]("]"),!((k=l!==!1&&l!==c?X=m.MediaBlockMacroRx.$match(Q):l)===c||k._isBoolean&&1!=k)){if(Y=X["$[]"](1).$to_sym(),L=m.Block.$new(d,Y,g(["content_model"],{content_model:"empty"})),Z=Y["$=="]("image")?["alt","width","height"]:Y["$=="]("video")?["poster","width","height"]:[],((k=(l=M["$!"]())!==!1&&l!==c?l:N)===c||k._isBoolean&&1!=k)&&(Y["$=="]("image")&&e["$[]="]("alt",M),e.$delete("style"),M=c),L.$parse_attributes(X["$[]"](3),Z,g(["unescape_input","sub_input","sub_result","into"],{unescape_input:Y["$=="]("image"),sub_input:!0,sub_result:!1,into:e})),$=L.$sub_attributes(X["$[]"](2),g(["attribute_missing"],{attribute_missing:"drop-line"})),(k=$["$empty?"]())!==c&&(!k._isBoolean||1==k))return G.$attributes().$fetch("attribute-missing",m.Compliance.$attribute_missing())["$=="]("skip")?m.Block.$new(d,"paragraph",g(["content_model","source"],{content_model:"simple",source:[Q]})):(e.$clear(),c);e["$[]="]("target",$);break}if(!((k=(l=W["$=="]("t"))?X=m.TocBlockMacroRx.$match(Q):l)===c||k._isBoolean&&1!=k)){L=m.Block.$new(d,"toc",g(["content_model"],{content_model:"empty"})),L.$parse_attributes(X["$[]"](1),[],g(["sub_result","into"],{sub_result:!1,into:e}));break}if(l=(n=J!==!1&&J!==c)?X=m.GenericBlockMacroRx.$match(Q):n,(k=l!==!1&&l!==c?_=H["$registered_for_block_macro?"](X["$[]"](1)):l)!==c&&(!k._isBoolean||1==k)){if($=X["$[]"](2),ab=X["$[]"](3),_.$config()["$[]"]("content_model")["$=="]("attributes")?((k=ab["$empty?"]())===c||k._isBoolean&&1!=k)&&G.$parse_attributes(ab,(k=_.$config()["$[]"]("pos_attrs"))!==!1&&k!==c?k:[],g(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:e})):e["$[]="]("text",ab),(k=bb=_.$config()["$[]"]("default_attrs"))===c||k._isBoolean&&1!=k||(k=(l=bb).$each,k._p=(o=function(a,b){{var d,f,g;o._s||this}return null==a&&(a=c),null==b&&(b=c),d=a,f=e,(g=f["$[]"](d))!==!1&&g!==c?g:f["$[]="](d,b)},o._s=C,o),k).call(l),(k=L=_.$process_method()["$[]"](d,$,e.$dup()))===c||k._isBoolean&&1!=k)return e.$clear(),c;e.$replace(L.$attributes());break}}if(!((k=X=m.CalloutListRx.$match(Q))===c||k._isBoolean&&1!=k)){for(L=m.List.$new(d,"colist"),e["$[]="]("style","arabic"),b.$unshift_line(Q),cb=1;p=b["$has_more_lines?"](),(n=p!==!1&&p!==c?X=m.CalloutListRx.$match(b.$peek_line()):p)!==c&&(!n._isBoolean||1==n);)(n=X["$[]"](1).$to_i()["$=="](cb)["$!"]())===c||n._isBoolean&&1!=n||C.$warn("asciidoctor: WARNING: "+b.$path()+": line "+b.$lineno()["$-"](2)+": callout list item index: expected "+cb+" got "+X["$[]"](1)),db=C.$next_list_item(b,L,X),cb=cb["$+"](1),db!==!1&&db!==c&&(L["$<<"](db),eb=G.$callouts().$callout_ids(L.$items().$size()),(n=eb["$empty?"]()["$!"]())===c||n._isBoolean&&1!=n?C.$warn("asciidoctor: WARNING: "+b.$path()+": line "+b.$lineno()["$-"](2)+": no callouts refer to list item "+L.$items().$size()):db.$attributes()["$[]="]("coids",eb));G.$callouts().$next_list();break}if(!((k=m.UnorderedListRx["$=~"](Q))===c||k._isBoolean&&1!=k)){b.$unshift_line(Q),L=C.$next_outline_list(b,"ulist",d);break}if(!((k=X=m.OrderedListRx.$match(Q))===c||k._isBoolean&&1!=k)){b.$unshift_line(Q),L=C.$next_outline_list(b,"olist",d),n=e["$[]"]("style")["$!"](),(k=n!==!1&&n!==c?L.$attributes()["$[]"]("style")["$!"]():n)===c||k._isBoolean&&1!=k||(fb=L.$items()["$[]"](0).$marker(),(k=fb["$start_with?"]("."))===c||k._isBoolean&&1!=k?(M=(k=(n=m.ORDERED_LIST_STYLES).$detect,k._p=(q=function(a){q._s||this;return null==a&&(a=c),m.OrderedListMarkerRxMap["$[]"](a)["$=~"](fb)},q._s=C,q),k).call(n),e["$[]="]("style",((k=M)!==!1&&k!==c?k:m.ORDERED_LIST_STYLES["$[]"](0)).$to_s())):e["$[]="]("style",((k=m.ORDERED_LIST_STYLES["$[]"](fb.$length()["$-"](1)))!==!1&&k!==c?k:m.ORDERED_LIST_STYLES["$[]"](0)).$to_s()));break}if(!((k=X=m.DefinitionListRx.$match(Q))===c||k._isBoolean&&1!=k)){b.$unshift_line(Q),L=C.$next_labeled_list(b,X,d);break}if(p=(r=M["$=="]("float"))!==!1&&r!==c?r:M["$=="]("discrete"),!((k=p!==!1&&p!==c?C["$is_section_title?"](Q,function(){return(r=m.Compliance.$underline_style_section_titles())===c||r._isBoolean&&1!=r?c:b.$peek_line(!0)}()):p)===c||k._isBoolean&&1!=k)){b.$unshift_line(Q),k=a.to_ary(C.$parse_section_title(b,G)),gb=null==k[0]?c:k[0],hb=null==k[1]?c:k[1],ib=null==k[2]?c:k[2],jb=null==k[3]?c:k[3],kb=null==k[4]?c:k[4],hb!==!1&&hb!==c&&e["$[]="]("reftext",hb),(k=e["$has_key?"]("id"))===c||k._isBoolean&&1!=k||((k=gb)!==!1&&k!==c?k:gb=e["$[]"]("id")),L=m.Block.$new(d,"floating_title",g(["content_model"],{content_model:"empty"})),(k=gb["$nil_or_empty?"]())===c||k._isBoolean&&1!=k?L["$id="](gb):(lb=m.Section.$new(d),lb["$title="](ib),L["$id="](lb.$generate_id())),L["$level="](jb),L["$title="](ib);break}if((k=(p=M!==!1&&M!==c)?M["$=="]("normal")["$!"]():p)!==c&&(!k._isBoolean||1==k)){if(!((k=m.PARAGRAPH_STYLES["$include?"](M))===c||k._isBoolean&&1!=k)){S=M.$to_sym(),T="paragraph",b.$unshift_line(Q);break}if(!((k=m.ADMONITION_STYLES["$include?"](M))===c||k._isBoolean&&1!=k)){S="admonition",T="paragraph",b.$unshift_line(Q);break}if(!((k=(p=I!==!1&&I!==c)?H["$registered_for_block?"](M,"paragraph"):p)===c||k._isBoolean&&1!=k)){S=M.$to_sym(),T="paragraph",b.$unshift_line(Q);break}C.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for paragraph: "+M),M=c}if(mb=(k=D["$=="](0))?K:k,p=M["$=="]("normal")["$!"](),(k=p!==!1&&p!==c?m.LiteralParagraphRx["$=~"](Q):p)===c||k._isBoolean&&1!=k){if(b.$unshift_line(Q),nb=(k=(r=b).$read_lines_until,k._p=(t=function(a){var b,d,e,f=t._s||this;return null==a&&(a=c),(b=(d=mb!==!1&&mb!==c)?m.AnyListRx["$=~"](a):d)!==!1&&b!==c?b:(d=m.Compliance.$block_terminates_paragraph(),d!==!1&&d!==c?(e=f["$is_delimited_block?"](a))!==!1&&e!==c?e:m.BlockAttributeLineRx["$=~"](a):d)},t._s=C,t),k).call(r,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0})),(k=nb["$empty?"]())!==c&&(!k._isBoolean||1==k))return b.$advance(),c;if(C.$catalog_inline_anchors(nb.$join(m.EOL),G),ob=nb["$[]"](0),u=E["$!"](),(k=u!==!1&&u!==c?pb=m.AdmonitionParagraphRx.$match(ob):u)===c||k._isBoolean&&1!=k)if(v=E["$!"](),u=v!==!1&&v!==c?m.Compliance.$markdown_syntax():v,(k=u!==!1&&u!==c?ob["$start_with?"]("> "):u)===c||k._isBoolean&&1!=k)if(z=E["$!"](),y=z!==!1&&z!==c?nb.$size()["$>"](1):z,x=y!==!1&&y!==c?ob["$start_with?"]('"'):y,v=x!==!1&&x!==c?nb["$[]"](-1)["$start_with?"]("-- "):x,(k=v!==!1&&v!==c?nb["$[]"](-2)["$end_with?"]('"'):v)===c||k._isBoolean&&1!=k)(k=(v=M["$=="]("normal"))?(x=(W=nb["$[]"](0).$chr())["$=="](" "))!==!1&&x!==c?x:W["$=="](m.TAB):v)===c||k._isBoolean&&1!=k||(ob=nb["$[]"](0),tb=ob.$lstrip(),ub=C.$line_length(ob)["$-"](C.$line_length(tb)),nb["$[]="](0,tb),(k=(v=nb.$size()).$times,k._p=(A=function(a){A._s||this;return null==a&&(a=c),a["$>"](0)?nb["$[]="](a,nb["$[]"](a)["$[]"](h(ub,-1,!1))):c},A._s=C,A),k).call(v)),L=m.Block.$new(d,"paragraph",g(["content_model","source","attributes"],{content_model:"simple",source:nb,attributes:e}));else{for(nb["$[]="](0,ob["$[]"](h(1,-1,!1))),k=a.to_ary(nb.$pop()["$[]"](h(3,-1,!1)).$split(", ",2)),rb=null==k[0]?c:k[0],sb=null==k[1]?c:k[1];(v=nb["$[]"](-1)["$empty?"]())!==c&&(!v._isBoolean||1==v);)nb.$pop();nb["$[]="](-1,nb["$[]"](-1).$chop()),e["$[]="]("style","quote"),rb!==!1&&rb!==c&&e["$[]="]("attribution",rb),sb!==!1&&sb!==c&&e["$[]="]("citetitle",sb),L=m.Block.$new(d,"quote",g(["content_model","source","attributes"],{content_model:"simple",source:nb,attributes:e}))}else{if((k=(u=nb)["$map!"],k._p=(w=function(a){{var b;w._s||this}return null==a&&(a=c),a["$=="](">")?a["$[]"](h(1,-1,!1)):(b=a["$start_with?"]("> "))===c||b._isBoolean&&1!=b?a:a["$[]"](h(2,-1,!1))},w._s=C,w),k).call(u),(k=nb["$[]"](-1)["$start_with?"]("-- "))===c||k._isBoolean&&1!=k)k=a.to_ary(c),rb=null==k[0]?c:k[0],sb=null==k[1]?c:k[1];else for(k=a.to_ary(nb.$pop()["$[]"](h(3,-1,!1)).$split(", ",2)),rb=null==k[0]?c:k[0],sb=null==k[1]?c:k[1];(v=nb["$[]"](-1)["$empty?"]())!==c&&(!v._isBoolean||1==v);)nb.$pop();e["$[]="]("style","quote"),rb!==!1&&rb!==c&&e["$[]="]("attribution",rb),sb!==!1&&sb!==c&&e["$[]="]("citetitle",sb),L=C.$build_block("quote","compound",!1,d,m.Reader.$new(nb),e)}else nb["$[]="](0,pb.$post_match().$lstrip()),e["$[]="]("style",pb["$[]"](1)),e["$[]="]("name",qb=pb["$[]"](1).$downcase()),k="caption",u=e,(v=u["$[]"](k))!==!1&&v!==c?v:u["$[]="](k,G.$attributes()["$[]"](""+qb+"-caption")),L=m.Block.$new(d,"admonition",g(["content_model","source","attributes"],{content_model:"simple",source:nb,attributes:e}))}else b.$unshift_line(Q),nb=(k=(p=b).$read_lines_until,k._p=(s=function(a){var b,d,e,f=s._s||this;return null==a&&(a=c),(b=(d=mb!==!1&&mb!==c)?m.AnyListRx["$=~"](a):d)!==!1&&b!==c?b:(d=m.Compliance.$block_terminates_paragraph(),d!==!1&&d!==c?(e=f["$is_delimited_block?"](a))!==!1&&e!==c?e:m.BlockAttributeLineRx["$=~"](a):d)},s._s=C,s),k).call(p,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0})),C["$reset_block_indent!"](nb),L=m.Block.$new(d,"literal",g(["content_model","source","attributes"],{content_model:"verbatim",source:nb,attributes:e})),K!==!1&&K!==c&&L.$set_option("listparagraph");break}if(k=L["$!"](),(j=k!==!1&&k!==c?S:k)!==c&&(!j._isBoolean||1==j))if((j=(k=S["$=="]("abstract"))!==!1&&k!==c?k:S["$=="]("partintro"))===c||j._isBoolean&&1!=j||(S="open"),vb=S,"admonition"["$==="](vb))e["$[]="]("name",qb=M.$downcase()),j="caption",k=e,(x=k["$[]"](j))!==!1&&x!==c?x:k["$[]="](j,G.$attributes()["$[]"](""+qb+"-caption")),L=C.$build_block(S,"compound",U,d,b,e);else{if("comment"["$==="](vb))return C.$build_block(S,"skip",U,d,b,e),c;if("example"["$==="](vb))L=C.$build_block(S,"compound",U,d,b,e);else if("listing"["$==="](vb)||"fenced_code"["$==="](vb)||"source"["$==="](vb))S["$=="]("fenced_code")?(M=e["$[]="]("style","source"),j=a.to_ary(Q["$[]"](h(3,-1,!1)).$split(",",2)),wb=null==j[0]?c:j[0],xb=null==j[1]?c:j[1],(j=(k=wb!==!1&&wb!==c)?(wb=wb.$strip())["$empty?"]()["$!"]():k)===c||j._isBoolean&&1!=j?(j=yb=G.$attributes()["$[]"]("source-language"))===c||j._isBoolean&&1!=j||e["$[]="]("language",yb):(e["$[]="]("language",wb),(j=(k=xb!==!1&&xb!==c)?xb.$strip()["$empty?"]()["$!"]():k)===c||j._isBoolean&&1!=j||e["$[]="]("linenums","")),U=U["$[]"](h(0,2,!1))):S["$=="]("source")&&(m.AttributeList.$rekey(e,[c,"language","linenums"]),((j=e["$has_key?"]("language"))===c||j._isBoolean&&1!=j)&&((j=yb=G.$attributes()["$[]"]("source-language"))===c||j._isBoolean&&1!=j||e["$[]="]("language",yb))),L=C.$build_block("listing","verbatim",U,d,b,e);else if("literal"["$==="](vb))L=C.$build_block(S,"verbatim",U,d,b,e);else if("pass"["$==="](vb))L=C.$build_block(S,"raw",U,d,b,e);else if("stem"["$==="](vb)||"latexmath"["$==="](vb)||"asciimath"["$==="](vb))S["$=="]("stem")&&e["$[]="]("style",function(){return(j=zb=e["$[]"](2))===c||j._isBoolean&&1!=j?(j=(Ab=G.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===c||j._isBoolean&&1!=j?Ab:"asciimath":(j=zb["$include?"]("tex"))===c||j._isBoolean&&1!=j?"asciimath":"latexmath"}()),L=C.$build_block("stem","raw",U,d,b,e);else if("open"["$==="](vb)||"sidebar"["$==="](vb))L=C.$build_block(S,"compound",U,d,b,e);else if("table"["$==="](vb))Bb=b.$cursor(),Cb=m.Reader.$new(b.$read_lines_until(g(["terminator","skip_line_comments"],{terminator:U,skip_line_comments:!0})),Bb),vb=U.$chr(),","["$==="](vb)?e["$[]="]("format","csv"):":"["$==="](vb)&&e["$[]="]("format","dsv"),L=C.$next_table(Cb,d,e);else if("quote"["$==="](vb)||"verse"["$==="](vb))m.AttributeList.$rekey(e,[c,"attribution","citetitle"]),L=C.$build_block(S,function(){return S["$=="]("verse")?"verbatim":"compound"}(),U,d,b,e);else if((j=(k=I!==!1&&I!==c)?_=H["$registered_for_block?"](S,T):k)===c||j._isBoolean&&1!=j)C.$raise("Unsupported block type "+S+" at "+b.$line_info());else if((j=(Db=_.$config()["$[]"]("content_model"))["$=="]("skip")["$!"]())===c||j._isBoolean&&1!=j||((j=(Eb=(k=_.$config()["$[]"]("pos_attrs"))!==!1&&k!==c?k:[])["$empty?"]()["$!"]())===c||j._isBoolean&&1!=j||m.AttributeList.$rekey(e,[c].$concat(Eb)),(j=bb=_.$config()["$[]"]("default_attrs"))===c||j._isBoolean&&1!=j||(j=(k=bb).$each,j._p=(B=function(a,b){{var d,f,g;B._s||this}return null==a&&(a=c),null==b&&(b=c),d=a,f=e,(g=f["$[]"](d))!==!1&&g!==c?g:f["$[]="](d,b)},B._s=C,B),j).call(k)),L=C.$build_block(S,Db,U,d,b,e,g(["extension"],{extension:_})),(j=(x=L!==!1&&L!==c)?Db["$=="]("skip")["$!"]():x)===c||j._isBoolean&&1!=j)return e.$clear(),c}}else b.$advance();return L!==!1&&L!==c&&(P!==!1&&P!==c&&L["$source_location="](P),((i=L["$title?"]())===c||i._isBoolean&&1!=i)&&L["$title="](e["$[]"]("title")),L.$context()["$=="]("image")?(Fb=e["$[]"]("target"),L.$document().$register("images",Fb),i="alt",j=e,(x=j["$[]"](i))!==!1&&x!==c?x:j["$[]="](i,(null==(y=a.Object._scope.File)?a.cm("File"):y).$basename(Fb,(null==(y=a.Object._scope.File)?a.cm("File"):y).$extname(Fb)).$tr("_-"," ")),e["$[]="]("alt",L.$sub_specialcharacters(e["$[]"]("alt"))),L.$assign_caption(e.$delete("caption"),"figure"),(i=Gb=e["$[]"]("scaledwidth"))===c||i._isBoolean&&1!=i||(i=h(48,57,!1)["$include?"](((j=Gb["$[]"](-1))!==!1&&j!==c?j:0).$ord()))===c||i._isBoolean&&1!=i||e["$[]="]("scaledwidth",""+Gb+"%")):(i=L,(j=i.$caption())!==!1&&j!==c?j:i["$caption="](e.$delete("caption"))),L["$style="](e["$[]"]("style")),j=L,(i=Hb=(x=j.$id())!==!1&&x!==c?x:j["$id="](e["$[]"]("id")))===c||i._isBoolean&&1!=i||G.$register("ids",[Hb,(i=e["$[]"]("reftext"))!==!1&&i!==c?i:function(){return(j=L["$title?"]())===c||j._isBoolean&&1!=j?c:L.$title()}()]),((i=e["$empty?"]())===c||i._isBoolean&&1!=i)&&L.$attributes().$update(e),L.$lock_in_subs(),(i=L["$sub?"]("callouts"))===c||i._isBoolean&&1!=i||((i=C.$catalog_callouts(L.$source(),G))===c||i._isBoolean&&1!=i)&&L.$remove_sub("callouts")),L}),a.defs(k,"$is_delimited_block?",function(a,b){var d,e,f=c,g=c,i=c,j=c,k=c,l=c,n=c;if(null==b&&(b=!1),(d=(e=(f=a.$length())["$>"](1))?m.DELIMITED_BLOCK_LEADERS["$include?"](a["$[]"](h(0,1,!1))):e)===c||d._isBoolean&&1!=d)return c;if(f["$=="](2))g=a,i=2;else{if(f["$<="](4)?(g=a,i=f):(g=a["$[]"](h(0,3,!1)),i=4),j=!1,(d=m.Compliance.$markdown_syntax())!==c&&(!d._isBoolean||1==d)&&(k=function(){return i["$=="](4)?g.$chop():g}(),k["$=="]("```"))){if((d=(e=i["$=="](4))?g["$end_with?"]("`"):e)!==c&&(!d._isBoolean||1==d))return c;g=k,i=3,j=!0}if((d=(e=i["$=="](3))?j["$!"]():e)!==c&&(!d._isBoolean||1==d))return c}return(d=m.DELIMITED_BLOCKS["$has_key?"](g))===c||d._isBoolean&&1!=d?c:(d=(e=i["$<"](4))!==!1&&e!==c?e:i["$=="](f))===c||d._isBoolean&&1!=d?(""+g+g["$[]"](h(-1,-1,!1))["$*"](f["$-"](i)))["$=="](a)?b!==!1&&b!==c?((d=m.DELIMITED_BLOCKS["$[]"](g)).$to_a?d=d.$to_a():d._isArray?d:d=[d],l=null==d[0]?c:d[0],n=null==d[1]?c:d[1],m.BlockMatchData.$new(l,n,g,a)):!0:c:b!==!1&&b!==c?((d=m.DELIMITED_BLOCKS["$[]"](g)).$to_a?d=d.$to_a():d._isArray?d:d=[d],l=null==d[0]?c:d[0],n=null==d[1]?c:d[1],m.BlockMatchData.$new(l,n,g,g)):!0}),a.defs(k,"$build_block",function(a,b,d,e,f,h,i){var j,k,l,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;if(null==i&&(i=g([],{})),(j=(k=b["$=="]("skip"))!==!1&&k!==c?k:b["$=="]("raw"))===c||j._isBoolean&&1!=j?(p=!1,q=b):(p=b["$=="]("skip"),q="simple"),(j=d["$nil?"]())===c||j._isBoolean&&1!=j?(j=q["$=="]("compound")["$!"]())===c||j._isBoolean&&1!=j?d["$=="](!1)?(r=c,s=f):(r=c,t=f.$cursor(),s=m.Reader.$new(f.$read_lines_until(g(["terminator","skip_processing"],{terminator:d,skip_processing:p})),t)):(r=f.$read_lines_until(g(["terminator","skip_processing"],{terminator:d,skip_processing:p})),s=c):(q["$=="]("verbatim")?r=f.$read_lines_until(g(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),r=(j=(k=f).$read_lines_until,j._p=(l=function(a){var b,d,e=l._s||this;return null==a&&(a=c),b=m.Compliance.$block_terminates_paragraph(),b!==!1&&b!==c?(d=e["$is_delimited_block?"](a))!==!1&&d!==c?d:m.BlockAttributeLineRx["$=~"](a):b},l._s=o,l),j).call(k,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments","skip_processing"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0,skip_processing:p}))),s=c),b["$=="]("skip"))return h.$clear(),r;if((j=(n=b["$=="]("verbatim"))?u=h["$[]"]("indent"):n)===c||j._isBoolean&&1!=j||o["$reset_block_indent!"](r,u.$to_i()),(j=v=i["$[]"]("extension"))===c||j._isBoolean&&1!=j)w=m.Block.$new(e,a,g(["content_model","source","attributes"],{content_model:b,source:r,attributes:h}));else{if(h.$delete("style"),(j=w=v.$process_method()["$[]"](e,(n=s)!==!1&&n!==c?n:m.Reader.$new(r),h.$dup()))===c||j._isBoolean&&1!=j)return c;h.$replace(w.$attributes()),(j=(n=w.$content_model()["$=="]("compound"))?(r=w.$lines())["$nil_or_empty?"]()["$!"]():n)===c||j._isBoolean&&1!=j||(b="compound",s=m.Reader.$new(r))}return n=h["$has_key?"]("title"),(j=n!==!1&&n!==c?w.$document()["$attr?"](""+w.$context()+"-caption"):n)===c||j._isBoolean&&1!=j||(w["$title="](h.$delete("title")),w.$assign_caption(h.$delete("caption"))),b["$=="]("compound")&&o.$parse_blocks(s,w),w}),a.defs(k,"$parse_blocks",function(a,b){for(var d,e=c;(d=a["$has_more_lines?"]())!==c&&(!d._isBoolean||1==d);)e=m.Parser.$next_block(a,b),e!==!1&&e!==c&&b["$<<"](e)}),a.defs(k,"$next_outline_list",function(a,b,d){var e,f,g=this,h=c,i=c,j=c,k=c,l=c,n=c;for(h=m.List.$new(d,b),h["$level="](d.$context()["$=="](b)?d.$level()["$+"](1):1);f=a["$has_more_lines?"](),(e=f!==!1&&f!==c?i=m.ListRxMap["$[]"](b).$match(a.$peek_line()):f)!==c&&(!e._isBoolean||1==e);){if(j=g.$resolve_list_marker(b,i["$[]"](1)),f=h["$items?"](),(e=f!==!1&&f!==c?j["$=="](h.$items()["$[]"](0).$marker())["$!"]():f)===c||e._isBoolean&&1!=e)k=h.$level();else for(k=h.$level()["$+"](1),l=d;l.$context()["$=="](b);){if(j["$=="](l.$items()["$[]"](0).$marker())){k=l.$level();break}l=l.$parent()}if((e=(f=h["$items?"]()["$!"]())!==!1&&f!==c?f:k["$=="](h.$level()))===c||e._isBoolean&&1!=e){if(k["$<"](h.$level()))break;k["$>"](h.$level())&&h.$items()["$[]"](-1)["$<<"](g.$next_block(a,h))}else n=g.$next_list_item(a,h,i);n!==!1&&n!==c&&h["$<<"](n),n=c,a.$skip_blank_lines()}return h}),a.defs(k,"$catalog_callouts",function(a,b){var d,e,f,g=this,h=c;return h=!1,(d=a["$include?"]("<"))===c||d._isBoolean&&1!=d||(d=(e=a).$scan,d._p=(f=function(){var a,d=(f._s||this,c);return null==i["~"]&&(i["~"]=c),d=i["~"],(a=d["$[]"](0).$chr()["$=="]("\\")["$!"]())===c||a._isBoolean&&1!=a||b.$callouts().$register(d["$[]"](2)),h=!0},f._s=g,f),d).call(e,m.CalloutQuickScanRx),h}),a.defs(k,"$catalog_inline_anchors",function(a,b){var d,e,f,g=this;return(d=a["$include?"]("["))===c||d._isBoolean&&1!=d||(d=(e=a).$scan,d._p=(f=function(){var a,d=(f._s||this,c),e=c,g=c;return null==i["~"]&&(i["~"]=c),d=i["~"],(a=d["$[]"](0)["$start_with?"]("\\"))===c||a._isBoolean&&1!=a?(e=(a=d["$[]"](1))!==!1&&a!==c?a:d["$[]"](3),g=(a=d["$[]"](2))!==!1&&a!==c?a:d["$[]"](4),b.$register("ids",[e,g])):c},f._s=g,f),d).call(e,m.InlineAnchorRx),c}),a.defs(k,"$next_labeled_list",function(b,d,e){var f,g,h=this,i=c,j=c,k=c,l=c,n=c;for(i=m.List.$new(e,"dlist"),j=c,k=m.DefinitionListSiblingRx["$[]"](d["$[]"](2));g=b["$has_more_lines?"](),(f=g!==!1&&g!==c?d=k.$match(b.$peek_line()):g)!==c&&(!f._isBoolean||1==f);)f=a.to_ary(h.$next_list_item(b,i,d,k)),l=null==f[0]?c:f[0],n=null==f[1]?c:f[1],(f=(g=j!==!1&&j!==c)?j["$[]"](-1)["$!"]():g)===c||f._isBoolean&&1!=f?i.$items()["$<<"](j=[[l],n]):(j.$pop(),j["$[]"](0)["$<<"](l),j["$<<"](n));return i}),a.defs(k,"$next_list_item",function(a,b,d,e){var f,i,j=this,k=c,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;if(null==e&&(e=c),(k=b.$context())["$=="]("dlist")?(l=m.ListItem.$new(b,d["$[]"](1)),n=m.ListItem.$new(b,d["$[]"](3)),o=d["$[]"](3)["$nil_or_empty?"]()["$!"]()):(p=d["$[]"](2),q=!1,(f=(i=k["$=="]("ulist"))?p["$start_with?"]("["):i)===c||f._isBoolean&&1!=f||((f=p["$start_with?"]("[ ] "))===c||f._isBoolean&&1!=f?(f=(i=p["$start_with?"]("[x] "))!==!1&&i!==c?i:p["$start_with?"]("[*] "))===c||f._isBoolean&&1!=f||(q=!0,r=!0,p=p["$[]"](h(3,-1,!1)).$lstrip()):(q=!0,r=!1,p=p["$[]"](h(3,-1,!1)).$lstrip())),n=m.ListItem.$new(b,p),q!==!1&&q!==c&&(b.$attributes()["$[]="]("checklist-option",""),n.$attributes()["$[]="]("checkbox",""),r!==!1&&r!==c&&n.$attributes()["$[]="]("checked","")),(f=e)!==!1&&f!==c?f:e=j.$resolve_list_marker(k,d["$[]"](1),b.$items().$size(),!0,a),n["$marker="](e),o=!0),a.$advance(),s=a.$cursor(),t=m.Reader.$new(j.$read_lines_for_list_item(a,k,e,o),s),(f=t["$has_more_lines?"]())!==c&&(!f._isBoolean||1==f)){for(u=t.$skip_line_comments(),v=t.$peek_line(),((f=u["$empty?"]())===c||f._isBoolean&&1!=f)&&t.$unshift_lines(u),(f=v["$nil?"]()["$!"]())===c||f._isBoolean&&1!=f?(w=!1,x=!1):(w=v["$empty?"](),i=w["$!"](),(f=i!==!1&&i!==c?k["$=="]("dlist")["$!"]():i)===c||f._isBoolean&&1!=f||(o=!1),f=w["$!"](),x=f!==!1&&f!==c?v["$empty?"]()["$!"]():f),y=g(["text"],{text:o["$!"]()});(i=t["$has_more_lines?"]())!==c&&(!i._isBoolean||1==i);)z=j.$next_block(t,b,g([],{}),y),z!==!1&&z!==c&&n["$<<"](z);n.$fold_first(w,x)}return k["$=="]("dlist")?(((f=(i=n["$text?"]())!==!1&&i!==c?i:n["$blocks?"]())===c||f._isBoolean&&1!=f)&&(n=c),[l,n]):n}),a.defs(k,"$read_lines_for_list_item",function(a,b,d,e){var f,h,j,k,l,n,o,p,q,r,s,t,u,v=this,w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c;for(null==i["~"]&&(i["~"]=c),null==d&&(d=c),null==e&&(e=!0),w=[],x="inactive",y=!1,z=c;(h=a["$has_more_lines?"]())!==c&&(!h._isBoolean||1==h)&&(A=a.$read_line(),(h=v["$is_sibling_list_item?"](A,b,d))===c||h._isBoolean&&1!=h);)if(B=function(){return(h=w["$empty?"]())===c||h._isBoolean&&1!=h?w["$[]"](-1):c}(),B["$=="](m.LIST_CONTINUATION)&&(x["$=="]("inactive")&&(x="active",e=!0,y!==!1&&y!==c||w["$[]="](-1,"")),A["$=="](m.LIST_CONTINUATION)))(h=x["$=="]("frozen")["$!"]())===c||h._isBoolean&&1!=h||(x="frozen",w["$<<"](A)),A=c;else{if((h=C=v["$is_delimited_block?"](A,!0))===c||h._isBoolean&&1!=h){if(j=(k=b["$=="]("dlist"))?x["$=="]("active")["$!"]():k,!((h=j!==!1&&j!==c?m.BlockAttributeLineRx["$=~"](A):j)===c||h._isBoolean&&1!=h))break;if((h=(j=x["$=="]("active"))?A["$empty?"]()["$!"]():j)===c||h._isBoolean&&1!=h)if(k=B["$nil?"]()["$!"](),(h=k!==!1&&k!==c?B["$empty?"]():k)===c||h._isBoolean&&1!=h)(h=A["$empty?"]()["$!"]())===c||h._isBoolean&&1!=h||(e=!0),(h=D=(s=(t=function(){return y!==!1&&y!==c?["dlist"]:m.NESTABLE_LIST_CONTEXTS}()).$detect,s._p=(u=function(a){u._s||this;return null==a&&(a=c),m.ListRxMap["$[]"](a)["$=~"](A)},u._s=v,u),s).call(t))===c||h._isBoolean&&1!=h||(y=!0,(h=(s=D["$=="]("dlist"))?i["~"]["$[]"](3)["$nil_or_empty?"]():s)===c||h._isBoolean&&1!=h||(e=!1)),w["$<<"](A);else{if(!((h=A["$empty?"]())===c||h._isBoolean&&1!=h||(a.$skip_blank_lines(),A=a.$read_line(),(h=(k=A["$nil?"]())!==!1&&k!==c?k:v["$is_sibling_list_item?"](A,b,d))===c||h._isBoolean&&1!=h)))break;if(A["$=="](m.LIST_CONTINUATION))z=w.$size(),w["$<<"](A);else if(e!==!1&&e!==c){if(!((h=v["$is_sibling_list_item?"](A,b,d))===c||h._isBoolean&&1!=h))break;if((h=D=(k=(p=m.NESTABLE_LIST_CONTEXTS).$detect,k._p=(q=function(a){q._s||this;return null==a&&(a=c),m.ListRxMap["$[]"](a)["$=~"](A)},q._s=v,q),k).call(p))===c||h._isBoolean&&1!=h){if((h=m.LiteralParagraphRx["$=~"](A))===c||h._isBoolean&&1!=h)break;a.$unshift_line(A),w.$concat((h=(k=a).$read_lines_until,h._p=(r=function(a){var e,f=r._s||this;return null==a&&(a=c),(e=b["$=="]("dlist"))?f["$is_sibling_list_item?"](a,b,d):e},r._s=v,r),h).call(k,g(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}else w["$<<"](A),y=!0,(h=(k=D["$=="]("dlist"))?i["~"]["$[]"](3)["$nil_or_empty?"]():k)===c||h._isBoolean&&1!=h||(e=!1)}else y!==!1&&y!==c||w.$pop(),w["$<<"](A),e=!0}else(h=m.LiteralParagraphRx["$=~"](A))===c||h._isBoolean&&1!=h?(h=(k=(n=m.BlockTitleRx["$=~"](A))!==!1&&n!==c?n:m.BlockAttributeLineRx["$=~"](A))!==!1&&k!==c?k:m.AttributeEntryRx["$=~"](A))===c||h._isBoolean&&1!=h?((h=D=(k=(n=function(){return y!==!1&&y!==c?["dlist"]:m.NESTABLE_LIST_CONTEXTS}()).$detect,k._p=(o=function(a){o._s||this;return null==a&&(a=c),m.ListRxMap["$[]"](a)["$=~"](A)},o._s=v,o),k).call(n))===c||h._isBoolean&&1!=h||(y=!0,(h=(k=D["$=="]("dlist"))?i["~"]["$[]"](3)["$nil_or_empty?"]():k)===c||h._isBoolean&&1!=h||(e=!1)),w["$<<"](A),x="inactive"):w["$<<"](A):(a.$unshift_line(A),w.$concat((h=(j=a).$read_lines_until,h._p=(l=function(a){var e,f=l._s||this;return null==a&&(a=c),(e=b["$=="]("dlist"))?f["$is_sibling_list_item?"](a,b,d):e},l._s=v,l),h).call(j,g(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),x="inactive")}else{if(!x["$=="]("active"))break;w["$<<"](A),w.$concat(a.$read_lines_until(g(["terminator","read_last_line"],{terminator:C.$terminator(),read_last_line:!0}))),x="inactive"}A=c}for(A!==!1&&A!==c&&a.$unshift_line(A),z!==!1&&z!==c&&w.$delete_at(z);s=w["$empty?"]()["$!"](),(h=s!==!1&&s!==c?w["$[]"](-1)["$empty?"]():s)!==c&&(!h._isBoolean||1==h);)w.$pop();return h=w["$empty?"]()["$!"](),(f=h!==!1&&h!==c?w["$[]"](-1)["$=="](m.LIST_CONTINUATION):h)===c||f._isBoolean&&1!=f||w.$pop(),w}),a.defs(k,"$initialize_section",function(b,d,e){var f,h,i=this,j=c,k=c,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c;return null==e&&(e=g([],{})),j=d.$document(),(f=j.$sourcemap())===c||f._isBoolean&&1!=f||(k=b.$cursor()),f=a.to_ary(i.$parse_section_title(b,j)),l=null==f[0]?c:f[0],n=null==f[1]?c:f[1],o=null==f[2]?c:f[2],p=null==f[3]?c:f[3],q=null==f[4]?c:f[4],n!==!1&&n!==c&&e["$[]="]("reftext",n),r=m.Section.$new(d,p,j.$attributes()["$has_key?"]("sectnums")),k!==!1&&k!==c&&r["$source_location="](k),r["$id="](l),r["$title="](o),(f=e["$[]"](1))===c||f._isBoolean&&1!=f?(f=(h=o.$downcase()["$=="]("synopsis"))?j.$doctype()["$=="]("manpage"):h)===c||f._isBoolean&&1!=f?r["$sectname="]("sect"+r.$level()):(r["$special="](!0),r["$sectname="]("synopsis")):(f=a.to_ary(i.$parse_style_attribute(e,b)),s=null==f[0]?c:f[0],q=null==f[1]?c:f[1],s!==!1&&s!==c?(r["$sectname="](s),r["$special="](!0),(f=(h=r.$sectname()["$=="]("abstract"))?j.$doctype()["$=="]("book"):h)===c||f._isBoolean&&1!=f||(r["$sectname="]("sect1"),r["$special="](!1),r["$level="](1))):r["$sectname="]("sect"+r.$level())),h=r.$id()["$!"](),(f=h!==!1&&h!==c?t=e["$[]"]("id"):h)===c||f._isBoolean&&1!=f?(f=r,(h=f.$id())!==!1&&h!==c?h:f["$id="](r.$generate_id())):r["$id="](t),(f=r.$id())===c||f._isBoolean&&1!=f||r.$document().$register("ids",[r.$id(),(f=e["$[]"]("reftext"))!==!1&&f!==c?f:r.$title()]),r.$update_attributes(e),b.$skip_blank_lines(),r}),a.defs(k,"$section_level",function(a){return m.SECTION_LEVELS["$[]"](a.$chr())}),a.defs(k,"$single_line_section_level",function(a){return a.$length()["$-"](1)}),a.defs(k,"$is_next_line_section?",function(a,b){var d,e,f,g,h=this,i=c,j=c;return f=(i=b["$[]"](1))["$nil?"]()["$!"](),e=f!==!1&&f!==c?(g=(j=i["$[]"](0).$ord())["$=="](100))!==!1&&g!==c?g:j["$=="](102):f,(d=e!==!1&&e!==c?i["$=~"](m.FloatingTitleStyleRx):e)===c||d._isBoolean&&1!=d?(d=a["$has_more_lines?"]())===c||d._isBoolean&&1!=d?!1:(d=m.Compliance.$underline_style_section_titles())===c||d._isBoolean&&1!=d?h["$is_section_title?"](a.$peek_line()):(d=h)["$is_section_title?"].apply(d,[].concat(a.$peek_lines(2))):!1}),a.defs(k,"$is_next_line_document_title?",function(a,b){var c=this;return c["$is_next_line_section?"](a,b)["$=="](0)}),a.defs(k,"$is_section_title?",function(a,b){var d,e,f=this,g=c;return null==b&&(b=c),((d=g=f["$is_single_line_section_title?"](a))===c||d._isBoolean&&1!=d)&&((d=(e=b!==!1&&b!==c)?g=f["$is_two_line_section_title?"](a,b):e)===c||d._isBoolean&&1!=d)?!1:g}),a.defs(k,"$is_single_line_section_title?",function(a){var b,d,e,f,g=this,h=c,i=c;return h=function(){return a!==!1&&a!==c?a.$chr():c}(),d=(e=h["$=="]("="))!==!1&&e!==c?e:(f=m.Compliance.$markdown_syntax(),f!==!1&&f!==c?h["$=="]("#"):f),(b=d!==!1&&d!==c?i=m.AtxSectionRx.$match(a):d)===c||b._isBoolean&&1!=b?!1:g.$single_line_section_level(i["$[]"](1))}),a.defs(k,"$is_two_line_section_title?",function(a,b){var d,e,f,g,h,i,j=this;return h=(i=a!==!1&&a!==c)?b:i,g=h!==!1&&h!==c?m.SECTION_LEVELS["$has_key?"](b.$chr()):h,f=g!==!1&&g!==c?b["$=~"](m.SetextSectionLineRx):g,e=f!==!1&&f!==c?a["$=~"](m.SetextSectionTitleRx):f,(d=e!==!1&&e!==c?j.$line_length(a)["$-"](j.$line_length(b)).$abs()["$<="](1):e)===c||d._isBoolean&&1!=d?!1:j.$section_level(b)}),a.defs(k,"$parse_section_title",function(a,b){var d,e,f,g,h,i=this,j=c,k=c,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c;return j=a.$read_line(),k=c,l=c,n=-1,o=c,p=!0,q=j.$chr(),e=(f=q["$=="]("="))!==!1&&f!==c?f:(g=m.Compliance.$markdown_syntax(),g!==!1&&g!==c?q["$=="]("#"):g),(d=e!==!1&&e!==c?r=m.AtxSectionRx.$match(j):e)===c||d._isBoolean&&1!=d?(d=m.Compliance.$underline_style_section_titles())===c||d._isBoolean&&1!=d||(h=t=a.$peek_line(!0),g=h!==!1&&h!==c?m.SECTION_LEVELS["$has_key?"](t.$chr()):h,f=g!==!1&&g!==c?t["$=~"](m.SetextSectionLineRx):g,e=f!==!1&&f!==c?u=m.SetextSectionTitleRx.$match(j):f,(d=e!==!1&&e!==c?i.$line_length(j)["$-"](i.$line_length(t)).$abs()["$<="](1):e)===c||d._isBoolean&&1!=d||(l=u["$[]"](1),e=l["$end_with?"]("]]"),(d=e!==!1&&e!==c?s=m.InlineSectionAnchorRx.$match(l):e)===c||d._isBoolean&&1!=d||(d=s["$[]"](2)["$nil?"]())===c||d._isBoolean&&1!=d||(l=s["$[]"](1),k=s["$[]"](3),o=s["$[]"](4)),n=i.$section_level(t),p=!1,a.$advance())):(n=i.$single_line_section_level(r["$[]"](1)),l=r["$[]"](2),e=l["$end_with?"]("]]"),(d=e!==!1&&e!==c?s=m.InlineSectionAnchorRx.$match(l):e)===c||d._isBoolean&&1!=d||(d=s["$[]"](2)["$nil?"]())===c||d._isBoolean&&1!=d||(l=s["$[]"](1),k=s["$[]"](3),o=s["$[]"](4))),n["$>="](0)&&(n=n["$+"](b.$attr("leveloffset",0).$to_i())),[k,o,l,n,p]}),a.defs(k,"$line_length",function(a){var b;return(b=m.FORCE_UNICODE_LINE_LENGTH)===c||b._isBoolean&&1!=b?a.$length():a.$scan(m.UnicodeCharScanRx).$length()}),a.defs(k,"$parse_header_metadata",function(b,d){var e,f,h,i,j,k,l=this,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;
if(null==d&&(d=c),l.$process_attribute_entries(b,d),n=g([],{}),o=c,p=c,f=b["$has_more_lines?"](),(e=f!==!1&&f!==c?b["$next_line_empty?"]()["$!"]():f)===c||e._isBoolean&&1!=e||(q=l.$process_authors(b.$read_line()),((e=q["$empty?"]())===c||e._isBoolean&&1!=e)&&(d!==!1&&d!==c&&((e=(f=q).$each,e._p=(h=function(b,e){{var f,g;h._s||this}return null==b&&(b=c),null==e&&(e=c),(f=d.$attributes()["$has_key?"](b))===c||f._isBoolean&&1!=f?d.$attributes()["$[]="](b,function(){return(f=e["$is_a?"](null==(g=a.Object._scope.String)?a.cm("String"):g))===c||f._isBoolean&&1!=f?e:d.$apply_header_subs(e)}()):c},h._s=l,h),e).call(f),o=d.$attributes()["$[]"]("author"),p=d.$attributes()["$[]"]("authors")),n=q),l.$process_attribute_entries(b,d),r=g([],{}),i=b["$has_more_lines?"](),(e=i!==!1&&i!==c?b["$next_line_empty?"]()["$!"]():i)===c||e._isBoolean&&1!=e||(s=b.$read_line(),(e=t=m.RevisionInfoLineRx.$match(s))===c||e._isBoolean&&1!=e?b.$unshift_line(s):(r["$[]="]("revdate",t["$[]"](2).$strip()),((e=t["$[]"](1)["$nil?"]())===c||e._isBoolean&&1!=e)&&r["$[]="]("revnumber",t["$[]"](1).$rstrip()),((e=t["$[]"](3)["$nil?"]())===c||e._isBoolean&&1!=e)&&r["$[]="]("revremark",t["$[]"](3).$rstrip()))),((e=r["$empty?"]())===c||e._isBoolean&&1!=e)&&(d!==!1&&d!==c&&(e=(i=r).$each,e._p=(j=function(a,b){{var e;j._s||this}return null==a&&(a=c),null==b&&(b=c),(e=d.$attributes()["$has_key?"](a))===c||e._isBoolean&&1!=e?d.$attributes()["$[]="](a,d.$apply_header_subs(b)):c},j._s=l,j),e).call(i),n.$update(r)),l.$process_attribute_entries(b,d),b.$skip_blank_lines()),d!==!1&&d!==c){if(q=c,k=d.$attributes()["$has_key?"]("author"),(e=k!==!1&&k!==c?(u=d.$attributes()["$[]"]("author"))["$=="](o)["$!"]():k)===c||e._isBoolean&&1!=e)if(k=d.$attributes()["$has_key?"]("authors"),(e=k!==!1&&k!==c?(u=d.$attributes()["$[]"]("authors"))["$=="](p)["$!"]():k)===c||e._isBoolean&&1!=e){for(v=[],w="author_"+v.$size()["$+"](1);(k=d.$attributes()["$has_key?"](w))!==c&&(!k._isBoolean||1==k);)v["$<<"](d.$attributes()["$[]"](w)),w="author_"+v.$size()["$+"](1);v.$size()["$=="](1)?q=l.$process_authors(v["$[]"](0),!0,!1):v.$size()["$>"](1)&&(q=l.$process_authors(v.$join("; "),!0))}else q=l.$process_authors(u,!0);else q=l.$process_authors(u,!0,!1);q!==!1&&q!==c&&(d.$attributes().$update(q),k=d.$attributes()["$has_key?"]("email")["$!"](),(e=k!==!1&&k!==c?d.$attributes()["$has_key?"]("email_1"):k)===c||e._isBoolean&&1!=e||d.$attributes()["$[]="]("email",d.$attributes()["$[]"]("email_1")))}return n}),a.defs(k,"$process_authors",function(a,b,d){var e,f,h,i,j,k=this,l=c,n=c,o=c;return null==b&&(b=!1),null==d&&(d=!0),l=g([],{}),n=["author","authorinitials","firstname","middlename","lastname","email"],o=function(){return d!==!1&&d!==c?(e=(f=a.$split(";")).$map,e._p=(h=function(a){h._s||this;return null==a&&(a=c),a.$strip()},h._s=k,h),e).call(f):[a]}(),(e=(i=o).$each_with_index,e._p=(j=function(a,d){var e,f,h,i,k,o,p,q=j._s||this,r=c,s=c,t=c,u=c,v=c,w=c;return null==a&&(a=c),null==d&&(d=c),(e=a["$empty?"]())===c||e._isBoolean&&1!=e?(r=g([],{}),(e=d["$zero?"]())===c||e._isBoolean&&1!=e?(e=(i=n).$each,e._p=(k=function(a){k._s||this;return null==a&&(a=c),r["$[]="](a.$to_sym(),""+a+"_"+d["$+"](1))},k._s=q,k),e).call(i):(e=(f=n).$each,e._p=(h=function(a){h._s||this;return null==a&&(a=c),r["$[]="](a.$to_sym(),a)},h._s=q,h),e).call(f),s=c,b!==!1&&b!==c?s=a.$split(" ",3):(e=t=m.AuthorInfoLineRx.$match(a))===c||e._isBoolean&&1!=e||(s=t.$to_a(),s.$shift()),(e=s["$nil?"]())===c||e._isBoolean&&1!=e?(l["$[]="](r["$[]"]("firstname"),u=s["$[]"](0).$tr("_"," ")),l["$[]="](r["$[]"]("author"),u),l["$[]="](r["$[]"]("authorinitials"),u["$[]"](0,1)),o=s["$[]"](1)["$nil?"]()["$!"](),(e=o!==!1&&o!==c?s["$[]"](2)["$nil?"]()["$!"]():o)===c||e._isBoolean&&1!=e?(e=s["$[]"](1)["$nil?"]()["$!"]())===c||e._isBoolean&&1!=e||(l["$[]="](r["$[]"]("lastname"),w=s["$[]"](1).$tr("_"," ")),l["$[]="](r["$[]"]("author"),[u,w].$join(" ")),l["$[]="](r["$[]"]("authorinitials"),[u["$[]"](0,1),w["$[]"](0,1)].$join())):(l["$[]="](r["$[]"]("middlename"),v=s["$[]"](1).$tr("_"," ")),l["$[]="](r["$[]"]("lastname"),w=s["$[]"](2).$tr("_"," ")),l["$[]="](r["$[]"]("author"),[u,v,w].$join(" ")),l["$[]="](r["$[]"]("authorinitials"),[u["$[]"](0,1),v["$[]"](0,1),w["$[]"](0,1)].$join())),((e=(o=b)!==!1&&o!==c?o:s["$[]"](3)["$nil?"]())===c||e._isBoolean&&1!=e)&&l["$[]="](r["$[]"]("email"),s["$[]"](3))):(l["$[]="](r["$[]"]("author"),l["$[]="](r["$[]"]("firstname"),u=a.$strip().$tr_s(" "," "))),l["$[]="](r["$[]"]("authorinitials"),u["$[]"](0,1))),l["$[]="]("authorcount",d["$+"](1)),d["$=="](1)&&(e=(o=n).$each,e._p=(p=function(a){{var b;p._s||this}return null==a&&(a=c),(b=l["$has_key?"](a))===c||b._isBoolean&&1!=b?c:l["$[]="](""+a+"_1",l["$[]"](a))},p._s=q,p),e).call(o),(e=d["$zero?"]())===c||e._isBoolean&&1!=e?l["$[]="]("authors",""+l["$[]"]("authors")+", "+l["$[]"](r["$[]"]("author"))):l["$[]="]("authors",l["$[]"](r["$[]"]("author")))):c},j._s=k,j),e).call(i),l}),a.defs(k,"$parse_block_metadata_lines",function(a,b,d,e){var f,h=this;for(null==d&&(d=g([],{})),null==e&&(e=g([],{}));(f=h.$parse_block_metadata_line(a,b,d,e))!==c&&(!f._isBoolean||1==f);)a.$advance(),a.$skip_blank_lines();return d}),a.defs(k,"$parse_block_metadata_line",function(a,b,d,e){var f,h,i,j=this,k=c,l=c,n=c,o=c,p=c;if(null==e&&(e=g([],{})),(f=a["$has_more_lines?"]())===c||f._isBoolean&&1!=f)return!1;if(k=a.$peek_line(),h=l=k["$start_with?"]("//"),(f=h!==!1&&h!==c?n=m.CommentBlockRx.$match(k):h)===c||f._isBoolean&&1!=f)if((f=(h=l!==!1&&l!==c)?m.CommentLineRx["$=~"](k):h)===c||f._isBoolean&&1!=f)if(i=e["$[]"]("text")["$!"](),h=i!==!1&&i!==c?k["$start_with?"](":"):i,(f=h!==!1&&h!==c?n=m.AttributeEntryRx.$match(k):h)===c||f._isBoolean&&1!=f)if(i=k["$start_with?"]("["),h=p=i!==!1&&i!==c?k["$end_with?"]("]"):i,(f=h!==!1&&h!==c?n=m.BlockAnchorRx.$match(k):h)===c||f._isBoolean&&1!=f)if((f=(h=p!==!1&&p!==c)?n=m.BlockAttributeListRx.$match(k):h)===c||f._isBoolean&&1!=f){if(h=e["$[]"]("text")["$!"](),(f=h!==!1&&h!==c?n=m.BlockTitleRx.$match(k):h)===c||f._isBoolean&&1!=f)return!1;d["$[]="]("title",n["$[]"](1))}else b.$document().$parse_attributes(n["$[]"](1),[],g(["sub_input","into"],{sub_input:!0,into:d}));else((f=n["$[]"](1)["$nil_or_empty?"]())===c||f._isBoolean&&1!=f)&&(d["$[]="]("id",n["$[]"](1)),((f=n["$[]"](2)["$nil?"]())===c||f._isBoolean&&1!=f)&&d["$[]="]("reftext",n["$[]"](2)));else j.$process_attribute_entry(a,b,d,n);else;else o=n["$[]"](0),a.$read_lines_until(g(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:o,skip_processing:!0}));return!0}),a.defs(k,"$process_attribute_entries",function(a,b,d){var e,f=this;for(null==d&&(d=c),a.$skip_comment_lines();(e=f.$process_attribute_entry(a,b,d))!==c&&(!e._isBoolean||1==e);)a.$advance(),a.$skip_comment_lines()}),a.defs(k,"$process_attribute_entry",function(a,b,d,e){var f,g,h=this,i=c,j=c,k=c,l=c,n=c,o=c;if(null==d&&(d=c),null==e&&(e=c),(f=e)!==!1&&f!==c?f:e=function(){return(g=a["$has_more_lines?"]())===c||g._isBoolean&&1!=g?c:m.AttributeEntryRx.$match(a.$peek_line())}(),e!==!1&&e!==c){if(i=e["$[]"](1),(f=(j=(g=e["$[]"](2))!==!1&&g!==c?g:"")["$empty?"]())===c||f._isBoolean&&1!=f){if((f=(g=j["$end_with?"](k=m.LINE_CONTINUATION))!==!1&&g!==c?g:j["$end_with?"](k=m.LINE_CONTINUATION_LEGACY))!==c&&(!f._isBoolean||1==f))for(j=j.$chop().$rstrip();(g=a.$advance())!==c&&(!g._isBoolean||1==g)&&((g=(l=a.$peek_line().$strip())["$empty?"]())===c||g._isBoolean&&1!=g)&&((g=n=l["$end_with?"](k))===c||g._isBoolean&&1!=g||(l=l.$chop().$rstrip()),o=function(){return(g=j["$end_with?"](m.LINE_BREAK))===c||g._isBoolean&&1!=g?" ":m.EOL}(),j=""+j+o+l,n!==!1&&n!==c););}else;return h.$store_attribute(i,j,function(){return b!==!1&&b!==c?b.$document():c}(),d),!0}return!1}),a.defs(k,"$store_attribute",function(a,b,d,e){var f,g,i=this,j=c,k=c;return null==d&&(d=c),null==e&&(e=c),(f=a["$end_with?"]("!"))===c||f._isBoolean&&1!=f?(f=a["$start_with?"]("!"))===c||f._isBoolean&&1!=f||(b=c,a=a["$[]"](h(1,-1,!1))):(b=c,a=a.$chop()),a=i.$sanitize_attribute_name(a),j=!0,d!==!1&&d!==c&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&b!==!1&&b!==c&&(k=b.$chr(),"+"["$==="](k)?b=d.$attr("leveloffset",0).$to_i()["$+"](((f=b["$[]"](h(1,-1,!1)))!==!1&&f!==c?f:0).$to_i()).$to_s():"-"["$==="](k)&&(b=d.$attr("leveloffset",0).$to_i()["$-"](((f=b["$[]"](h(1,-1,!1)))!==!1&&f!==c?f:0).$to_i()).$to_s())),j=function(){return b!==!1&&b!==c?d.$set_attribute(a,b):d.$delete_attribute(a)}()),(f=(g=j!==!1&&j!==c)?e:g)===c||f._isBoolean&&1!=f||(b!==!1&&b!==c&&(b=d.$attributes()["$[]"](a)),m.Document._scope.AttributeEntry.$new(a,b).$save_to(e)),[a,b]}),a.defs(k,"$resolve_list_marker",function(a,b,d,e,f){var g,h,i=this;return null==d&&(d=0),null==e&&(e=!1),null==f&&(f=c),(g=(h=a["$=="]("olist"))?b["$start_with?"](".")["$!"]():h)===c||g._isBoolean&&1!=g?a["$=="]("colist")?"<1>":b:i.$resolve_ordered_list_marker(b,d,e,f)}),a.defs(k,"$resolve_ordered_list_marker",function(a,b,d,e){var f,g,h,i,j=this,k=c,l=c,n=c,o=c;return null==b&&(b=0),null==d&&(d=!1),null==e&&(e=c),k=(f=(g=m.ORDERED_LIST_STYLES).$detect,f._p=(h=function(b){h._s||this;return null==b&&(b=c),m.OrderedListMarkerRxMap["$[]"](b)["$=~"](a)},h._s=j,h),f).call(g),l=n=c,o=k,"arabic"["$==="](o)?(d!==!1&&d!==c&&(l=b["$+"](1),n=a.$to_i()),a="1."):"loweralpha"["$==="](o)?(d!==!1&&d!==c&&(l="a"["$[]"](0).$ord()["$+"](b).$chr(),n=a.$chomp(".")),a="a."):"upperalpha"["$==="](o)?(d!==!1&&d!==c&&(l="A"["$[]"](0).$ord()["$+"](b).$chr(),n=a.$chomp(".")),a="A."):"lowerroman"["$==="](o)?(d!==!1&&d!==c&&(l=b["$+"](1),n=j.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](o)&&(d!==!1&&d!==c&&(l=b["$+"](1),n=j.$roman_numeral_to_int(a.$chomp(")"))),a="I)"),(f=(i=d!==!1&&d!==c)?l["$=="](n)["$!"]():i)===c||f._isBoolean&&1!=f||j.$warn("asciidoctor: WARNING: "+e.$line_info()+": list item index: expected "+l+", got "+n),a}),a.defs(k,"$is_sibling_list_item?",function(b,d,e){var f,g,h=this,i=c,j=c,k=c;return(f=e["$is_a?"](null==(g=a.Object._scope.Regexp)?a.cm("Regexp"):g))===c||f._isBoolean&&1!=f?(i=m.ListRxMap["$[]"](d),j=e):(i=e,j=!1),(f=k=i.$match(b))===c||f._isBoolean&&1!=f?!1:j!==!1&&j!==c?j["$=="](h.$resolve_list_marker(d,k["$[]"](1))):!0}),a.defs(k,"$next_table",function(b,d,e){var f,g,i,j,k,l,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c;for(p=m.Table.$new(d,e),(f=e["$has_key?"]("title"))===c||f._isBoolean&&1!=f||(p["$title="](e.$delete("title")),p.$assign_caption(e.$delete("caption"))),(f=e["$has_key?"]("cols"))===c||f._isBoolean&&1!=f?q=!1:(p.$create_columns(o.$parse_col_specs(e["$[]"]("cols"))),q=!0),r=b.$skip_blank_lines(),s=m.Table._scope.ParserContext.$new(b,p,e),t=-1;(g=b["$has_more_lines?"]())!==c&&(!g._isBoolean||1==g);){for(t=t["$+"](1),u=b.$read_line(),k=(l=r["$=="](0))?t["$zero?"]():l,j=k!==!1&&k!==c?e["$has_key?"]("options")["$!"]():k,i=j!==!1&&j!==c?(v=b.$peek_line())["$nil?"]()["$!"]():j,(g=i!==!1&&i!==c?v["$empty?"]():i)===c||g._isBoolean&&1!=g||(p["$has_header_option="](!0),p.$set_option("header")),s.$format()["$=="]("psv")&&((g=s["$starts_with_delimiter?"](u))===c||g._isBoolean&&1!=g?(g=a.to_ary(o.$parse_cell_spec(u,"start",s.$delimiter())),w=null==g[0]?c:g[0],u=null==g[1]?c:g[1],(g=w["$nil?"]()["$!"]())===c||g._isBoolean&&1!=g||s.$close_open_cell(w)):(u=u["$[]"](h(1,-1,!1)),s.$close_open_cell())),x=!1;(i=(j=x["$!"]())!==!1&&j!==c?j:u["$empty?"]()["$!"]())!==c&&(!i._isBoolean||1==i);)if(x=!0,(i=y=s.$match_delimiter(u))===c||i._isBoolean&&1!=i)s["$buffer="](""+s.$buffer()+u+m.EOL),s.$format()["$=="]("csv")&&s["$buffer="](""+s.$buffer().$rstrip()+" "),u="",(i=(j=s.$format()["$=="]("psv"))!==!1&&j!==c?j:(k=s.$format()["$=="]("csv"))?s["$buffer_has_unclosed_quotes?"]():k)===c||i._isBoolean&&1!=i?s.$close_cell(!0):s.$keep_cell_open();else{if(s.$format()["$=="]("csv")){if((i=s["$buffer_has_unclosed_quotes?"](y.$pre_match()))!==c&&(!i._isBoolean||1==i)){u=s.$skip_matched_delimiter(y);continue}}else if((i=y.$pre_match()["$end_with?"]("\\"))!==c&&(!i._isBoolean||1==i)){u=s.$skip_matched_delimiter(y,!0);continue}s.$format()["$=="]("psv")?(i=a.to_ary(o.$parse_cell_spec(y.$pre_match(),"end")),w=null==i[0]?c:i[0],z=null==i[1]?c:i[1],s.$push_cell_spec(w),s["$buffer="](""+s.$buffer()+z)):s["$buffer="](""+s.$buffer()+y.$pre_match()),(u=y.$post_match())["$=="]("")&&(x=!1),s.$close_cell()}((g=s["$cell_open?"]())===c||g._isBoolean&&1!=g)&&(r=b.$skip_blank_lines()),((g=b["$has_more_lines?"]())===c||g._isBoolean&&1!=g)&&((g=s["$cell_open?"]())===c||g._isBoolean&&1!=g||s.$close_cell(!0))}return f="colcount",g=p.$attributes(),(i=g["$[]"](f))!==!1&&i!==c?i:g["$[]="](f,s.$col_count()),(f=q["$!"]())===c||f._isBoolean&&1!=f||(A=100["$/"](s.$col_count()).$floor(),(f=(g=p.$columns()).$each,f._p=(n=function(a){n._s||this;return null==a&&(a=c),a.$assign_width(0,A)},n._s=o,n),f).call(g)),p.$partition_header_footer(e),p}),a.defs(k,"$parse_col_specs",function(b){var d,e,f,h,i,j=this,k=c;return(d=m.DigitsRx["$=~"](b))===c||d._isBoolean&&1!=d?(k=[],(d=(h=b.$split(",")).$each,d._p=(i=function(b){var d,e,f,h=i._s||this,j=c,l=c,n=c,o=c,p=c;return null==b&&(b=c),(d=j=m.ColumnSpecRx.$match(b))===c||d._isBoolean&&1!=d?c:(l=g([],{}),(d=j["$[]"](2))===c||d._isBoolean&&1!=d||(d=a.to_ary(j["$[]"](2).$split(".")),n=null==d[0]?c:d[0],o=null==d[1]?c:d[1],e=n["$nil_or_empty?"]()["$!"](),(d=e!==!1&&e!==c?m.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](n):e)===c||d._isBoolean&&1!=d||l["$[]="]("halign",m.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](n)),e=o["$nil_or_empty?"]()["$!"](),(d=e!==!1&&e!==c?m.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](o):e)===c||d._isBoolean&&1!=d||l["$[]="]("valign",m.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](o))),l["$[]="]("width",function(){return(d=j["$[]"](3)["$nil?"]()["$!"]())===c||d._isBoolean&&1!=d?1:j["$[]"](3).$to_i()}()),e=j["$[]"](4),(d=e!==!1&&e!==c?m.Table._scope.TEXT_STYLES["$has_key?"](j["$[]"](4)):e)===c||d._isBoolean&&1!=d||l["$[]="]("style",m.Table._scope.TEXT_STYLES["$[]"](j["$[]"](4))),p=function(){return(d=j["$[]"](1)["$nil?"]()["$!"]())===c||d._isBoolean&&1!=d?1:j["$[]"](1).$to_i()}(),(d=(e=1).$upto,d._p=(f=function(){f._s||this;return k["$<<"](l.$dup())},f._s=h,f),d).call(e,p))},i._s=j,i),d).call(h),k):(d=(e=null==(h=a.Object._scope.Array)?a.cm("Array"):h).$new,d._p=(f=function(){f._s||this;return g(["width"],{width:1})},f._s=j,f),d).call(e,b.$to_i())}),a.defs(k,"$parse_cell_spec",function(b,d,e){var f,h,i=c,j=c,k=c,l=c,n=c,o=c,p=c;if(null==d&&(d="start"),null==e&&(e=c),i=c,j="",k=d,"start"["$==="](k)){if((f=b["$include?"](e))===c||f._isBoolean&&1!=f)return[c,b];if(f=a.to_ary(b.$split(e,2)),l=null==f[0]?c:f[0],j=null==f[1]?c:f[1],(f=i=m.CellSpecStartRx.$match(l))===c||f._isBoolean&&1!=f)return[c,b];if((f=i["$[]"](0)["$empty?"]())!==c&&(!f._isBoolean||1==f))return[g([],{}),j]}else if("end"["$==="](k)){if((f=i=m.CellSpecEndRx.$match(b))===c||f._isBoolean&&1!=f)return[g([],{}),b];if((f=i["$[]"](0).$lstrip()["$empty?"]())!==c&&(!f._isBoolean||1==f))return[g([],{}),b.$rstrip()];j=i.$pre_match()}return n=g([],{}),(f=i["$[]"](1))===c||f._isBoolean&&1!=f||(f=a.to_ary(i["$[]"](1).$split(".")),o=null==f[0]?c:f[0],p=null==f[1]?c:f[1],o=function(){return(f=o["$nil_or_empty?"]())===c||f._isBoolean&&1!=f?o.$to_i():1}(),p=function(){return(f=p["$nil_or_empty?"]())===c||f._isBoolean&&1!=f?p.$to_i():1}(),i["$[]"](2)["$=="]("+")?(o["$=="](1)||n["$[]="]("colspan",o),p["$=="](1)||n["$[]="]("rowspan",p)):i["$[]"](2)["$=="]("*")&&(o["$=="](1)||n["$[]="]("repeatcol",o))),(f=i["$[]"](3))===c||f._isBoolean&&1!=f||(f=a.to_ary(i["$[]"](3).$split(".")),o=null==f[0]?c:f[0],p=null==f[1]?c:f[1],h=o["$nil_or_empty?"]()["$!"](),(f=h!==!1&&h!==c?m.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](o):h)===c||f._isBoolean&&1!=f||n["$[]="]("halign",m.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](o)),h=p["$nil_or_empty?"]()["$!"](),(f=h!==!1&&h!==c?m.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](p):h)===c||f._isBoolean&&1!=f||n["$[]="]("valign",m.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](p))),h=i["$[]"](4),(f=h!==!1&&h!==c?m.Table._scope.TEXT_STYLES["$has_key?"](i["$[]"](4)):h)===c||f._isBoolean&&1!=f||n["$[]="]("style",m.Table._scope.TEXT_STYLES["$[]"](i["$[]"](4))),[n,j]}),a.defs(k,"$parse_style_attribute",function(a,b){var d,e,f,h,i,j,k,l=this,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c;return null==b&&(b=c),n=a["$[]"]("style"),o=a["$[]"](1),e=(f=o!==!1&&o!==c)?o["$include?"](" ")["$!"]():f,(d=e!==!1&&e!==c?m.Compliance.$shorthand_property_syntax():e)===c||d._isBoolean&&1!=d?(a["$[]="]("style",o),[o,n]):(p="style",q=[],r=g([],{}),s=(d=(e=l).$lambda,d._p=(h=function(){var a,d,e,f=h._s||this,g=c;return(a=q["$empty?"]())===c||a._isBoolean&&1!=a?(g=p,"role"["$==="](g)||"option"["$==="](g)?(a=p,d=r,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,[]),r["$[]"](p).$push(q.$join())):"id"["$==="](g)?((a=r["$has_key?"]("id"))===c||a._isBoolean&&1!=a||f.$warn("asciidoctor: WARNING:"+function(){return(a=b["$nil?"]())===c||a._isBoolean&&1!=a?" "+b.$prev_line_info()+":":c}()+" multiple ids detected in style attribute"),r["$[]="](p,q.$join())):r["$[]="](p,q.$join()),q=[]):(a=p["$=="]("style")["$!"]())===c||a._isBoolean&&1!=a?c:f.$warn("asciidoctor: WARNING:"+function(){return(a=b["$nil?"]())===c||a._isBoolean&&1!=a?" "+b.$prev_line_info()+":":c}()+" invalid empty "+p+" detected in style attribute")},h._s=l,h),d).call(e),(d=(f=o).$each_char,d._p=(i=function(a){var b,d,e,f=(i._s||this,c);return null==a&&(a=c),(b=(d=(e=a["$=="]("."))!==!1&&e!==c?e:a["$=="]("#"))!==!1&&d!==c?d:a["$=="]("%"))===c||b._isBoolean&&1!=b?q.$push(a):(s.$call(),function(){return f=a,"."["$==="](f)?p="role":"#"["$==="](f)?p="id":"%"["$==="](f)?p="option":c}())},i._s=l,i),d).call(f),p["$=="]("style")?t=a["$[]="]("style",o):(s.$call(),t=(d=r["$has_key?"]("style"))===c||d._isBoolean&&1!=d?c:a["$[]="]("style",r["$[]"]("style")),(d=r["$has_key?"]("id"))===c||d._isBoolean&&1!=d||a["$[]="]("id",r["$[]"]("id")),(d=r["$has_key?"]("role"))===c||d._isBoolean&&1!=d||a["$[]="]("role",r["$[]"]("role")["$*"](" ")),(d=r["$has_key?"]("option"))===c||d._isBoolean&&1!=d||((d=(j=u=r["$[]"]("option")).$each,d._p=(k=function(b){k._s||this;return null==b&&(b=c),a["$[]="](""+b+"-option","")},k._s=l,k),d).call(j),(d=v=a["$[]"]("options"))===c||d._isBoolean&&1!=d?a["$[]="]("options",u["$*"](",")):a["$[]="]("options",u["$+"](v.$split(","))["$*"](",")))),[t,n])}),a.defs(k,"$reset_block_indent!",function(a,b){var e,f,g,i,j,k,l,n=this,o=c,p=c,q=c,r=c,s=c;return null==b&&(b=0),(e=(f=b["$!"]())!==!1&&f!==c?f:a["$empty?"]())===c||e._isBoolean&&1!=e?(o=!1,p="    ",q=(e=(f=a).$map,e._p=(g=function(a){var b,e=(g._s||this,c),f=c;return null==a&&(a=c),(b=a.$chr().$lstrip()["$empty?"]())===c||b._isBoolean&&1!=b?(d.$v=[],d):((b=a["$include?"](m.TAB))===c||b._isBoolean&&1!=b||(o=!0,a=a.$gsub(m.TAB_PATTERN,p)),(b=(e=a.$lstrip())["$empty?"]())===c||b._isBoolean&&1!=b?(f=a.$length()["$-"](e.$length()))["$=="](0)?(d.$v=[],d):f:c)},g._s=n,g),e).call(f),((e=(i=q["$empty?"]())!==!1&&i!==c?i:(q=q.$compact())["$empty?"]())===c||e._isBoolean&&1!=e)&&(r=q.$min())["$>"](0)&&(e=(i=a)["$map!"],e._p=(j=function(a){j._s||this;return null==a&&(a=c),o!==!1&&o!==c&&(a=a.$gsub(m.TAB_PATTERN,p)),a["$[]"](h(r,-1,!1)).$to_s()},j._s=n,j),e).call(i),b["$>"](0)&&(s=" "["$*"](b),(e=(k=a)["$map!"],e._p=(l=function(a){l._s||this;return null==a&&(a=c),""+s+a},l._s=n,l),e).call(k)),c):c}),a.defs(k,"$sanitize_attribute_name",function(a){return a.$gsub(m.InvalidAttributeNameCharsRx,"").$downcase()}),a.defs(k,"$roman_numeral_to_int",function(a){var b,d,e,f=this,i=c,j=c;return a=a.$downcase(),i=g(["i","v","x"],{i:1,v:5,x:10}),j=0,(b=(d=h(0,a.$length()["$-"](1),!1)).$each,b._p=(e=function(b){var d,f,g=(e._s||this,c);return null==b&&(b=c),g=i["$[]"](a["$[]"](h(b,b,!1))),j=(d=(f=b["$+"](1)["$<"](a.$length()))?i["$[]"](a["$[]"](h(b["$+"](1),b["$+"](1),!1)))["$>"](g):f)===c||d._isBoolean&&1!=d?j["$+"](g):j["$-"](g)},e._s=f,e),b).call(d),j}),c&&"roman_numeral_to_int"}(j,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range,h=a.gvars;return function(b){{var i=d(b,"Asciidoctor");i._proto,i._scope}!function(b,d){function i(){}var j=i=e(b,d,"PathResolver",i),k=j._proto,l=j._scope;return k.file_separator=k._partition_path_web=k._partition_path_sys=k.working_dir=c,a.cdecl(l,"DOT","."),a.cdecl(l,"DOT_DOT",".."),a.cdecl(l,"DOT_SLASH","./"),a.cdecl(l,"SLASH","/"),a.cdecl(l,"BACKSLASH","\\"),a.cdecl(l,"DOUBLE_SLASH","//"),a.cdecl(l,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),j.$attr_accessor("file_separator"),j.$attr_accessor("working_dir"),k.$initialize=function(b,d){var e,g,h=this;return null==b&&(b=c),null==d&&(d=c),h.file_separator=function(){return b!==!1&&b!==c?b:(e=(null==(g=a.Object._scope.File)?a.cm("File"):g)._scope.ALT_SEPARATOR)!==!1&&e!==c?e:(null==(g=a.Object._scope.File)?a.cm("File"):g)._scope.SEPARATOR}(),h.working_dir=d!==!1&&d!==c?function(){return(e=h["$is_root?"](d))===c||e._isBoolean&&1!=e?(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path(d):d}():(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path((null==(e=a.Object._scope.Dir)?a.cm("Dir"):e).$pwd()),h._partition_path_sys=f([],{}),h._partition_path_web=f([],{})},k["$is_root?"]=function(a){var b,d,e=this;return((b=a["$start_with?"](l.SLASH))===c||b._isBoolean&&1!=b)&&((b=(d=e.file_separator["$=="](l.BACKSLASH))?l.WindowsRootRx["$=~"](a):d)===c||b._isBoolean&&1!=b)?!1:!0},k["$is_unc?"]=function(a){return a["$start_with?"](l.DOUBLE_SLASH)},k["$is_web_root?"]=function(a){return a["$start_with?"](l.SLASH)},k.$posixfy=function(a){var b;return(b=a["$nil_or_empty?"]())===c||b._isBoolean&&1!=b?(b=a["$include?"](l.BACKSLASH))===c||b._isBoolean&&1!=b?a:a.$tr(l.BACKSLASH,l.SLASH):""},k.$expand_path=function(b){var d,e=this,f=c,g=c,h=c;return d=a.to_ary(e.$partition_path(b)),f=null==d[0]?c:d[0],g=null==d[1]?c:d[1],h=null==d[2]?c:d[2],e.$join_path(f,g)},k.$partition_path=function(a,b){var d,e=this,f=c,h=c,i=c,j=c;return null==b&&(b=!1),(d=f=function(){return b!==!1&&b!==c?e._partition_path_web["$[]"](a):e._partition_path_sys["$[]"](a)}())===c||d._isBoolean&&1!=d?(h=e.$posixfy(a),i=function(){return b!==!1&&b!==c?(d=e["$is_web_root?"](h))===c||d._isBoolean&&1!=d?(d=h["$start_with?"](l.DOT_SLASH))===c||d._isBoolean&&1!=d?c:l.DOT_SLASH:l.SLASH:(d=e["$is_root?"](h))===c||d._isBoolean&&1!=d?(d=h["$start_with?"](l.DOT_SLASH))===c||d._isBoolean&&1!=d?c:l.DOT_SLASH:(d=e["$is_unc?"](h))===c||d._isBoolean&&1!=d?(d=h["$start_with?"](l.SLASH))===c||d._isBoolean&&1!=d?h["$[]"](g(0,h.$index(l.SLASH),!1)):l.SLASH:l.DOUBLE_SLASH}(),j=h.$split(l.SLASH),i["$=="](l.DOUBLE_SLASH)?j=j["$[]"](g(2,-1,!1)):i!==!1&&i!==c&&j.$shift(),j.$delete(l.DOT),function(){return b!==!1&&b!==c?e._partition_path_web:e._partition_path_sys}()["$[]="](a,[j,i,h])):f},k.$join_path=function(a,b){return null==b&&(b=c),b!==!1&&b!==c?""+b+a["$*"](l.SLASH):a["$*"](l.SLASH)},k.$system_path=function(b,d,e,g){var h,i,j,k=this,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;if(null==e&&(e=c),null==g&&(g=f([],{})),m=g.$fetch("recover",!0),e!==!1&&e!==c&&(((h=k["$is_root?"](e))===c||h._isBoolean&&1!=h)&&k.$raise(null==(h=a.Object._scope.SecurityError)?a.cm("SecurityError"):h,"Jail is not an absolute path: "+e),e=k.$posixfy(e)),(h=b["$nil_or_empty?"]())===c||h._isBoolean&&1!=h?(h=a.to_ary(k.$partition_path(b)),n=null==h[0]?c:h[0],o=null==h[1]?c:h[1],p=null==h[2]?c:h[2]):n=[],(h=n["$empty?"]())!==c&&(!h._isBoolean||1==h)){if(!((h=d["$nil_or_empty?"]())===c||h._isBoolean&&1!=h))return function(){return e!==!1&&e!==c?e:k.working_dir}();if((h=k["$is_root?"](d))===c||h._isBoolean&&1!=h)return k.$system_path(d,e,e);if(e===!1||e===c)return k.$expand_path(d)}return(h=(i=o!==!1&&o!==c)?o["$=="](l.DOT_SLASH)["$!"]():i)===c||h._isBoolean&&1!=h||(q=k.$join_path(n,o),(h=(i=e["$!"]())!==!1&&i!==c?i:q["$start_with?"](e))===c||h._isBoolean&&1!=h)?(d=(h=d["$nil_or_empty?"]())===c||h._isBoolean&&1!=h?(h=k["$is_root?"](d))===c||h._isBoolean&&1!=h?k.$system_path(d,e,e):k.$posixfy(d):function(){return e!==!1&&e!==c?e:k.working_dir}(),e["$=="](d)?(h=a.to_ary(k.$partition_path(e)),r=null==h[0]?c:h[0],s=null==h[1]?c:h[1],p=null==h[2]?c:h[2],t=r.$dup()):e!==!1&&e!==c?(((h=d["$start_with?"](e))===c||h._isBoolean&&1!=h)&&k.$raise(null==(h=a.Object._scope.SecurityError)?a.cm("SecurityError"):h,""+((h=g["$[]"]("target_name"))!==!1&&h!==c?h:"Start path")+" "+d+" is outside of jail: "+e+" (disallowed in safe mode)"),h=a.to_ary(k.$partition_path(d)),t=null==h[0]?c:h[0],u=null==h[1]?c:h[1],p=null==h[2]?c:h[2],h=a.to_ary(k.$partition_path(e)),r=null==h[0]?c:h[0],s=null==h[1]?c:h[1],p=null==h[2]?c:h[2]):(h=a.to_ary(k.$partition_path(d)),t=null==h[0]?c:h[0],u=null==h[1]?c:h[1],p=null==h[2]?c:h[2],s=u),v=t.$dup(),w=!1,(h=(i=n).$each,h._p=(j=function(d){var f,h=j._s||this;return null==d&&(d=c),d["$=="](l.DOT_DOT)?e!==!1&&e!==c?v.$length()["$>"](r.$length())?v.$pop():(f=m["$!"]())===c||f._isBoolean&&1!=f?(f=w["$!"]())===c||f._isBoolean&&1!=f?c:(h.$warn("asciidoctor: WARNING: "+((f=g["$[]"]("target_name"))!==!1&&f!==c?f:"path")+" has illegal reference to ancestor of jail, auto-recovering"),w=!0):h.$raise(null==(f=a.Object._scope.SecurityError)?a.cm("SecurityError"):f,""+((f=g["$[]"]("target_name"))!==!1&&f!==c?f:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)"):v.$pop():v.$push(d)},j._s=k,j),h).call(i),k.$join_path(v,s)):q},k.$web_path=function(b,d){var e,f,i,j=this,k=c,m=c,n=c,o=c,p=c;return null==h["~"]&&(h["~"]=c),null==d&&(d=c),b=j.$posixfy(b),d=j.$posixfy(d),k=c,((e=(f=d["$nil_or_empty?"]())!==!1&&f!==c?f:j["$is_web_root?"](b))===c||e._isBoolean&&1!=e)&&(b=""+d+l.SLASH+b,f=b["$include?"](":"),(e=f!==!1&&f!==c?l.UriSniffRx["$=~"](b):f)===c||e._isBoolean&&1!=e||(k=h["~"]["$[]"](0),b=b["$[]"](g(k.$length(),-1,!1)))),e=a.to_ary(j.$partition_path(b,!0)),m=null==e[0]?c:e[0],n=null==e[1]?c:e[1],o=null==e[2]?c:e[2],p=[],(e=(f=m).$each,e._p=(i=function(a){{var b,d;i._s||this}return null==a&&(a=c),a["$=="](l.DOT_DOT)?(b=p["$empty?"]())===c||b._isBoolean&&1!=b?p["$[]"](-1)["$=="](l.DOT_DOT)?p["$<<"](a):p.$pop():(b=(d=n!==!1&&n!==c)?n["$=="](l.DOT_SLASH)["$!"]():d)===c||b._isBoolean&&1!=b?p["$<<"](a):c:p["$<<"](a)},i._s=j,i),e).call(f),k!==!1&&k!==c?""+k+j.$join_path(p,n):j.$join_path(p,n)},k.$relative_path=function(a,b){var d,e,f=this,h=c;return e=f["$is_root?"](a),(d=e!==!1&&e!==c?f["$is_root?"](b):e)===c||d._isBoolean&&1!=d?a:(h=b.$chomp(f.file_separator).$length()["$+"](1),a["$[]"](g(h,-1,!1)))},c&&"relative_path"}(i,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.klass,h=a.hash2,i=a.range;return function(b){var j=f(b,"Asciidoctor"),k=(j._proto,j._scope);!function(b,e){function f(){}var j,k=f=g(b,e,"Reader",f),l=k._proto,m=k._scope;return l.file=l.dir=l.lines=l.process_lines=l.look_ahead=l.eof=l.unescape_next_line=l.lineno=l.path=l.source_lines=c,function(b,d){function e(){}{var f=e=g(b,d,"Cursor",e),h=f._proto;f._scope}return f.$attr_accessor("file"),f.$attr_accessor("dir"),f.$attr_accessor("path"),f.$attr_accessor("lineno"),h.$initialize=function(a,b,d,e){var f=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=c),f.file=a,f.dir=b,f.path=d,f.lineno=e},h.$line_info=function(){var a=this;return""+a.$path()+": line "+a.$lineno()},a.defn(f,"$to_s",h.$line_info)}(k,null),k.$attr_reader("file"),k.$attr_reader("dir"),k.$attr_reader("path"),k.$attr_reader("lineno"),k.$attr_reader("source_lines"),k.$attr_accessor("process_lines"),l.$initialize=function(b,d,e){var f,g,i=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=h(["normalize"],{normalize:!1})),(f=d["$!"]())===c||f._isBoolean&&1!=f?(f=d["$is_a?"](null==(g=a.Object._scope.String)?a.cm("String"):g))===c||f._isBoolean&&1!=f?(i.file=d.$file(),i.dir=d.$dir(),i.path=(f=d.$path())!==!1&&f!==c?f:"<stdin>",(f=i.file)===c||f._isBoolean&&1!=f||(((f=i.dir)===c||f._isBoolean&&1!=f)&&(i.dir=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(i.file),i.dir["$=="](".")&&(i.dir=c)),((f=d.$path())===c||f._isBoolean&&1!=f)&&(i.path=(null==(f=a.Object._scope.File)?a.cm("File"):f).$basename(i.file))),i.lineno=(f=d.$lineno())!==!1&&f!==c?f:1):(i.file=d,f=a.to_ary((null==(g=a.Object._scope.File)?a.cm("File"):g).$split(i.file)),i.dir=null==f[0]?c:f[0],i.path=null==f[1]?c:f[1],i.lineno=1):(i.file=i.dir=c,i.path="<stdin>",i.lineno=1),i.lines=function(){return b!==!1&&b!==c?i.$prepare_lines(b,e):[]}(),i.source_lines=i.lines.$dup(),i.eof=i.lines["$empty?"](),i.look_ahead=0,i.process_lines=!0,i.unescape_next_line=!1},l.$prepare_lines=function(b,d){var e,f;return null==d&&(d=h([],{})),(e=b["$is_a?"](null==(f=a.Object._scope.String)?a.cm("String"):f))===c||e._isBoolean&&1!=e?(e=d["$[]"]("normalize"))===c||e._isBoolean&&1!=e?b.$dup():m.Helpers.$normalize_lines_array(b):(e=d["$[]"]("normalize"))===c||e._isBoolean&&1!=e?b.$split(m.EOL):m.Helpers.$normalize_lines_from_string(b)},l.$process_line=function(a){var b,d=this;return(b=d.process_lines)===c||b._isBoolean&&1!=b||(d.look_ahead=d.look_ahead["$+"](1)),a},l["$has_more_lines?"]=function(){var a,b=this;return((a=b.eof)!==!1&&a!==c?a:b.eof=b.$peek_line()["$nil?"]())["$!"]()},l["$next_line_empty?"]=function(){var a=this;return a.$peek_line()["$nil_or_empty?"]()},l.$peek_line=function(a){var b,d,e=this,f=c;return null==a&&(a=!1),(b=(d=a)!==!1&&d!==c?d:e.look_ahead["$>"](0))===c||b._isBoolean&&1!=b?(b=(d=e.eof)!==!1&&d!==c?d:e.lines["$empty?"]())===c||b._isBoolean&&1!=b?(b=(f=e.$process_line(e.lines["$[]"](0)))["$!"]())===c||b._isBoolean&&1!=b?f:e.$peek_line():(e.eof=!0,e.look_ahead=0,c):(b=e.unescape_next_line)===c||b._isBoolean&&1!=b?e.lines["$[]"](0):e.lines["$[]"](0)["$[]"](i(1,-1,!1))},l.$peek_lines=function(a,b){var e,f,g,h,i,j=this,k=c,l=c;return null==a&&(a=1),null==b&&(b=!0),k=j.look_ahead,l=[],(e=(f=a).$times,e._p=(g=function(){var a,e=g._s||this,f=c;return(a=f=e.$read_line(b))===c||a._isBoolean&&1!=a?(d.$v=c,d):l["$<<"](f)},g._s=j,g),e).call(f),((e=l["$empty?"]())===c||e._isBoolean&&1!=e)&&((e=(h=l).$reverse_each,e._p=(i=function(a){var b=i._s||this;return null==a&&(a=c),b.$unshift(a)},i._s=j,i),e).call(h),b!==!1&&b!==c&&(j.look_ahead=k)),l},l.$read_line=function(a){var b,d,e,f=this;return null==a&&(a=!1),(b=(d=(e=a)!==!1&&e!==c?e:f.look_ahead["$>"](0))!==!1&&d!==c?d:f["$has_more_lines?"]())===c||b._isBoolean&&1!=b?c:f.$shift()},l.$read_lines=function(){var a,b=this,d=c;for(d=[];(a=b["$has_more_lines?"]())!==c&&(!a._isBoolean||1==a);)d["$<<"](b.$shift());return d},a.defn(k,"$readlines",l.$read_lines),l.$read=function(){var a=this;return a.$read_lines()["$*"](m.EOL)},l.$advance=function(a){var b=this;return null==a&&(a=!0),b.$read_line(a)["$!"]()["$!"]()},l.$unshift_line=function(a){var b=this;return b.$unshift(a),c},a.defn(k,"$restore_line",l.$unshift_line),l.$unshift_lines=function(a){var b,d,e,f=this;return(b=(d=a).$reverse_each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$unshift(a)},e._s=f,e),b).call(d),c},a.defn(k,"$restore_lines",l.$unshift_lines),l.$replace_line=function(a){var b=this;return b.$advance(),b.$unshift(a),c},l.$skip_blank_lines=function(){var a,b,d=this,e=c,f=c;if((a=d["$eof?"]())!==c&&(!a._isBoolean||1==a))return 0;for(e=0;(b=f=d.$peek_line())!==c&&(!b._isBoolean||1==b);){if((b=f["$empty?"]())===c||b._isBoolean&&1!=b)return e;d.$advance(),e=e["$+"](1)}return e},l.$skip_comment_lines=function(a){var b,d,e,f,g=this,i=c,j=c,k=c,l=c,n=c;if(null==a&&(a=h([],{})),(b=g["$eof?"]())!==c&&(!b._isBoolean||1==b))return[];for(i=[],j=a["$[]"]("include_blank_lines");(d=k=g.$peek_line())!==c&&(!d._isBoolean||1==d);)if((d=(e=j!==!1&&j!==c)?k["$empty?"]():e)===c||d._isBoolean&&1!=d)if(e=l=k["$start_with?"]("//"),(d=e!==!1&&e!==c?n=m.CommentBlockRx.$match(k):e)===c||d._isBoolean&&1!=d){if((e=(f=l!==!1&&l!==c)?m.CommentLineRx["$=~"](k):f)===c||e._isBoolean&&1!=e)break;i["$<<"](g.$shift())}else i["$<<"](g.$shift()),(d=i).$push.apply(d,[].concat(g.$read_lines_until(h(["terminator","read_last_line","skip_processing"],{terminator:n["$[]"](0),read_last_line:!0,skip_processing:!0}))));else i["$<<"](g.$shift());return i},l.$skip_line_comments=function(){var a,b,d=this,e=c,f=c;if((a=d["$eof?"]())!==c&&(!a._isBoolean||1==a))return[];
for(e=[];!((b=f=d.$peek_line())===c||b._isBoolean&&1!=b||(b=m.CommentLineRx["$=~"](f))===c||b._isBoolean&&1!=b);)e["$<<"](d.$shift());return e},l.$terminate=function(){var a=this;return a.lineno=a.lineno["$+"](a.lines.$size()),a.lines.$clear(),a.eof=!0,a.look_ahead=0,c},l["$eof?"]=function(){var a=this;return a["$has_more_lines?"]()["$!"]()},a.defn(k,"$empty?",l["$eof?"]),l.$read_lines_until=j=function(b){var e,f,g,i,k,l=this,n=j._p,o=n||c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c;for(null==b&&(b=h([],{})),j._p=null,p=[],(e=b["$[]"]("skip_first_line"))===c||e._isBoolean&&1!=e||l.$advance(),f=l.process_lines,(e=f!==!1&&f!==c?b["$[]"]("skip_processing"):f)===c||e._isBoolean&&1!=e?q=!1:(l.process_lines=!1,q=!0),(e=r=b["$[]"]("terminator"))===c||e._isBoolean&&1!=e?(s=b["$[]"]("break_on_blank_lines"),t=b["$[]"]("break_on_list_continuation")):(s=!1,t=!1),u=b["$[]"]("skip_line_comments"),v=!1,w=!1,x=!1;g=x["$!"](),(f=g!==!1&&g!==c?y=l.$read_line():g)!==c&&(!f._isBoolean||1==f);)x=function(){for(;(g=!0)!==c&&(!g._isBoolean||1==g);)return((g=(i=r!==!1&&r!==c)?y["$=="](r):i)===c||g._isBoolean&&1!=g)&&((g=(i=s!==!1&&s!==c)?y["$empty?"]():i)===c||g._isBoolean&&1!=g)?(i=(k=t!==!1&&t!==c)?v:k,(g=i!==!1&&i!==c?y["$=="](m.LIST_CONTINUATION):i)===c||g._isBoolean&&1!=g?(g=(i=o!==c)?(k=a.$yield1(o,y))===d?d.$v:k:i)===c||g._isBoolean&&1!=g?!1:!0:(b["$[]="]("preserve_last_line",!0),!0)):!0;return c}(),x!==!1&&x!==c?((f=b["$[]"]("read_last_line"))===c||f._isBoolean&&1!=f||(p["$<<"](y),v=!0),(f=b["$[]"]("preserve_last_line"))===c||f._isBoolean&&1!=f||(l.$restore_line(y),w=!0)):(g=(i=u!==!1&&u!==c)?y["$start_with?"]("//"):i,((f=g!==!1&&g!==c?m.CommentLineRx["$=~"](y):g)===c||f._isBoolean&&1!=f)&&(p["$<<"](y),v=!0));return q!==!1&&q!==c&&(l.process_lines=!0,(e=(f=w!==!1&&w!==c)?r["$!"]():f)===c||e._isBoolean&&1!=e||(l.look_ahead=l.look_ahead["$-"](1))),p},l.$shift=function(){var a=this;return a.lineno=a.lineno["$+"](1),a.look_ahead["$=="](0)||(a.look_ahead=a.look_ahead["$-"](1)),a.lines.$shift()},l.$unshift=function(a){var b=this;return b.lineno=b.lineno["$-"](1),b.look_ahead=b.look_ahead["$+"](1),b.eof=!1,b.lines.$unshift(a)},l.$cursor=function(){var a=this;return m.Cursor.$new(a.file,a.dir,a.path,a.lineno)},l.$line_info=function(){var a=this;return""+a.path+": line "+a.lineno},a.defn(k,"$next_line_info",l.$line_info),l.$prev_line_info=function(){var a=this;return""+a.path+": line "+a.lineno["$-"](1)},l.$lines=function(){var a=this;return a.lines.$dup()},l.$string=function(){var a=this;return a.lines["$*"](m.EOL)},l.$source=function(){var a=this;return a.source_lines["$*"](m.EOL)},l.$to_s=function(){var a=this;return a.$line_info()},c&&"to_s"}(j,null),function(b,f){function j(){}var k,l,m,n,o=j=g(b,f,"PreprocessorReader",j),p=o._proto,q=o._scope;return p.document=p.lineno=p.process_lines=p.look_ahead=p.skipping=p.include_stack=p.conditional_stack=p.path=p.include_processor_extensions=p.maxdepth=p.dir=p.lines=p.file=p.includes=p.unescape_next_line=c,o.$attr_reader("include_stack"),o.$attr_reader("includes"),p.$initialize=k=function(b,d,e){var f,g,i,j=this,l=(k._p,c);return null==d&&(d=c),null==e&&(e=c),k._p=null,j.document=b,a.find_super_dispatcher(j,"initialize",k,null).apply(j,[d,e,h(["normalize"],{normalize:!0})]),l=b.$attributes().$fetch("max-include-depth",64).$to_i(),l["$<"](0)&&(l=0),j.maxdepth=h(["abs","rel"],{abs:l,rel:l}),j.include_stack=[],j.includes=(f="includes",g=b.$references(),(i=g["$[]"](f))!==!1&&i!==c?i:g["$[]="](f,[])),j.skipping=!1,j.conditional_stack=[],j.include_processor_extensions=c},p.$prepare_lines=l=function(b,d){var f,g,i,j=e.call(arguments,0),k=this,m=l._p,n=c,o=c,p=c,r=c,s=c;if(null==d&&(d=h([],{})),l._p=null,n=a.find_super_dispatcher(k,"prepare_lines",l,m).apply(k,j),g=k.document,(f=g!==!1&&g!==c?k.document.$attributes()["$has_key?"]("skip-front-matter"):g)===c||f._isBoolean&&1!=f||(f=o=k["$skip_front_matter!"](n))===c||f._isBoolean&&1!=f||k.document.$attributes()["$[]="]("front-matter",o["$*"](q.EOL)),(f=d.$fetch("condense",!0))!==c&&(!f._isBoolean||1==f)){for(;i=p=n["$[]"](0),(g=i!==!1&&i!==c?p["$empty?"]():i)!==c&&(!g._isBoolean||1==g);)g=n.$shift(),g!==!1&&g!==c?k.lineno=k.lineno["$+"](1):g;for(;i=r=n["$[]"](-1),(g=i!==!1&&i!==c?r["$empty?"]():i)!==c&&(!g._isBoolean||1==g);)n.$pop()}return(f=s=d.$fetch("indent",c))===c||f._isBoolean&&1!=f||q.Parser["$reset_block_indent!"](n,s.$to_i()),n},p.$process_line=function(a){var b,d,e,f,g=this,h=c,j=c;return(b=g.process_lines)===c||b._isBoolean&&1!=b?a:(b=a["$empty?"]())===c||b._isBoolean&&1!=b?(e=a["$end_with?"]("]"),d=e!==!1&&e!==c?a["$start_with?"]("[")["$!"]():e,(b=d!==!1&&d!==c?a["$include?"]("::"):d)===c||b._isBoolean&&1!=b?(b=g.skipping)===c||b._isBoolean&&1!=b?(g.look_ahead=g.look_ahead["$+"](1),a):(g.$advance(),c):(d=a["$include?"]("if"),(b=d!==!1&&d!==c?h=q.ConditionalDirectiveRx.$match(a):d)===c||b._isBoolean&&1!=b?(b=g.skipping)===c||b._isBoolean&&1!=b?(e=(f=j=a["$start_with?"]("\\include::"))!==!1&&f!==c?f:a["$start_with?"]("include::"),(b=e!==!1&&e!==c?h=q.IncludeDirectiveRx.$match(a):e)===c||b._isBoolean&&1!=b?(g.look_ahead=g.look_ahead["$+"](1),a):j!==!1&&j!==c?(g.unescape_next_line=!0,g.look_ahead=g.look_ahead["$+"](1),a["$[]"](i(1,-1,!1))):(b=g.$preprocess_include(h["$[]"](1),h["$[]"](2).$strip()))===c||b._isBoolean&&1!=b?(g.look_ahead=g.look_ahead["$+"](1),a):c):(g.$advance(),c):(b=a["$start_with?"]("\\"))===c||b._isBoolean&&1!=b?(b=(d=g).$preprocess_conditional_inclusion.apply(d,[].concat(h.$captures())))===c||b._isBoolean&&1!=b?(g.look_ahead=g.look_ahead["$+"](1),a):(g.$advance(),c):(g.unescape_next_line=!0,g.look_ahead=g.look_ahead["$+"](1),a["$[]"](i(1,-1,!1))))):(g.look_ahead=g.look_ahead["$+"](1),"")},p.$peek_line=m=function(b){var d,f=e.call(arguments,0),g=this,h=m._p,i=c;return null==b&&(b=!1),m._p=null,(d=i=a.find_super_dispatcher(g,"peek_line",m,h).apply(g,f))===c||d._isBoolean&&1!=d?(d=g.include_stack["$empty?"]())===c||d._isBoolean&&1!=d?(g.$pop_include(),g.$peek_line(b)):c:i},p.$preprocess_conditional_inclusion=function(a,b,d,e){var f,g,i,j,k,l,m,n,o,p,r=this,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c;if(i=(j=a["$=="]("ifdef"))!==!1&&j!==c?j:a["$=="]("ifndef"),(f=(g=i!==!1&&i!==c?b["$empty?"]():i)!==!1&&g!==c?g:(i=a["$=="]("endif"))?e:i)!==c&&(!f._isBoolean||1==f))return!1;if(b=b.$downcase(),a["$=="]("endif"))return s=r.conditional_stack.$size(),s["$>"](0)?(t=r.conditional_stack["$[]"](-1),(f=(g=b["$empty?"]())!==!1&&g!==c?g:b["$=="](t["$[]"]("target")))===c||f._isBoolean&&1!=f?r.$warn("asciidoctor: ERROR: "+r.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+t["$[]"]("target")+"[]"):(r.conditional_stack.$pop(),r.skipping=function(){return(f=r.conditional_stack["$empty?"]())===c||f._isBoolean&&1!=f?r.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1}())):r.$warn("asciidoctor: ERROR: "+r.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;if(u=!1,(f=r.skipping)===c||f._isBoolean&&1!=f){if(v=a,"ifdef"["$==="](v))v=d,c["$==="](v)?u=r.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](v)?u=(f=(g=b.$split(",")).$detect,f._p=(k=function(a){var b=k._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)},k._s=r,k),f).call(g)["$!"]():"+"["$==="](v)&&(u=(f=(i=b.$split("+")).$detect,f._p=(l=function(a){var b=l._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)["$!"]()},l._s=r,l),f).call(i));else if("ifndef"["$==="](v))v=d,c["$==="](v)?u=r.document.$attributes()["$has_key?"](b):","["$==="](v)?u=(f=(j=b.$split(",")).$detect,f._p=(m=function(a){var b=m._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)["$!"]()},m._s=r,m),f).call(j)["$!"]():"+"["$==="](v)&&(u=(f=(n=b.$split("+")).$detect,f._p=(o=function(a){var b=o._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)},o._s=r,o),f).call(n));else if("ifeval"["$==="](v)){if((f=(p=b["$empty?"]()["$!"]())!==!1&&p!==c?p:(w=q.EvalExpressionRx.$match(e.$strip()))["$!"]())!==c&&(!f._isBoolean||1==f))return!1;x=r.$resolve_expr_val(w["$[]"](1)),y=w["$[]"](2),z=r.$resolve_expr_val(w["$[]"](3)),u=x.$send(y.$to_sym(),z)["$!"]()}}else;if((f=(p=a["$=="]("ifeval"))!==!1&&p!==c?p:e["$!"]())===c||f._isBoolean&&1!=f){if((f=(p=r.skipping)!==!1&&p!==c?p:u)===c||f._isBoolean&&1!=f)return A=r.$peek_line(!0),r.$replace_line(e.$rstrip()),r.$unshift(A),!0}else u!==!1&&u!==c&&(r.skipping=!0),r.conditional_stack["$<<"](h(["target","skip","skipping"],{target:b,skip:u,skipping:r.skipping}));return!0},p.$preprocess_include=function(b,e){var f,g,i,j,k,l,m,n,o,p,r,s=this,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c,F=c,G=c,H=c;if((f=(t=s.document.$sub_attributes(b,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===c||f._isBoolean&&1!=f){if(g=s["$include_processors?"](),(f=g!==!1&&g!==c?u=(i=(j=s.include_processor_extensions).$find,i._p=(k=function(a){k._s||this;return null==a&&(a=c),a.$instance()["$handles?"](t)},k._s=s,k),i).call(j):g)===c||f._isBoolean&&1!=f){if(s.document.$safe()["$>="](q.SafeMode._scope.SECURE))return s.$replace_line("link:"+t+"[]"),!0;if((f=(g=(v=s.maxdepth["$[]"]("abs"))["$>"](0))?s.include_stack.$size()["$>="](v):g)===c||f._isBoolean&&1!=f){if(v["$>"](0)){if((f=null==(g=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):g)===c||f._isBoolean&&1!=f)if(g=t["$include?"](":"),(f=g!==!1&&g!==c?q.UriSniffRx["$=~"](t):g)===c||f._isBoolean&&1!=f){if(w="file",x=s.document.$normalize_system_path(t,s.dir,c,h(["target_name"],{target_name:"include file"})),(f=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$file?"](x))===c||f._isBoolean&&1!=f)return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include file not found: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0;y=q.PathResolver.$new().$relative_path(x,s.document.$base_dir())}else{if((f=s.document.$attributes()["$has_key?"]("allow-uri-read"))===c||f._isBoolean&&1!=f)return s.$replace_line("link:"+t+"[]"),!0;w="uri",x=y=t,(f=s.document.$attributes()["$has_key?"]("cache-uri"))===c||f._isBoolean&&1!=f?(f=(null==(g=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):g)["$!"]())===c||f._isBoolean&&1!=f||(null==(f=a.Object._scope.OpenURI)?a.cm("OpenURI"):f):q.Helpers.$require_library("open-uri/cached","open-uri-cached")}else w="file",x=y=function(){return(f=s.include_stack["$empty?"]())===c||f._isBoolean&&1!=f?(null==(f=a.Object._scope.File)?a.cm("File"):f).$join(s.dir,t):(null==(f=a.Object._scope.Dir)?a.cm("Dir"):f).$pwd()["$=="](s.document.$base_dir())?t:(null==(f=a.Object._scope.File)?a.cm("File"):f).$join(s.dir,t)}();if(z=c,A=c,B=h([],{}),(f=e["$empty?"]()["$!"]())===c||f._isBoolean&&1!=f||(B=q.AttributeList.$new(e).$parse(),(f=B["$has_key?"]("lines"))===c||f._isBoolean&&1!=f?(f=B["$has_key?"]("tag"))===c||f._isBoolean&&1!=f?(f=B["$has_key?"]("tags"))===c||f._isBoolean&&1!=f||(A=B["$[]"]("tags").$split(q.DataDelimiterRx).$to_set()):A=[B["$[]"]("tag")].$to_set():(z=[],(f=(g=B["$[]"]("lines").$split(q.DataDelimiterRx)).$each,f._p=(l=function(b){var d,e,f,g=(l._s||this,c),h=c;return null==b&&(b=c),(d=b["$include?"](".."))===c||d._isBoolean&&1!=d?z["$<<"](b.$to_i()):(d=a.to_ary((e=(f=b.$split("..")).$map,e._p="to_i".$to_proc(),e).call(f)),g=null==d[0]?c:d[0],h=null==d[1]?c:d[1],h["$=="](-1)?(z["$<<"](g),z["$<<"](1["$/"](0))):z.$concat((null==(d=a.Object._scope.Range)?a.cm("Range"):d).$new(g,h).$to_a()))},l._s=s,l),f).call(g),z=z.$sort().$uniq())),z!==!1&&z!==c)if((f=z["$empty?"]())===c||f._isBoolean&&1!=f){C=[],D=0,E=0;try{(f=(i=s).$open,f._p=(m=function(b){var e,f,g,h=m._s||this;return null==b&&(b=c),(e=(f=b).$each_line,e._p=(g=function(e){var f,h,i,j=(g._s||this,c);return null==e&&(e=c),E=E["$+"](1),j=z["$[]"](0),h=j["$is_a?"](null==(i=a.Object._scope.Float)?a.cm("Float"):i),(f=h!==!1&&h!==c?j["$infinite?"]():h)===c||f._isBoolean&&1!=f?(b.$lineno()["$=="](j)&&(C.$push(e),D["$=="](0)&&(D=E),z.$shift()),(f=z["$empty?"]())===c||f._isBoolean&&1!=f?c:(d.$v=c,d)):(C.$push(e),D["$=="](0)?D=E:c)},g._s=h,g),e).call(f)},m._s=s,m),f).call(i,x,"r")}catch(I){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+w+" not readable: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0}s.$advance(),s.$push_include(C,x,y,D,B)}else;else if(A!==!1&&A!==c)if((f=A["$empty?"]())===c||f._isBoolean&&1!=f){C=[],D=0,E=0,F=c,G=(null==(f=a.Object._scope.Set)?a.cm("Set"):f).$new();try{(f=(n=s).$open,f._p=(o=function(b){var e,f,g,h=o._s||this;return null==b&&(b=c),(e=(f=b).$each_line,e._p=(g=function(b){var e,f,h,i=g._s||this,j=c;return null==b&&(b=c),E=E["$+"](1),(e=q.FORCE_ENCODING)===c||e._isBoolean&&1!=e||b.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),b=b.$rstrip(),j=b.$chomp("-->").$rstrip(),F!==!1&&F!==c?(e=j["$end_with?"]("end::"+F+"[]"))===c||e._isBoolean&&1!=e?(f=j["$end_with?"]("[]"),((e=f!==!1&&f!==c?q.TagDirectiveRx["$=~"](j):f)===c||e._isBoolean&&1!=e)&&C.$push(b),D["$=="](0)?D=E:c):F=c:(f=j["$end_with?"]("[]"),(e=f!==!1&&f!==c?q.TagDirectiveRx["$=~"](j):f)===c||e._isBoolean&&1!=e?c:(e=(f=A).$each,e._p=(h=function(a){{var b;h._s||this}return null==a&&(a=c),(b=j["$end_with?"]("tag::"+a+"[]"))===c||b._isBoolean&&1!=b?c:(F=a,G["$<<"](a),d.$v=c,d)},h._s=i,h),e).call(f))},g._s=h,g),e).call(f)},o._s=s,o),f).call(n,x,"r")}catch(I){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+w+" not readable: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0}((f=(H=A.$to_a()["$-"](G.$to_a()))["$empty?"]())===c||f._isBoolean&&1!=f)&&s.$warn("asciidoctor: WARNING: "+s.$line_info()+": tag"+function(){return H.$size()["$>"](1)?"s":c}()+" '"+H["$*"](",")+"' not found in include "+w+": "+x),s.$advance(),s.$push_include(C,x,y,D,B)}else;else try{s.$advance(),s.$push_include((f=(p=s).$open,f._p=(r=function(a){r._s||this;return null==a&&(a=c),a.$read()},r._s=s,r),f).call(p,x,"r"),x,y,1,B)}catch(I){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+w+" not readable: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0}return!0}return!1}return s.$warn("asciidoctor: ERROR: "+s.$line_info()+": maximum include depth of "+s.maxdepth["$[]"]("rel")+" exceeded"),!1}return s.$advance(),u.$process_method()["$[]"](s.document,s,t,q.AttributeList.$new(e).$parse()),!0}return s.document.$attributes().$fetch("attribute-missing",q.Compliance.$attribute_missing())["$=="]("skip")?(s.$replace_line("Unresolved directive in "+s.path+" - include::"+b+"["+e+"]"),!0):(s.$advance(),!0)},p.$push_include=function(b,d,e,f,g){var i,j=this,k=c,l=c;return null==d&&(d=c),null==e&&(e=c),null==f&&(f=1),null==g&&(g=h([],{})),j.include_stack["$<<"]([j.lines,j.file,j.dir,j.path,j.lineno,j.maxdepth,j.process_lines]),d!==!1&&d!==c?(j.file=d,j.dir=q.File.$dirname(d),j.process_lines=q.ASCIIDOC_EXTENSIONS["$[]"]((null==(i=a.Object._scope.File)?a.cm("File"):i).$extname(d))):(j.file=c,j.dir=".",j.process_lines=!0),j.path=function(){return e!==!1&&e!==c?(j.includes["$<<"](q.Helpers.$rootname(e)),e):"<stdin>"}(),j.lineno=f,(i=g["$has_key?"]("depth"))===c||i._isBoolean&&1!=i||(k=g["$[]"]("depth").$to_i(),k["$<="](0)&&(k=1),j.maxdepth=h(["abs","rel"],{abs:j.include_stack.$size()["$-"](1)["$+"](k),rel:k})),(i=(j.lines=j.$prepare_lines(b,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:g["$[]"]("indent")})))["$empty?"]())===c||i._isBoolean&&1!=i?((i=g["$has_key?"]("leveloffset"))===c||i._isBoolean&&1!=i||(j.lines.$unshift(""),j.lines.$unshift(":leveloffset: "+g["$[]"]("leveloffset")),j.lines.$push(""),j.lines.$push((i=l=j.document.$attr("leveloffset"))===c||i._isBoolean&&1!=i?":leveloffset!:":":leveloffset: "+l),j.lineno=j.lineno["$-"](2)),j.eof=!1,j.look_ahead=0):j.$pop_include(),c},p.$pop_include=function(){var b,d=this;return d.include_stack.$size()["$>"](0)&&(b=a.to_ary(d.include_stack.$pop()),d.lines=null==b[0]?c:b[0],d.file=null==b[1]?c:b[1],d.dir=null==b[2]?c:b[2],d.path=null==b[3]?c:b[3],d.lineno=null==b[4]?c:b[4],d.maxdepth=null==b[5]?c:b[5],d.process_lines=null==b[6]?c:b[6],d.eof=d.lines["$empty?"](),d.look_ahead=0),c},p.$include_depth=function(){var a=this;return a.include_stack.$size()},p["$exceeded_max_depth?"]=function(){var a,b,d=this,e=c;return(a=(b=(e=d.maxdepth["$[]"]("abs"))["$>"](0))?d.include_stack.$size()["$>="](e):b)===c||a._isBoolean&&1!=a?!1:d.maxdepth["$[]"]("rel")},p.$shift=n=function(){var b,d=e.call(arguments,0),f=this,g=n._p;return n._p=null,(b=f.unescape_next_line)===c||b._isBoolean&&1!=b?a.find_super_dispatcher(f,"shift",n,g).apply(f,d):(f.unescape_next_line=!1,a.find_super_dispatcher(f,"shift",n,g).apply(f,d)["$[]"](i(1,-1,!1)))},p["$skip_front_matter!"]=function(a,b){var d,e,f,g=this,h=c,i=c;if(null==b&&(b=!0),h=c,a["$[]"](0)["$=="]("---")){for(i=a.$dup(),h=[],a.$shift(),b!==!1&&b!==c&&(g.lineno=g.lineno["$+"](1));f=a["$empty?"]()["$!"](),(e=f!==!1&&f!==c?a["$[]"](0)["$=="]("---")["$!"]():f)!==c&&(!e._isBoolean||1==e);)h.$push(a.$shift()),b!==!1&&b!==c&&(g.lineno=g.lineno["$+"](1));(d=a["$empty?"]())===c||d._isBoolean&&1!=d?(a.$shift(),b!==!1&&b!==c&&(g.lineno=g.lineno["$+"](1))):((d=a).$unshift.apply(d,[].concat(i)),b!==!1&&b!==c&&(g.lineno=0),h=c)}return h},p.$resolve_expr_val=function(a){var b,d,e,f=this,g=c,h=c;return g=a,h=c,e=g["$start_with?"]('"'),(b=(d=e!==!1&&e!==c?g["$end_with?"]('"'):e)!==!1&&d!==c?d:(e=g["$start_with?"]("'"),e!==!1&&e!==c?g["$end_with?"]("'"):e))===c||b._isBoolean&&1!=b||(h="string",g=g["$[]"](i(1,-1,!0))),(b=g["$include?"]("{"))===c||b._isBoolean&&1!=b||(g=f.document.$sub_attributes(g)),h["$=="]("string")||(g=(b=g["$empty?"]())===c||b._isBoolean&&1!=b?(b=g.$strip()["$empty?"]())===c||b._isBoolean&&1!=b?g["$=="]("true")?!0:g["$=="]("false")?!1:(b=g["$include?"]("."))===c||b._isBoolean&&1!=b?g.$to_i():g.$to_f():" ":c),g},p["$include_processors?"]=function(){var a,b,d=this;return(a=d.include_processor_extensions["$nil?"]())===c||a._isBoolean&&1!=a?d.include_processor_extensions["$=="](!1)["$!"]():(b=d.document["$extensions?"](),(a=b!==!1&&b!==c?d.document.$extensions()["$include_processors?"]():b)===c||a._isBoolean&&1!=a?d.include_processor_extensions=!1:(d.include_processor_extensions=d.document.$extensions().$include_processors())["$!"]()["$!"]())},p.$to_s=function(){var a,b,d,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line #: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+(a=(b=e.include_stack).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$to_s()},d._s=e,d),a).call(b).$join(", ")+"]}>"},c&&"to_s"}(j,k.Reader)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range;return function(b){var i=e(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,e){function i(){}var j,k,l,m=i=f(b,e,"Section",i),n=m._proto,o=m._scope;return n.level=n.document=n.parent=n.number=n.title=n.numbered=n.blocks=c,m.$attr_accessor("index"),m.$attr_accessor("number"),m.$attr_accessor("sectname"),m.$attr_accessor("special"),m.$attr_accessor("numbered"),n.$initialize=j=function(b,d,e,f){{var h,i,k=this;j._p}return null==b&&(b=c),null==d&&(d=c),null==e&&(e=!0),null==f&&(f=g([],{})),j._p=null,a.find_super_dispatcher(k,"initialize",j,null).apply(k,[b,"section",f]),k.level=d!==!1&&d!==c?d:function(){return b!==!1&&b!==c?b.$level()["$+"](1):1}(),k.numbered=(h=e!==!1&&e!==c)?k.level["$>"](0):h,k.special=(h=(i=b!==!1&&b!==c)?b.$context()["$=="]("section"):i,h!==!1&&h!==c?b.$special():h),k.index=0,k.number=1},a.defn(m,"$name",n.$title),n.$generate_id=function(){var a,b,d=this,e=c,f=c,g=c,i=c,j=c;if((a=d.document.$attributes()["$has_key?"]("sectids"))===c||a._isBoolean&&1!=a)return c;if(e=(a=d.document.$attributes()["$[]"]("idseparator"))!==!1&&a!==c?a:"_",f=(a=d.document.$attributes()["$[]"]("idprefix"))!==!1&&a!==c?a:"_",g=""+f+d.$title().$downcase().$gsub(o.InvalidSectionIdCharsRx,e).$tr_s(e,e).$chomp(e),b=f["$empty?"](),(a=b!==!1&&b!==c?g["$start_with?"](e):b)!==c&&(!a._isBoolean||1==a))for(g=g["$[]"](h(1,-1,!1));(b=g["$start_with?"](e))!==c&&(!b._isBoolean||1==b);)g=g["$[]"](h(1,-1,!1));for(i=g,j=o.Compliance.$unique_id_start_index();(b=d.document.$references()["$[]"]("ids")["$has_key?"](i))!==c&&(!b._isBoolean||1==b);)i=""+g+e+j,j=j["$+"](1);return i},n.$sectnum=function(a,b){var d,e,f,g,h=this;return null==a&&(a="."),null==b&&(b=c),(d=b)!==!1&&d!==c?d:b=function(){return b["$=="](!1)?"":a}(),g=h.level,f=g!==!1&&g!==c?h.level["$>"](1):g,e=f!==!1&&f!==c?h.parent:f,(d=e!==!1&&e!==c?h.parent.$context()["$=="]("section"):e)===c||d._isBoolean&&1!=d?""+h.number+b:""+h.parent.$sectnum(a)+h.number+b},n["$<<"]=k=function(b){var e=d.call(arguments,0),f=this,g=k._p;return k._p=null,a.find_super_dispatcher(f,"<<",k,g).apply(f,e),b.$context()["$=="]("section")?f.$assign_index(b):c},n.$to_s=l=function(){var b,e=d.call(arguments,0),f=this,g=l._p,h=c;return l._p=null,(b=f.title["$=="](c)["$!"]())===c||b._isBoolean&&1!=b?a.find_super_dispatcher(f,"to_s",l,g).apply(f,e):(h=function(){return(b=f.numbered)===c||b._isBoolean&&1!=b?f.title:""+f.$sectnum()+" "+f.title}(),"#<"+f.$class()+"@"+f.$object_id()+" {level: "+f.level+", title: "+h.$inspect()+", blocks: "+f.blocks.$size()+"}>")},c&&"to_s"}(i,j.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b,d){function g(){}var h,i=g=e(b,d,"Stylesheets",g),j=i._proto,k=i._scope;return j.primary_stylesheet_data=j.coderay_stylesheet_data=j.pygments_stylesheet_data=c,a.cdecl(k,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(k,"DEFAULT_PYGMENTS_STYLE","default"),a.cdecl(k,"STYLESHEETS_DATA_PATH",(null==(h=a.Object._scope.File)?a.cm("File"):h).$join(k.DATA_PATH,"stylesheets")),i.__instance__=i.$new(),a.defs(i,"$instance",function(){var a=this;return null==a.__instance__&&(a.__instance__=c),a.__instance__}),j.$primary_stylesheet_name=function(){return k.DEFAULT_STYLESHEET_NAME},j.$primary_stylesheet_data=function(){var b,d,e=this;return(b=e.primary_stylesheet_data)!==!1&&b!==c?b:e.primary_stylesheet_data=(null==(d=a.Object._scope.IO)?a.cm("IO"):d).$read((null==(d=a.Object._scope.File)?a.cm("File"):d).$join(k.STYLESHEETS_DATA_PATH,"asciidoctor-default.css")).$chomp()},j.$embed_primary_stylesheet=function(){var a=this;return"<style>\n"+a.$primary_stylesheet_data()+"\n</style>"},j.$write_primary_stylesheet=function(b){var d,e,f,g,h=this;return(d=(e=null==(g=a.Object._scope.File)?a.cm("File"):g).$open,d._p=(f=function(a){var b=f._s||this;return null==a&&(a=c),a.$write(b.$primary_stylesheet_data())},f._s=h,f),d).call(e,(null==(g=a.Object._scope.File)?a.cm("File"):g).$join(b,h.$primary_stylesheet_name()),"w")},j.$coderay_stylesheet_name=function(){return"coderay-asciidoctor.css"},j.$coderay_stylesheet_data=function(){var b,d,e=this;return(b=e.coderay_stylesheet_data)!==!1&&b!==c?b:e.coderay_stylesheet_data=(null==(d=a.Object._scope.IO)?a.cm("IO"):d).$read((null==(d=a.Object._scope.File)?a.cm("File"):d).$join(k.STYLESHEETS_DATA_PATH,"coderay-asciidoctor.css")).$chomp()},j.$embed_coderay_stylesheet=function(){var a=this;return"<style>\n"+a.$coderay_stylesheet_data()+"\n</style>"},j.$write_coderay_stylesheet=function(b){var d,e,f,g,h=this;return(d=(e=null==(g=a.Object._scope.File)?a.cm("File"):g).$open,d._p=(f=function(a){var b=f._s||this;return null==a&&(a=c),a.$write(b.$coderay_stylesheet_data())},f._s=h,f),d).call(e,(null==(g=a.Object._scope.File)?a.cm("File"):g).$join(b,h.$coderay_stylesheet_name()),"w")},j.$pygments_stylesheet_name=function(a){var b;return null==a&&(a=c),(b=a)!==!1&&b!==c?b:a=k.DEFAULT_PYGMENTS_STYLE,"pygments-"+a+".css"},j.$pygments_stylesheet_data=function(a){var b,d=this;return null==a&&(a=c),(b=a)!==!1&&b!==c?b:a=k.DEFAULT_PYGMENTS_STYLE,(b=d.pygments_stylesheet_data)!==!1&&b!==c?b:d.pygments_stylesheet_data=d.$load_pygments()},j.$embed_pygments_stylesheet=function(a){var b=this;return null==a&&(a=c),"<style>\n"+b.$pygments_stylesheet_data(a)+"\n</style>"},j.$write_pygments_stylesheet=function(b,d){var e,f,g,h,i=this;return null==d&&(d=c),(e=(f=null==(h=a.Object._scope.File)?a.cm("File"):h).$open,e._p=(g=function(a){var b=g._s||this;return null==a&&(a=c),a.$write(b.$pygments_stylesheet_data(d))},g._s=i,g),e).call(f,(null==(h=a.Object._scope.File)?a.cm("File"):h).$join(b,i.$pygments_stylesheet_name(d)),"w")},j.$load_pygments=function(){var b;return((b=null==a.Object._scope.Pygments?c:"constant")===c||b._isBoolean&&1!=b)&&k.Helpers.$require_library("pygments","pygments.rb"),f([],{})},c&&"load_pygments"}(g,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range;return function(b){var i=e(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,d){function e(){}var h,i=e=f(b,d,"Table",e),j=i._proto,k=i._scope;return j.attributes=j.document=j.has_header_option=j.rows=c,function(b,c){function d(){}{var e=d=f(b,c,"Rows",d),g=e._proto;e._scope}return e.$attr_accessor("head","foot","body"),g.$initialize=function(a,b,c){var d=this;return null==a&&(a=[]),null==b&&(b=[]),null==c&&(c=[]),d.head=a,d.foot=b,d.body=c},a.defn(e,"$[]",g.$send)}(i,null),a.cdecl(k,"DEFAULT_DATA_FORMAT","psv"),a.cdecl(k,"DATA_FORMATS",["psv","dsv","csv"]),a.cdecl(k,"DEFAULT_DELIMITERS",g(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),a.cdecl(k,"TEXT_STYLES",g(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),a.cdecl(k,"ALIGNMENTS",g(["h","v"],{h:g(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:g(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),i.$attr_accessor("columns"),i.$attr_accessor("rows"),i.$attr_accessor("has_header_option"),j.$initialize=h=function(b,d){var e,f,g,i=this,j=(h._p,c),l=c;return h._p=null,a.find_super_dispatcher(i,"initialize",h,null).apply(i,[b,"table"]),i.rows=k.Rows.$new(),i.columns=[],i.has_header_option=d["$has_key?"]("header-option"),j=d["$[]"]("width"),l=j.$to_i().$abs(),(e=(f=(g=l["$=="](0))?j["$=="]("0")["$!"]():g)!==!1&&f!==c?f:l["$>"](100))===c||e._isBoolean&&1!=e||(l=100),i.attributes["$[]="]("tablepcwidth",l),(e=i.document.$attributes()["$has_key?"]("pagewidth"))===c||e._isBoolean&&1!=e?c:(e="tableabswidth",f=i.attributes,(g=f["$[]"](e))!==!1&&g!==c?g:f["$[]="](e,i.attributes["$[]"]("tablepcwidth").$to_f()["$/"](100)["$*"](i.document.$attributes()["$[]"]("pagewidth")).$round()))},j["$header_row?"]=function(){var a,b=this;return a=b.has_header_option,a!==!1&&a!==c?b.rows.$body()["$empty?"]():a},j.$create_columns=function(a){var b,d,e,f,g,h=this,i=c,j=c,l=c;return i=0,j=[],(b=(d=a).$each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),i=i["$+"](a["$[]"]("width")),j["$<<"](k.Column.$new(b,j.$size(),a))},e._s=h,e),b).call(d),((b=j["$empty?"]())===c||b._isBoolean&&1!=b)&&(h.attributes["$[]="]("colcount",j.$size()),l=100["$/"](j.$size()).$floor(),(b=(f=j).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$assign_width(i,l)},g._s=h,g),b).call(f)),h.columns=j,c},j.$partition_header_footer=function(a){var b,d,e,f,g=this,h=c,i=c;return g.attributes["$[]="]("rowcount",g.rows.$body().$size()),h=g.rows.$body().$size(),(b=(d=h["$>"](0))?g.has_header_option:d)===c||b._isBoolean&&1!=b||(i=g.rows.$body().$shift(),h=h["$-"](1),(b=(d=i).$each,b._p=(e=function(a){e._s||this;return null==a&&(a=c),a["$style="](c)},e._s=g,e),b).call(d),g.rows["$head="]([i])),(b=(f=h["$>"](0))?a["$has_key?"]("footer-option"):f)===c||b._isBoolean&&1!=b||g.rows["$foot="]([g.rows.$body().$pop()]),c},c&&"partition_header_footer"}(i,j.AbstractBlock),function(b,d){function e(){}{var h,i=e=f(b,d,"Column",e),j=i._proto;i._scope}return j.attributes=c,i.$attr_accessor("style"),j.$initialize=h=function(b,d,e){{var f,i,j,k=this;h._p}return null==e&&(e=g([],{})),h._p=null,a.find_super_dispatcher(k,"initialize",h,null).apply(k,[b,"column"]),k.style=e["$[]"]("style"),e["$[]="]("colnumber",d["$+"](1)),f="width",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,1),f="halign",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,"left"),f="valign",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,"top"),k.$update_attributes(e)},a.defn(i,"$table",j.$parent),j.$assign_width=function(a,b){var d,e=this,f=c;return f=a["$>"](0)?e.attributes["$[]"]("width").$to_f()["$/"](a)["$*"](100).$floor():b,e.attributes["$[]="]("colpcwidth",f),(d=e.$parent().$attributes()["$has_key?"]("tableabswidth"))===c||d._isBoolean&&1!=d||e.attributes["$[]="]("colabswidth",f.$to_f()["$/"](100)["$*"](e.$parent().$attributes()["$[]"]("tableabswidth")).$round()),c},c&&"assign_width"}(j.Table,j.AbstractNode),function(b,e){function h(){}var i,j,k=h=f(b,e,"Cell",h),l=k._proto,m=k._scope;return l.style=l.document=l.text=l.inner_document=l.colspan=l.rowspan=l.attributes=c,k.$attr_accessor("style"),k.$attr_accessor("colspan"),k.$attr_accessor("rowspan"),a.defn(k,"$column",l.$parent),k.$attr_reader("inner_document"),l.$initialize=i=function(b,d,e,f){var h,j,k=this,l=(i._p,c),n=c,o=c,p=c;return null==e&&(e=g([],{})),null==f&&(f=c),i._p=null,a.find_super_dispatcher(k,"initialize",i,null).apply(k,[b,"cell"]),k.text=d,k.style=c,k.colspan=c,k.rowspan=c,b!==!1&&b!==c&&(k.style=b.$attributes()["$[]"]("style"),k.$update_attributes(b.$attributes())),e!==!1&&e!==c&&(k.colspan=e.$delete("colspan"),k.rowspan=e.$delete("rowspan"),(h=e["$has_key?"]("style"))===c||h._isBoolean&&1!=h||(k.style=e["$[]"]("style")),k.$update_attributes(e)),(h=(j=k.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():j)===c||h._isBoolean&&1!=h?c:(l=k.document.$attributes().$delete("doctitle"),n=k.text.$split(m.EOL),((h=(j=n["$empty?"]())!==!1&&j!==c?j:n["$[]"](0)["$include?"]("::")["$!"]())===c||h._isBoolean&&1!=h)&&(o=n["$[]"](0),p=m.PreprocessorReader.$new(k.document,o).$readlines(),(h=p["$=="](o)["$!"]())===c||h._isBoolean&&1!=h||(n.$shift(),(h=n).$unshift.apply(h,[].concat(p)))),k.inner_document=m.Document.$new(n,g(["header_footer","parent","cursor"],{header_footer:!1,parent:k.document,cursor:f})),(j=l["$nil?"]())===c||j._isBoolean&&1!=j?k.document.$attributes()["$[]="]("doctitle",l):c)},l.$text=function(){var a=this;return a.$apply_normal_subs(a.text).$strip()},l.$content=function(){var a,b,d,e=this;return e.style["$=="]("asciidoc")?e.inner_document.$convert():(a=(b=e.$text().$split(m.BlankLineRx)).$map,a._p=(d=function(a){var b,e,f=d._s||this;return null==f.style&&(f.style=c),null==a&&(a=c),(b=(e=f.style["$!"]())!==!1&&e!==c?e:f.style["$=="]("header"))===c||b._isBoolean&&1!=b?m.Inline.$new(f.$parent(),"quoted",a,g(["type"],{type:f.style})).$convert():a},d._s=e,d),a).call(b)},l.$to_s=j=function(){var b,e=d.call(arguments,0),f=this,g=j._p;return j._p=null,""+a.find_super_dispatcher(f,"to_s",j,g).apply(f,e).$to_s()+" - [text: "+f.text+", colspan: "+((b=f.colspan)!==!1&&b!==c?b:1)+", rowspan: "+((b=f.rowspan)!==!1&&b!==c?b:1)+", attributes: "+f.attributes+"]"},c&&"to_s"}(j.Table,j.AbstractNode),function(a,b){function d(){}var e=d=f(a,b,"ParserContext",d),i=e._proto,j=e._scope;return i.format=i.delimiter=i.delimiter_re=i.buffer=i.cell_specs=i.cell_open=i.last_cursor=i.table=i.current_row=i.col_count=i.col_visits=i.active_rowspans=i.linenum=c,e.$attr_accessor("table"),e.$attr_accessor("format"),e.$attr_reader("col_count"),e.$attr_accessor("buffer"),e.$attr_reader("delimiter"),e.$attr_reader("delimiter_re"),i.$initialize=function(a,b,d){var e,f,h,i=this;return null==d&&(d=g([],{})),i.reader=a,i.table=b,i.last_cursor=a.$cursor(),(e=i.format=d["$[]"]("format"))===c||e._isBoolean&&1!=e?i.format=j.Table._scope.DEFAULT_DATA_FORMAT:((e=j.Table._scope.DATA_FORMATS["$include?"](i.format))===c||e._isBoolean&&1!=e)&&i.$raise("Illegal table format: "+i.format),i.delimiter=function(){return f=(h=i.format["$=="]("psv"))?d["$has_key?"]("separator")["$!"]():h,(e=f!==!1&&f!==c?b.$document()["$nested?"]():f)===c||e._isBoolean&&1!=e?(e=d["$[]"]("separator"))!==!1&&e!==c?e:j.Table._scope.DEFAULT_DELIMITERS["$[]"](i.format):"!"
}(),i.delimiter_re=new RegExp(""+j.Regexp.$escape(i.delimiter)),i.col_count=function(){return(e=b.$columns()["$empty?"]())===c||e._isBoolean&&1!=e?b.$columns().$size():-1}(),i.buffer="",i.cell_specs=[],i.cell_open=!1,i.active_rowspans=[0],i.col_visits=0,i.current_row=[],i.linenum=-1},i["$starts_with_delimiter?"]=function(a){var b=this;return a["$start_with?"](b.delimiter)},i.$match_delimiter=function(a){var b=this;return b.delimiter_re.$match(a)},i.$skip_matched_delimiter=function(a,b){var d=this;return null==b&&(b=!1),d.buffer=""+d.buffer+function(){return b!==!1&&b!==c?a.$pre_match().$chop():a.$pre_match()}()+d.delimiter,a.$post_match()},i["$buffer_has_unclosed_quotes?"]=function(a){var b,d,e=this,f=c;return null==a&&(a=c),f=(""+e.buffer+a).$strip(),d=f["$start_with?"]('"'),b=d!==!1&&d!==c?f["$start_with?"]('""')["$!"]():d,b!==!1&&b!==c?f["$end_with?"]('"')["$!"]():b},i["$buffer_quoted?"]=function(){var a,b=this;return b.buffer=b.buffer.$lstrip(),a=b.buffer["$start_with?"]('"'),a!==!1&&a!==c?b.buffer["$start_with?"]('""')["$!"]():a},i.$take_cell_spec=function(){var a=this;return a.cell_specs.$shift()},i.$push_cell_spec=function(a){var b,d=this;return null==a&&(a=g([],{})),d.cell_specs["$<<"]((b=a)!==!1&&b!==c?b:g([],{})),c},i.$keep_cell_open=function(){var a=this;return a.cell_open=!0,c},i.$mark_cell_closed=function(){var a=this;return a.cell_open=!1,c},i["$cell_open?"]=function(){var a=this;return a.cell_open},i["$cell_closed?"]=function(){var a=this;return a.cell_open["$!"]()},i.$close_open_cell=function(a){var b,d=this;return null==a&&(a=g([],{})),d.$push_cell_spec(a),(b=d["$cell_open?"]())===c||b._isBoolean&&1!=b||d.$close_cell(!0),d.$advance(),c},i.$close_cell=function(a){var b,d,e,f=this,i=c,k=c,l=c;return null==a&&(a=!1),i=f.buffer.$strip(),f.buffer="",f.format["$=="]("psv")?(k=f.$take_cell_spec(),(b=k["$nil?"]())===c||b._isBoolean&&1!=b?(l=k.$fetch("repeatcol",1),k.$delete("repeatcol")):(f.$warn("asciidoctor: ERROR: "+f.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),k=g([],{}),l=1)):(k=c,l=1,f.format["$=="]("csv")&&(d=i["$empty?"]()["$!"](),(b=d!==!1&&d!==c?i["$include?"]('"'):d)===c||b._isBoolean&&1!=b||(d=i["$start_with?"]('"'),(b=d!==!1&&d!==c?i["$end_with?"]('"'):d)===c||b._isBoolean&&1!=b||(i=i["$[]"](h(1,-1,!0)).$strip()),i=i.$tr_s('"','"')))),(b=(d=1).$upto,b._p=(e=function(b){var d,f,g,h,m,n,o=e._s||this,p=c,q=c,r=c;return null==o.col_count&&(o.col_count=c),null==o.table&&(o.table=c),null==o.current_row&&(o.current_row=c),null==o.last_cursor&&(o.last_cursor=c),null==o.reader&&(o.reader=c),null==o.col_visits&&(o.col_visits=c),null==o.linenum&&(o.linenum=c),null==b&&(b=c),o.col_count["$=="](-1)?(o.table.$columns()["$<<"](p=j.Table._scope.Column.$new(o.table,o.current_row.$size()["$+"](b)["$-"](1))),f=(g=k!==!1&&k!==c)?k["$has_key?"]("colspan"):g,(d=f!==!1&&f!==c?(q=k["$[]"]("colspan").$to_i()["$-"](1))["$>"](0):f)===c||d._isBoolean&&1!=d||(d=(f=q).$times,d._p=(h=function(a){var d=h._s||this;return null==d.table&&(d.table=c),null==d.current_row&&(d.current_row=c),null==a&&(a=c),d.table.$columns()["$<<"](j.Table._scope.Column.$new(d.table,d.current_row.$size()["$+"](b)["$+"](a)["$-"](1)))},h._s=o,h),d).call(f)):p=o.table.$columns()["$[]"](o.current_row.$size()),r=j.Table._scope.Cell.$new(p,i,k,o.last_cursor),o.last_cursor=o.reader.$cursor(),((d=(g=r.$rowspan()["$!"]())!==!1&&g!==c?g:r.$rowspan()["$=="](1))===c||d._isBoolean&&1!=d)&&o.$activate_rowspan(r.$rowspan(),(d=r.$colspan())!==!1&&d!==c?d:1),o.col_visits=o.col_visits["$+"]((d=r.$colspan())!==!1&&d!==c?d:1),o.current_row["$<<"](r),g=o["$end_of_row?"](),(d=g!==!1&&g!==c?(m=(n=o.col_count["$=="](-1)["$!"]())!==!1&&n!==c?n:o.linenum["$>"](0))!==!1&&m!==c?m:(n=a!==!1&&a!==c)?b["$=="](l):n:g)===c||d._isBoolean&&1!=d?c:o.$close_row()},e._s=f,e),b).call(d,l),f.cell_open=!1,c},i.$close_row=function(){var a,b,d,e=this;return e.table.$rows().$body()["$<<"](e.current_row),e.col_count["$=="](-1)&&(e.col_count=e.col_visits),e.col_visits=0,e.current_row=[],e.active_rowspans.$shift(),a=0,b=e.active_rowspans,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,0),c},i.$activate_rowspan=function(a,b){var d,e,f,g=this;return(d=(e=1..$upto(a["$-"](1))).$each,d._p=(f=function(a){var d,e=f._s||this;return null==e.active_rowspans&&(e.active_rowspans=c),null==a&&(a=c),e.active_rowspans["$[]="](a,((d=e.active_rowspans["$[]"](a))!==!1&&d!==c?d:0)["$+"](b))},f._s=g,f),d).call(e),c},i["$end_of_row?"]=function(){var a,b=this;return(a=b.col_count["$=="](-1))!==!1&&a!==c?a:b.$effective_col_visits()["$=="](b.col_count)},i.$effective_col_visits=function(){var a=this;return a.col_visits["$+"](a.active_rowspans["$[]"](0))},i.$advance=function(){var a=this;return a.linenum=a.linenum["$+"](1)},c&&"advance"}(j.Table,null)}(b)}(Opal),function(a){var b,c=a.top,d=a,e=a.nil,f=(a.breaker,a.slice,a.gvars),g=a.module,h=a.hash2,i=a.range,j=a.hash;return null==f[":"]&&(f[":"]=e),((b=null!=d.RUBY_ENGINE)===e||b._isBoolean&&1!=b)&&a.cdecl(d,"RUBY_ENGINE","unknown"),a.cdecl(d,"RUBY_ENGINE_OPAL",d.RUBY_ENGINE["$=="]("opal")),a.cdecl(d,"RUBY_ENGINE_JRUBY",d.RUBY_ENGINE["$=="]("jruby")),a.cdecl(d,"RUBY_MIN_VERSION_1_9",d.RUBY_VERSION["$>="]("1.9")),a.cdecl(d,"RUBY_MIN_VERSION_2",d.RUBY_VERSION["$>="]("2")),d.RUBY_ENGINE["$=="]("opal"),f[":"].$unshift(d.File.$dirname("asciidoctor")),function(b){var c,d,f,k=g(b,"Asciidoctor"),l=(k._proto,k._scope),m=e,n=e;a.cdecl(l,"RUBY_ENGINE",null==(c=a.Object._scope.RUBY_ENGINE)?a.cm("RUBY_ENGINE"):c),function(b){var c=g(b,"SafeMode"),d=(c._proto,c._scope);a.cdecl(d,"UNSAFE",0),a.cdecl(d,"SAFE",1),a.cdecl(d,"SERVER",10),a.cdecl(d,"SECURE",20)}(k),function(b){{var c,d=g(b,"Compliance");d._proto,d._scope}d.keys=(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new(),function(a){a._scope,a._proto;return a.$attr("keys")}(d.$singleton_class()),a.defs(d,"$define",function(b,c){var d,f,g=this;return null==g.keys&&(g.keys=e),(d=(f=b["$=="]("keys"))!==!1&&f!==e?f:g["$respond_to?"](b))===e||d._isBoolean&&1!=d||g.$raise(null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d,"illegal key name: "+b),g.$instance_variable_set("@"+b,c),function(a){a._scope,a._proto;return a}(g.$singleton_class()).$send("attr_accessor",b),g.keys["$<<"](b)}),d.$define("block_terminates_paragraph",!0),d.$define("strict_verbatim_paragraphs",!0),d.$define("underline_style_section_titles",!0),d.$define("unwrap_standalone_preamble",!0),d.$define("attribute_missing","skip"),d.$define("attribute_undefined","drop-line"),d.$define("shorthand_property_syntax",!0),d.$define("unique_id_start_index",2),d.$define("markdown_syntax",!0)}(k),a.cdecl(l,"ROOT_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$dirname((null==(c=a.Object._scope.File)?a.cm("File"):c).$dirname((null==(c=a.Object._scope.File)?a.cm("File"):c).$expand_path("asciidoctor")))),a.cdecl(l,"LIB_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$join(l.ROOT_PATH,"lib")),a.cdecl(l,"DATA_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$join(l.ROOT_PATH,"data"));try{a.cdecl(l,"USER_HOME",(null==(c=a.Object._scope.Dir)?a.cm("Dir"):c).$home())}catch(o){a.cdecl(l,"USER_HOME",(c=(null==(d=a.Object._scope.ENV)?a.cm("ENV"):d)["$[]"]("HOME"))!==!1&&c!==e?c:(null==(d=a.Object._scope.Dir)?a.cm("Dir"):d).$pwd())}a.cdecl(l,"COERCE_ENCODING",(c=(null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)["$!"](),c!==!1&&c!==e?null==(d=a.Object._scope.RUBY_MIN_VERSION_1_9)?a.cm("RUBY_MIN_VERSION_1_9"):d:c)),a.cdecl(l,"FORCE_ENCODING",(c=l.COERCE_ENCODING,c!==!1&&c!==e?(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d).$default_external()["$=="]((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8)["$!"]():c)),a.cdecl(l,"BOM_BYTES_UTF_8","ï»¿".$bytes().$to_a()),a.cdecl(l,"BOM_BYTES_UTF_16LE","ÿþ".$bytes().$to_a()),a.cdecl(l,"BOM_BYTES_UTF_16BE","þÿ".$bytes().$to_a()),a.cdecl(l,"FORCE_UNICODE_LINE_LENGTH",(null==(c=a.Object._scope.RUBY_MIN_VERSION_1_9)?a.cm("RUBY_MIN_VERSION_1_9"):c)["$!"]()),a.cdecl(l,"SUPPORTS_GSUB_RESULT_HASH",(c=null==(d=a.Object._scope.RUBY_MIN_VERSION_1_9)?a.cm("RUBY_MIN_VERSION_1_9"):d,c!==!1&&c!==e?(null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)["$!"]():c)),a.cdecl(l,"EOL","\n"),a.cdecl(l,"NULL","\x00"),a.cdecl(l,"TAB","	"),a.cdecl(l,"TAB_PATTERN",/\t/),a.cdecl(l,"DEFAULT_DOCTYPE","article"),a.cdecl(l,"DEFAULT_BACKEND","html5"),a.cdecl(l,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),a.cdecl(l,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(l,"BACKEND_ALIASES",h(["html","docbook"],{html:"html5",docbook:"docbook5"})),a.cdecl(l,"DEFAULT_PAGE_WIDTHS",h(["docbook"],{docbook:425})),a.cdecl(l,"DEFAULT_EXTENSIONS",h(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),a.cdecl(l,"ASCIIDOC_EXTENSIONS",h([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),a.cdecl(l,"SECTION_LEVELS",h(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),a.cdecl(l,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),a.cdecl(l,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),a.cdecl(l,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),a.cdecl(l,"DELIMITED_BLOCKS",h(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],",===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],":===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"!===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"////":["comment",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"```":["fenced_code",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()]})),a.cdecl(l,"DELIMITED_BLOCK_LEADERS",(c=(d=l.DELIMITED_BLOCKS.$keys()).$map,c._p=(f=function(a){f._s||this;return null==a&&(a=e),a["$[]"](i(0,1,!1))},f._s=k,f),c).call(d).$to_set()),a.cdecl(l,"LAYOUT_BREAK_LINES",h(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),a.cdecl(l,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),a.cdecl(l,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),a.cdecl(l,"ORDERED_LIST_KEYWORDS",h(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),a.cdecl(l,"LIST_CONTINUATION","+"),a.cdecl(l,"LINE_BREAK"," +"),a.cdecl(l,"LINE_CONTINUATION"," \\"),a.cdecl(l,"LINE_CONTINUATION_LEGACY"," +"),a.cdecl(l,"BLOCK_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),a.cdecl(l,"INLINE_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),a.cdecl(l,"FLEXIBLE_ATTRIBUTES",["sectnums"]),l.RUBY_ENGINE["$=="]("opal")&&(a.cdecl(l,"CC_ALPHA","a-zA-Z"),a.cdecl(l,"CG_ALPHA","[a-zA-Z]"),a.cdecl(l,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(l,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(l,"CG_BLANK","[ \\t]"),a.cdecl(l,"CC_EOL","(?=\\n|$)"),a.cdecl(l,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(l,"CC_ALL","[\\s\\S]"),a.cdecl(l,"CC_WORD","a-zA-Z0-9_"),a.cdecl(l,"CG_WORD","[a-zA-Z0-9_]")),a.cdecl(l,"AuthorInfoLineRx",new RegExp("^("+l.CG_WORD+"["+l.CC_WORD+"\\-'.]*)(?: +("+l.CG_WORD+"["+l.CC_WORD+"\\-'.]*))?(?: +("+l.CG_WORD+"["+l.CC_WORD+"\\-'.]*))?(?: +<([^>]+)>)?$")),a.cdecl(l,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),a.cdecl(l,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),a.cdecl(l,"ManpageNamePurposeRx",new RegExp("^(.*?)"+l.CG_BLANK+"+-"+l.CG_BLANK+"+(.*)$")),a.cdecl(l,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),a.cdecl(l,"EvalExpressionRx",new RegExp("^(\\S.*?)"+l.CG_BLANK+"*(==|!=|<=|>=|<|>)"+l.CG_BLANK+"*(\\S.*)$")),a.cdecl(l,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),a.cdecl(l,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),a.cdecl(l,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+l.CG_BLANK+"+(.*))?$")),a.cdecl(l,"InvalidAttributeNameCharsRx",/[^\w\-]/),a.cdecl(l,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),a.cdecl(l,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),a.cdecl(l,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+l.CC_ALPHA+":_]["+l.CC_WORD+":.-]*)(?:,"+l.CG_BLANK+"*(\\S.*))?)\\]\\]$")),a.cdecl(l,"BlockAttributeListRx",new RegExp("^\\[(|"+l.CG_BLANK+"*["+l.CC_WORD+"\\{,.#\"'%].*)\\]$")),a.cdecl(l,"BlockAttributeLineRx",new RegExp("^\\[(|"+l.CG_BLANK+"*["+l.CC_WORD+"\\{,.#\"'%].*|\\[(?:|["+l.CC_ALPHA+":_]["+l.CC_WORD+":.-]*(?:,"+l.CG_BLANK+"*\\S.*)?)\\])\\]$")),a.cdecl(l,"BlockTitleRx",/^\.([^\s.].*)$/),a.cdecl(l,"AdmonitionParagraphRx",new RegExp("^("+l.ADMONITION_STYLES.$to_a()["$*"]("|")+"):"+l.CG_BLANK)),a.cdecl(l,"LiteralParagraphRx",new RegExp("^("+l.CG_BLANK+"+.*)$")),a.cdecl(l,"CommentBlockRx",/^\/{4,}$/),a.cdecl(l,"CommentLineRx",/^\/\/(?:[^\/]|$)/),a.cdecl(l,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+l.CG_BLANK+"+(\\S.*?)(?:"+l.CG_BLANK+"+\\1)?$")),a.cdecl(l,"SetextSectionTitleRx",new RegExp("^((?=.*"+l.CG_WORD+"+.*)[^.].*?)$")),a.cdecl(l,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),a.cdecl(l,"InlineSectionAnchorRx",new RegExp("^(.*?)"+l.CG_BLANK+"+(\\\\)?\\[\\[(["+l.CC_ALPHA+":_]["+l.CC_WORD+":.-]*)(?:,"+l.CG_BLANK+"*(\\S.*?))?\\]\\]$")),a.cdecl(l,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+l.CC_WORD+"]+?")),a.cdecl(l,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),a.cdecl(l,"AnyListRx",new RegExp("^(?:<?\\d+>"+l.CG_BLANK+"+"+l.CG_GRAPH+"|"+l.CG_BLANK+"*(?:-|(?:\\*|\\.){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+l.CG_BLANK+"+"+l.CG_GRAPH+"|"+l.CG_BLANK+"*.*?(?::{2,4}|;;)(?:"+l.CG_BLANK+"+"+l.CG_GRAPH+"|$))")),a.cdecl(l,"UnorderedListRx",new RegExp("^"+l.CG_BLANK+"*(-|\\*{1,5})"+l.CG_BLANK+"+(.*)$")),a.cdecl(l,"OrderedListRx",new RegExp("^"+l.CG_BLANK+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+l.CG_BLANK+"+(.*)$")),a.cdecl(l,"OrderedListMarkerRxMap",h(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),a.cdecl(l,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+l.CG_BLANK+"*(.*?)(:{2,4}|;;)(?:"+l.CG_BLANK+"+(.*))?$")),a.cdecl(l,"DefinitionListSiblingRx",h(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+l.CG_BLANK+"*((?:.*[^:])?)(::)(?:"+l.CG_BLANK+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+l.CG_BLANK+"*((?:.*[^:])?)(:::)(?:"+l.CG_BLANK+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+l.CG_BLANK+"*((?:.*[^:])?)(::::)(?:"+l.CG_BLANK+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+l.CG_BLANK+"*(.*)(;;)(?:"+l.CG_BLANK+"+(.*))?$")})),a.cdecl(l,"CalloutListRx",new RegExp("^<?(\\d+)>"+l.CG_BLANK+"+(.*)")),a.cdecl(l,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),a.cdecl(l,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),a.cdecl(l,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+l.CC_EOL+")")),a.cdecl(l,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+l.CC_EOL+")")),a.cdecl(l,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+l.CC_EOL+")"),a.cdecl(l,"ListRxMap",h(["ulist","olist","dlist","colist"],{ulist:l.UnorderedListRx,olist:l.OrderedListRx,dlist:l.DefinitionListRx,colist:l.CalloutListRx})),a.cdecl(l,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),a.cdecl(l,"CellSpecStartRx",new RegExp("^"+l.CG_BLANK+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(l,"CellSpecEndRx",new RegExp(""+l.CG_BLANK+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(l,"GenericBlockMacroRx",new RegExp("^("+l.CG_WORD+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),a.cdecl(l,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),a.cdecl(l,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),a.cdecl(l,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+l.CC_ALPHA+":_]["+l.CC_WORD+":.-]*)(?:,"+l.CG_BLANK+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),a.cdecl(l,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+l.CC_WORD+":]["+l.CC_WORD+":.-]*?)\\]\\]\\]")),a.cdecl(l,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+l.CG_WORD+"["+l.CC_WORD+".%+-]*@"+l.CG_ALNUM+"["+l.CC_ALNUM+".-]*\\."+l.CG_ALPHA+"{2,4}\\b")),a.cdecl(l,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+l.CC_ALL+"*?[^\\\\])\\]")),a.cdecl(l,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),a.cdecl(l,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+l.CC_ALL+"*?[^\\\\])\\]|\\(\\(("+l.CC_ALL+"+?)\\)\\)(?!\\)))")),a.cdecl(l,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),a.cdecl(l,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+l.CG_BLANK+"*[^\\1])")),a.cdecl(l,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),a.cdecl(l,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),a.cdecl(l,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+l.CC_ALL+"*?[^\\\\])\\]")),a.cdecl(l,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+l.CG_WORD+"|"+l.CG_WORD+".*?\\S)\\["+l.CG_BLANK+"*(.+?)?\\]")),a.cdecl(l,"MenuInlineRx",new RegExp('\\\\?"('+l.CG_WORD+'[^"]*?'+l.CG_BLANK+"*&gt;"+l.CG_BLANK+'*[^" \\t][^"]*)"')),a.cdecl(l,"PassInlineRx",j(!1,["+","`",new RegExp("(^|[^"+l.CC_WORD+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+l.CC_ALL+"*?\\S)\\4)(?!"+l.CG_WORD+")")],!0,["`",e,new RegExp("(^|[^`"+l.CC_WORD+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+l.CC_ALL+"*?\\S)\\4)(?![`"+l.CC_WORD+"])")])),a.cdecl(l,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+l.CC_ALL+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+l.CC_ALL+"*?[^\\\\])\\])")),a.cdecl(l,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+l.CC_WORD+'":]'+l.CC_ALL+"*?)&gt;&gt;|xref:(["+l.CC_WORD+'":]'+l.CC_ALL+"*?)\\[("+l.CC_ALL+"*?)\\])")),l.RUBY_ENGINE["$=="]("opal")&&a.cdecl(l,"LineBreakRx",/^(.*)[ \t]\+$/m),a.cdecl(l,"LayoutBreakLineRx",/^('|<){3,}$/),a.cdecl(l,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),a.cdecl(l,"BlankLineRx",new RegExp("^"+l.CG_BLANK+"*\\n")),a.cdecl(l,"DataDelimiterRx",/,|;/),a.cdecl(l,"DigitsRx",/^\d+$/),a.cdecl(l,"DoubleQuotedRx",/^("|)(.*)\1$/),a.cdecl(l,"DoubleQuotedMultiRx",new RegExp('^("|)('+l.CC_ALL+"*)\\1$")),a.cdecl(l,"TrailingDigitsRx",/\d+$/),a.cdecl(l,"EscapedSpaceRx",new RegExp("\\\\("+l.CG_BLANK+")")),a.cdecl(l,"SpaceDelimiterRx",new RegExp("([^\\\\])"+l.CG_BLANK+"+")),a.cdecl(l,"SubModifierSniffRx",/[+-]/),a.cdecl(l,"UnicodeCharScanRx",function(){return l.RUBY_ENGINE["$=="]("opal")?e:e}()),a.cdecl(l,"UriSniffRx",new RegExp("^"+l.CG_ALPHA+"["+l.CC_ALNUM+".+-]+:/{0,2}")),a.cdecl(l,"UriTerminator",/[);:]$/),a.cdecl(l,"XmlSanitizeRx",/<[^>]+>/),a.cdecl(l,"INTRINSIC_ATTRIBUTES",h(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),m=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+l.CC_ALL+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+l.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+l.CC_ALL+"*?\\S)\\*(?!"+l.CG_WORD+")")],["double","constrained",new RegExp("(^|[^"+l.CC_WORD+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+l.CC_ALL+'*?\\S)`"(?!'+l.CG_WORD+")")],["single","constrained",new RegExp("(^|[^"+l.CC_WORD+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+l.CC_ALL+"*?\\S)`'(?!"+l.CG_WORD+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+l.CC_ALL+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+l.CC_WORD+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+l.CC_ALL+"*?\\S)`(?!["+l.CC_WORD+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+l.CC_ALL+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+l.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+l.CC_ALL+"*?\\S)_(?!"+l.CG_WORD+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+l.CC_ALL+"+?)##")],["mark","constrained",new RegExp("(^|[^"+l.CC_WORD+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+l.CC_ALL+"*?\\S)#(?!"+l.CG_WORD+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],n=m.$dup(),n["$[]="](2,["double","constrained",new RegExp("(^|[^"+l.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+l.CC_ALL+"*?\\S)''(?!"+l.CG_WORD+")")]),n["$[]="](3,["single","constrained",new RegExp("(^|[^"+l.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+l.CC_ALL+"*?\\S)'(?!"+l.CG_WORD+")")]),n["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+l.CC_ALL+"+?)\\+\\+")]),n["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+l.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+l.CC_ALL+"*?\\S)\\+(?!"+l.CG_WORD+")")]),n.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+l.CC_WORD+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+l.CC_ALL+"*?\\S)'(?!"+l.CG_WORD+")")]),a.cdecl(l,"QUOTE_SUBS",j(!1,m,!0,n)),m=e,n=e,a.cdecl(l,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+l.CG_WORD+")\\\\?--(?="+l.CG_WORD+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+l.CG_ALNUM+")\\\\?'(?="+l.CG_ALPHA+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]),function(b){{var c=b._scope;b._proto}return b._proto.$load=function(b,d){var f,g,i,j,k,l,m,n,o=this,p=e,q=e,r=e,s=e,t=e,u=e,v=e,w=e,x=e,y=e,z=e,A=e;null==d&&(d=h([],{}));try{if(d=d.$dup(),(f=p=d["$[]"]("timings"))===e||f._isBoolean&&1!=f||p.$start("read"),q=d["$[]="]("attributes",function(){return(f=(r=d["$[]"]("attributes"))["$!"]())===e||f._isBoolean&&1!=f?(f=(g=(null==(i=a.Object._scope.Hash)?a.cm("Hash"):i)["$==="](r))!==!1&&g!==e?g:(i=null==(j=a.Object._scope.RUBY_ENGINE_JRUBY)?a.cm("RUBY_ENGINE_JRUBY"):j,i!==!1&&i!==e?(null==(j=a.Object._scope.Java)?a.cm("Java"):j)._scope.JavaUtil._scope.Map["$==="](r):i))===e||f._isBoolean&&1!=f?(f=(null==(g=a.Object._scope.Array)?a.cm("Array"):g)["$==="](r))===e||f._isBoolean&&1!=f?(f=(null==(i=a.Object._scope.String)?a.cm("String"):i)["$==="](r))===e||f._isBoolean&&1!=f?(j=r["$respond_to?"]("keys"),(f=j!==!1&&j!==e?r["$respond_to?"]("[]"):j)===e||f._isBoolean&&1!=f?o.$raise(null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f,"illegal type for attributes option: "+r.$class().$ancestors()):(t=r,r=h([],{}),(f=(j=t.$keys()).$each,f._p=(m=function(a){m._s||this;return null==a&&(a=e),r["$[]="](a,t["$[]"](a))},m._s=o,m),f).call(j),r)):(s=function(){return(f=null==(i=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):i)===e||f._isBoolean&&1!=f?"\\1":"$1"}(),r=r.$gsub(c.SpaceDelimiterRx,""+s+c.NULL).$gsub(c.EscapedSpaceRx,s),(f=(i=r.$split(c.NULL)).$inject,f._p=(l=function(b,c){var d,f=(l._s||this,e),g=e;return null==b&&(b=e),null==c&&(c=e),d=a.to_ary(c.$split("=",2)),f=null==d[0]?e:d[0],g=null==d[1]?e:d[1],b["$[]="](f,(d=g)!==!1&&d!==e?d:""),b},l._s=o,l),f).call(i,h([],{}))):(f=(g=r).$inject,f._p=(k=function(b,c){var d,f=(k._s||this,e),g=e;return null==b&&(b=e),null==c&&(c=e),d=a.to_ary(c.$split("=",2)),f=null==d[0]?e:d[0],g=null==d[1]?e:d[1],b["$[]="](f,(d=g)!==!1&&d!==e?d:""),b},k._s=o,k),f).call(g,h([],{})):r.$dup():h([],{})}()),u=e,(f=(null==(n=a.Object._scope.File)?a.cm("File"):n)["$==="](b))===e||f._isBoolean&&1!=f)if((f=b["$respond_to?"]("readlines"))===e||f._isBoolean&&1!=f)(f=(null==(n=a.Object._scope.String)?a.cm("String"):n)["$==="](b))===e||f._isBoolean&&1!=f?(f=(null==(n=a.Object._scope.Array)?a.cm("Array"):n)["$==="](b))===e||f._isBoolean&&1!=f?o.$raise(null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f,"unsupported input type: "+b.$class()):u=b.$dup():u=b.$lines().$entries();else{try{b.$rewind()}catch(B){}u=b.$readlines()}else v=(null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path(b.$path()),w=b.$mtime(),u=b.$readlines(),q["$[]="]("docfile",v),q["$[]="]("docdir",(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(v)),q["$[]="]("docname",(null==(f=a.Object._scope.File)?a.cm("File"):f).$basename(v,(null==(f=a.Object._scope.File)?a.cm("File"):f).$extname(v))),q["$[]="]("docdate",x=w.$strftime("%Y-%m-%d")),q["$[]="]("doctime",y=w.$strftime("%H:%M:%S %Z")),q["$[]="]("docdatetime",""+x+" "+y);return p!==!1&&p!==e&&(p.$record("read"),p.$start("parse")),z=d["$[]"]("parse")["$=="](!1)?c.Document.$new(u,d):c.Document.$new(u,d).$parse(),p!==!1&&p!==e&&p.$record("parse"),z}catch(B){return A=B,o.$raise(A.$class(),"asciidoctor: FAILED: "+q.$fetch("docfile","<stdin>")+": Failed to parse source, "+A.$message())}},b._proto.$load_file=function(b,c){var d,f=this;return null==c&&(c=h([],{})),f.$load((null==(d=a.Object._scope.File)?a.cm("File"):d).$new((d=b)!==!1&&d!==e?d:""),c)},b._proto.$convert=function(b,d){var f,g,i,j,k,l,m=this,n=e,o=e,p=e,q=e,r=e,s=e,t=e,u=e,v=e,w=e,x=e,y=e,z=e,A=e,B=e,C=e,D=e,E=e,F=e,G=e,H=e,I=e,J=e,K=e,L=e;if(null==d&&(d=h([],{})),d=d.$dup(),n=d.$delete("to_file"),o=d.$delete("to_dir"),p=(f=d.$delete("mkdirs"))!==!1&&f!==e?f:!1,q=d["$[]"]("timings"),r=n,(!0)["$==="](r)||e["$==="](r))f=o["$!"](),s=f!==!1&&f!==e?(null==(g=a.Object._scope.File)?a.cm("File"):g)["$==="](b):f,t=!1,u=o,n=e;else if((!1)["$==="](r))s=!1,t=!1,u=!1,n=e;else{if("/dev/null"["$==="](r))return m.$load(b,d);s=!1,t=n["$respond_to?"]("write"),u=function(){return t!==!1&&t!==e?!1:n}()}return((f=d["$key?"]("header_footer"))===e||f._isBoolean&&1!=f)&&((f=(g=s)!==!1&&g!==e?g:u)===e||f._isBoolean&&1!=f||d["$[]="]("header_footer",!0)),s!==!1&&s!==e?(v=(null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path(b.$path()),d["$[]="]("to_dir",w=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(v))):u!==!1&&u!==e?o!==!1&&o!==e?n!==!1&&n!==e?d["$[]="]("to_dir",(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname((null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path((null==(f=a.Object._scope.File)?a.cm("File"):f).$join(o,n)))):d["$[]="]("to_dir",(null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path(o)):n!==!1&&n!==e&&d["$[]="]("to_dir",(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname((null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path(n))):d["$[]="]("to_dir",e),x=m.$load(b,d),s!==!1&&s!==e?(y=(null==(f=a.Object._scope.File)?a.cm("File"):f).$join(w,""+x.$attributes()["$[]"]("docname")+x.$attributes()["$[]"]("outfilesuffix")),y["$=="](v)&&m.$raise(null==(f=a.Object._scope.IOError)?a.cm("IOError"):f,"input file and output file cannot be the same: "+y)):u!==!1&&u!==e?(z=function(){return(null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path((f=d["$has_key?"]("base_dir"))===e||f._isBoolean&&1!=f?(null==(f=a.Object._scope.Dir)?a.cm("Dir"):f).$pwd():d["$[]"]("base_dir"))}(),A=function(){return x.$safe()["$>="](c.SafeMode._scope.SAFE)?z:e}(),o!==!1&&o!==e?(w=x.$normalize_system_path(o,z,A,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),n!==!1&&n!==e?(y=x.$normalize_system_path(n,w,e,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),w=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(y)):y=(null==(f=a.Object._scope.File)?a.cm("File"):f).$join(w,""+x.$attributes()["$[]"]("docname")+x.$attributes()["$[]"]("outfilesuffix"))):n!==!1&&n!==e&&(y=x.$normalize_system_path(n,z,A,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),w=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(y)),((f=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$directory?"](w))===e||f._isBoolean&&1!=f)&&(p!==!1&&p!==e?(null==(f=a.Object._scope.FileUtils)?a.cm("FileUtils"):f).$mkdir_p(w):m.$raise(null==(f=a.Object._scope.IOError)?a.cm("IOError"):f,"target directory does not exist: "+o))):(y=n,w=e),q!==!1&&q!==e&&q.$start("convert"),B=function(){return(f=(g=y!==!1&&y!==e)?t["$!"]():g)===e||f._isBoolean&&1!=f?h([],{}):h(["outfile","outdir"],{outfile:y,outdir:w})}(),C=x.$convert(B),q!==!1&&q!==e&&q.$record("convert"),y!==!1&&y!==e?(q!==!1&&q!==e&&q.$start("write"),x.$write(C,y),q!==!1&&q!==e&&q.$record("write"),k=t["$!"](),j=k!==!1&&k!==e?x.$safe()["$<"](c.SafeMode._scope.SECURE):k,i=j!==!1&&j!==e?x["$attr?"]("basebackend-html"):j,g=i!==!1&&i!==e?x["$attr?"]("linkcss"):i,(f=g!==!1&&g!==e?x["$attr?"]("copycss"):g)===e||f._isBoolean&&1!=f||(D=c.DEFAULT_STYLESHEET_KEYS["$include?"](E=x.$attr("stylesheet")),f=D["$!"](),F=f!==!1&&f!==e?E["$nil_or_empty?"]()["$!"]():f,f=x["$attr?"]("source-highlighter","coderay"),G=f!==!1&&f!==e?x.$attr("coderay-css","class")["$=="]("class"):f,f=x["$attr?"]("source-highlighter","pygments"),H=f!==!1&&f!==e?x.$attr("pygments-css","class")["$=="]("class"):f,(f=(g=(i=(j=D)!==!1&&j!==e?j:F)!==!1&&i!==e?i:G)!==!1&&g!==e?g:H)===e||f._isBoolean&&1!=f||(I=x.$normalize_system_path(x.$attr("stylesdir"),w,function(){return x.$safe()["$>="](c.SafeMode._scope.SAFE)?w:e}()),p!==!1&&p!==e&&c.Helpers.$mkdir_p(I),D!==!1&&D!==e?c.Stylesheets.$instance().$write_primary_stylesheet(I):F!==!1&&F!==e&&(J=x.$normalize_system_path((f=(J=x.$attr("copycss"))["$empty?"]())===e||f._isBoolean&&1!=f?J:E),K=x.$normalize_system_path(E,I,function(){return x.$safe()["$>="](c.SafeMode._scope.SAFE)?w:e}()),((f=(g=J["$=="](K))!==!1&&g!==e?g:(L=x.$read_asset(J))["$nil?"]())===e||f._isBoolean&&1!=f)&&(f=(g=null==(i=a.Object._scope.File)?a.cm("File"):i).$open,f._p=(l=function(a){l._s||this;return null==a&&(a=e),a.$write(L)},l._s=m,l),f).call(g,K,"w")),G!==!1&&G!==e?c.Stylesheets.$instance().$write_coderay_stylesheet(I):H!==!1&&H!==e&&c.Stylesheets.$instance().$write_pygments_stylesheet(I,x.$attr("pygments-style")))),x):C},b._proto.$render=b._proto.$convert,b._proto.$convert_file=function(b,c){var d,f=this;return null==c&&(c=h([],{})),f.$convert((null==(d=a.Object._scope.File)?a.cm("File"):d).$new((d=b)!==!1&&d!==e?d:""),c)},b._proto.$render_file=b._proto.$convert_file}(k.$singleton_class()),l.RUBY_ENGINE["$=="]("opal")}(c),(b=d.RUBY_ENGINE_OPAL)!==e&&(!b._isBoolean||1==b),!0}(Opal),require("./asciidoctor-docbook.min.js")(Opal),loadExtensions&&require("./asciidoctor-extensions.min.js")(Opal),Opal.Asciidoctor}}};
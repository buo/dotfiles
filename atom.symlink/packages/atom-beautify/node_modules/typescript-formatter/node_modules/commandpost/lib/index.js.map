{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":["create","exec"],"mappings":"AAAA,YAAY,CAAC;AAEb,IAAI,CAAC;IAED,OAAO,CAAC,oBAAoB,CAAC,CAAC,OAAO,EAAE,CAAC;AAC5C,CAAE;AAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACb,CAAC;AACD,IAAI,CAAC;IACD,EAAE,CAAC,CAAC,OAAO,OAAO,KAAK,WAAW,CAAC,CAAC,CAAC;QACjC,OAAO,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtC,CAAC;AACL,CAAE;AAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACb,CAAC;AAED,wBAAoB,WAAW,CAAC,CAAA;AAOhC,gBAAiC,OAAe;IAC5CA,YAAYA,CAACA;IAEbA,MAAMA,CAACA,IAAIA,iBAAOA,CAAWA,OAAOA,CAACA,CAACA;AAC1CA,CAACA;AAJe,cAAM,SAIrB,CAAA;AAQD,cAAqB,GAAsB,EAAE,IAAc;IACvDC,YAAYA,CAACA;IAEbA,MAAMA,CAACA,OAAOA;SACTA,OAAOA,CAACA,IAAIA,CAACA;SACbA,IAAIA,CAACA;QACFA,IAAIA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA;QAErBA,MAAMA,CAACA,GAAGA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;IAC3BA,CAACA,CAACA,CAACA;AACXA,CAACA;AAVe,YAAI,OAUnB,CAAA","sourcesContent":["\"use strict\";\n\ntry {\n    // optional\n    require(\"source-map-support\").install();\n} catch (e) {\n}\ntry {\n    if (typeof Promise === \"undefined\") {\n        require(\"es6-promise\").polyfill();\n    }\n} catch (e) {\n}\n\nimport Command from \"./command\";\n\n/**\n * Create new top level command.\n * @param cmdName\n * @returns {Command<Opt, Arg>}\n */\nexport function create<Opt, Arg>(cmdName: string): Command<Opt, Arg> {\n    \"use strict\";\n\n    return new Command<Opt, Arg>(cmdName);\n}\n\n/**\n * exec parsing and call callback.\n * @param cmd it created by create function.\n * @param argv pass process.argv\n * @returns {Promise<{}>}\n */\nexport function exec(cmd: Command<any, any>, argv: string[]): Promise<{}> {\n    \"use strict\";\n\n    return Promise\n        .resolve(null)\n        .then(() => {\n            argv = argv.slice(2);\n            // cmd.parse throw an exception often.\n            return cmd.parse(argv);\n        });\n}\n"]}